{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/vector_map/gesture_handler.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nvar _ln = Math.log;\nvar _LN2 = Math.LN2;\nexport function GestureHandler(params) {\n  this._projection = params.projection;\n  this._renderer = params.renderer;\n  this._x = this._y = 0;\n\n  this._subscribeToTracker(params.tracker);\n}\nGestureHandler.prototype = {\n  constructor: GestureHandler,\n  dispose: function dispose() {\n    this._offTracker();\n\n    this._offTracker = null;\n  },\n  _subscribeToTracker: function _subscribeToTracker(tracker) {\n    var that = this;\n    var isActive = false;\n    that._offTracker = tracker.on({\n      start: function start(arg) {\n        isActive = \"control-bar\" !== arg.data.name;\n\n        if (isActive) {\n          that._processStart(arg);\n        }\n      },\n      move: function move(arg) {\n        if (isActive) {\n          that._processMove(arg);\n        }\n      },\n      end: function end() {\n        if (isActive) {\n          that._processEnd();\n        }\n      },\n      zoom: function zoom(arg) {\n        that._processZoom(arg);\n      }\n    });\n  },\n  setInteraction: function setInteraction(options) {\n    this._processEnd();\n\n    this._centeringEnabled = options.centeringEnabled;\n    this._zoomingEnabled = options.zoomingEnabled;\n  },\n  _processStart: function _processStart(arg) {\n    if (this._centeringEnabled) {\n      this._x = arg.x;\n      this._y = arg.y;\n\n      this._projection.beginMoveCenter();\n    }\n  },\n  _processMove: function _processMove(arg) {\n    if (this._centeringEnabled) {\n      this._renderer.root.attr({\n        cursor: \"move\"\n      });\n\n      this._projection.moveCenter([this._x - arg.x, this._y - arg.y]);\n\n      this._x = arg.x;\n      this._y = arg.y;\n    }\n  },\n  _processEnd: function _processEnd() {\n    if (this._centeringEnabled) {\n      this._renderer.root.attr({\n        cursor: \"default\"\n      });\n\n      this._projection.endMoveCenter();\n    }\n  },\n  _processZoom: function _processZoom(arg) {\n    var delta;\n    var screenPosition;\n    var coords;\n\n    if (this._zoomingEnabled) {\n      if (arg.delta) {\n        delta = arg.delta;\n      } else if (arg.ratio) {\n        delta = _ln(arg.ratio) / _LN2;\n      }\n\n      if (this._centeringEnabled) {\n        screenPosition = this._renderer.getRootOffset();\n        screenPosition = [arg.x - screenPosition.left, arg.y - screenPosition.top];\n        coords = this._projection.fromScreenPoint(screenPosition);\n      }\n\n      this._projection.changeScaledZoom(delta);\n\n      if (this._centeringEnabled) {\n        this._projection.setCenterByPoint(coords, screenPosition);\n      }\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/viz/vector_map/gesture_handler.js"],"names":["_ln","Math","log","_LN2","LN2","GestureHandler","params","_projection","projection","_renderer","renderer","_x","_y","_subscribeToTracker","tracker","prototype","constructor","dispose","_offTracker","that","isActive","on","start","arg","data","name","_processStart","move","_processMove","end","_processEnd","zoom","_processZoom","setInteraction","options","_centeringEnabled","centeringEnabled","_zoomingEnabled","zoomingEnabled","x","y","beginMoveCenter","root","attr","cursor","moveCenter","endMoveCenter","delta","screenPosition","coords","ratio","getRootOffset","left","top","fromScreenPoint","changeScaledZoom","setCenterByPoint"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/viz/vector_map/gesture_handler.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nvar _ln = Math.log;\r\nvar _LN2 = Math.LN2;\r\nexport function GestureHandler(params) {\r\n    this._projection = params.projection;\r\n    this._renderer = params.renderer;\r\n    this._x = this._y = 0;\r\n    this._subscribeToTracker(params.tracker)\r\n}\r\nGestureHandler.prototype = {\r\n    constructor: GestureHandler,\r\n    dispose: function() {\r\n        this._offTracker();\r\n        this._offTracker = null\r\n    },\r\n    _subscribeToTracker: function(tracker) {\r\n        var that = this;\r\n        var isActive = false;\r\n        that._offTracker = tracker.on({\r\n            start: function(arg) {\r\n                isActive = \"control-bar\" !== arg.data.name;\r\n                if (isActive) {\r\n                    that._processStart(arg)\r\n                }\r\n            },\r\n            move: function(arg) {\r\n                if (isActive) {\r\n                    that._processMove(arg)\r\n                }\r\n            },\r\n            end: function() {\r\n                if (isActive) {\r\n                    that._processEnd()\r\n                }\r\n            },\r\n            zoom: function(arg) {\r\n                that._processZoom(arg)\r\n            }\r\n        })\r\n    },\r\n    setInteraction: function(options) {\r\n        this._processEnd();\r\n        this._centeringEnabled = options.centeringEnabled;\r\n        this._zoomingEnabled = options.zoomingEnabled\r\n    },\r\n    _processStart: function(arg) {\r\n        if (this._centeringEnabled) {\r\n            this._x = arg.x;\r\n            this._y = arg.y;\r\n            this._projection.beginMoveCenter()\r\n        }\r\n    },\r\n    _processMove: function(arg) {\r\n        if (this._centeringEnabled) {\r\n            this._renderer.root.attr({\r\n                cursor: \"move\"\r\n            });\r\n            this._projection.moveCenter([this._x - arg.x, this._y - arg.y]);\r\n            this._x = arg.x;\r\n            this._y = arg.y\r\n        }\r\n    },\r\n    _processEnd: function() {\r\n        if (this._centeringEnabled) {\r\n            this._renderer.root.attr({\r\n                cursor: \"default\"\r\n            });\r\n            this._projection.endMoveCenter()\r\n        }\r\n    },\r\n    _processZoom: function(arg) {\r\n        var delta;\r\n        var screenPosition;\r\n        var coords;\r\n        if (this._zoomingEnabled) {\r\n            if (arg.delta) {\r\n                delta = arg.delta\r\n            } else if (arg.ratio) {\r\n                delta = _ln(arg.ratio) / _LN2\r\n            }\r\n            if (this._centeringEnabled) {\r\n                screenPosition = this._renderer.getRootOffset();\r\n                screenPosition = [arg.x - screenPosition.left, arg.y - screenPosition.top];\r\n                coords = this._projection.fromScreenPoint(screenPosition)\r\n            }\r\n            this._projection.changeScaledZoom(delta);\r\n            if (this._centeringEnabled) {\r\n                this._projection.setCenterByPoint(coords, screenPosition)\r\n            }\r\n        }\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}