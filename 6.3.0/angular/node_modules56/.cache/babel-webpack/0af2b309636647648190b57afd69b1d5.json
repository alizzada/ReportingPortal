{"ast":null,"code":"/**\r\n * DevExtreme (esm/data/data_source/utils.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport ajaxUtils from \"../../core/utils/ajax\";\nimport Store from \"../abstract_store\";\nimport ArrayStore from \"../array_store\";\nimport { each, map } from \"../../core/utils/iterator\";\nimport CustomStore from \"../custom_store\";\nimport { extend } from \"../../core/utils/extend\";\nimport { isPlainObject } from \"../../core/utils/type\";\nimport dataUtils from \"../utils\";\nexport var CANCELED_TOKEN = \"canceled\";\nexport var isPending = function isPending(deferred) {\n  return \"pending\" === deferred.state();\n};\nexport var normalizeStoreLoadOptionAccessorArguments = function normalizeStoreLoadOptionAccessorArguments(originalArguments) {\n  switch (originalArguments.length) {\n    case 0:\n      return;\n\n    case 1:\n      return originalArguments[0];\n  }\n\n  return [].slice.call(originalArguments);\n};\n\nvar mapGroup = function mapGroup(group, level, mapper) {\n  return map(group, function (item) {\n    var restItem = _objectWithoutPropertiesLoose(item, [\"items\"]);\n\n    return _extends({}, restItem, {\n      items: mapRecursive(item.items, level - 1, mapper)\n    });\n  });\n};\n\nvar mapRecursive = function mapRecursive(items, level, mapper) {\n  if (!Array.isArray(items)) {\n    return items;\n  }\n\n  return level ? mapGroup(items, level, mapper) : map(items, mapper);\n};\n\nexport var mapDataRespectingGrouping = function mapDataRespectingGrouping(items, mapper, groupInfo) {\n  var level = groupInfo ? dataUtils.normalizeSortingInfo(groupInfo).length : 0;\n  return mapRecursive(items, level, mapper);\n};\nexport var normalizeLoadResult = function normalizeLoadResult(data, extra) {\n  var _data;\n\n  if (null !== (_data = data) && void 0 !== _data && _data.data) {\n    extra = data;\n    data = data.data;\n  }\n\n  if (!Array.isArray(data)) {\n    data = [data];\n  }\n\n  return {\n    data: data,\n    extra: extra\n  };\n};\n\nvar createCustomStoreFromLoadFunc = function createCustomStoreFromLoadFunc(options) {\n  var storeConfig = {};\n  each([\"useDefaultSearch\", \"key\", \"load\", \"loadMode\", \"cacheRawData\", \"byKey\", \"lookup\", \"totalCount\", \"insert\", \"update\", \"remove\"], function () {\n    storeConfig[this] = options[this];\n    delete options[this];\n  });\n  return new CustomStore(storeConfig);\n};\n\nvar createStoreFromConfig = function createStoreFromConfig(storeConfig) {\n  var alias = storeConfig.type;\n  delete storeConfig.type;\n  return Store.create(alias, storeConfig);\n};\n\nvar createCustomStoreFromUrl = function createCustomStoreFromUrl(url, normalizationOptions) {\n  return new CustomStore({\n    load: function load() {\n      return ajaxUtils.sendRequest({\n        url: url,\n        dataType: \"json\"\n      });\n    },\n    loadMode: null === normalizationOptions || void 0 === normalizationOptions ? void 0 : normalizationOptions.fromUrlLoadMode\n  });\n};\n\nexport var normalizeDataSourceOptions = function normalizeDataSourceOptions(options, normalizationOptions) {\n  var store;\n\n  if (\"string\" === typeof options) {\n    options = {\n      paginate: false,\n      store: createCustomStoreFromUrl(options, normalizationOptions)\n    };\n  }\n\n  if (void 0 === options) {\n    options = [];\n  }\n\n  if (Array.isArray(options) || options instanceof Store) {\n    options = {\n      store: options\n    };\n  } else {\n    options = extend({}, options);\n  }\n\n  if (void 0 === options.store) {\n    options.store = [];\n  }\n\n  store = options.store;\n\n  if (\"load\" in options) {\n    store = createCustomStoreFromLoadFunc(options);\n  } else if (Array.isArray(store)) {\n    store = new ArrayStore(store);\n  } else if (isPlainObject(store)) {\n    store = createStoreFromConfig(extend({}, store));\n  }\n\n  options.store = store;\n  return options;\n};","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/data/data_source/utils.js"],"names":["_extends","_objectWithoutPropertiesLoose","ajaxUtils","Store","ArrayStore","each","map","CustomStore","extend","isPlainObject","dataUtils","CANCELED_TOKEN","isPending","deferred","state","normalizeStoreLoadOptionAccessorArguments","originalArguments","length","slice","call","mapGroup","group","level","mapper","item","restItem","items","mapRecursive","Array","isArray","mapDataRespectingGrouping","groupInfo","normalizeSortingInfo","normalizeLoadResult","data","extra","_data","createCustomStoreFromLoadFunc","options","storeConfig","createStoreFromConfig","alias","type","create","createCustomStoreFromUrl","url","normalizationOptions","load","sendRequest","dataType","loadMode","fromUrlLoadMode","normalizeDataSourceOptions","store","paginate"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/data/data_source/utils.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport ajaxUtils from \"../../core/utils/ajax\";\r\nimport Store from \"../abstract_store\";\r\nimport ArrayStore from \"../array_store\";\r\nimport {\r\n    each,\r\n    map\r\n} from \"../../core/utils/iterator\";\r\nimport CustomStore from \"../custom_store\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    isPlainObject\r\n} from \"../../core/utils/type\";\r\nimport dataUtils from \"../utils\";\r\nexport var CANCELED_TOKEN = \"canceled\";\r\nexport var isPending = deferred => \"pending\" === deferred.state();\r\nexport var normalizeStoreLoadOptionAccessorArguments = originalArguments => {\r\n    switch (originalArguments.length) {\r\n        case 0:\r\n            return;\r\n        case 1:\r\n            return originalArguments[0]\r\n    }\r\n    return [].slice.call(originalArguments)\r\n};\r\nvar mapGroup = (group, level, mapper) => map(group, item => {\r\n    var restItem = _objectWithoutPropertiesLoose(item, [\"items\"]);\r\n    return _extends({}, restItem, {\r\n        items: mapRecursive(item.items, level - 1, mapper)\r\n    })\r\n});\r\nvar mapRecursive = (items, level, mapper) => {\r\n    if (!Array.isArray(items)) {\r\n        return items\r\n    }\r\n    return level ? mapGroup(items, level, mapper) : map(items, mapper)\r\n};\r\nexport var mapDataRespectingGrouping = (items, mapper, groupInfo) => {\r\n    var level = groupInfo ? dataUtils.normalizeSortingInfo(groupInfo).length : 0;\r\n    return mapRecursive(items, level, mapper)\r\n};\r\nexport var normalizeLoadResult = (data, extra) => {\r\n    var _data;\r\n    if (null !== (_data = data) && void 0 !== _data && _data.data) {\r\n        extra = data;\r\n        data = data.data\r\n    }\r\n    if (!Array.isArray(data)) {\r\n        data = [data]\r\n    }\r\n    return {\r\n        data: data,\r\n        extra: extra\r\n    }\r\n};\r\nvar createCustomStoreFromLoadFunc = options => {\r\n    var storeConfig = {};\r\n    each([\"useDefaultSearch\", \"key\", \"load\", \"loadMode\", \"cacheRawData\", \"byKey\", \"lookup\", \"totalCount\", \"insert\", \"update\", \"remove\"], (function() {\r\n        storeConfig[this] = options[this];\r\n        delete options[this]\r\n    }));\r\n    return new CustomStore(storeConfig)\r\n};\r\nvar createStoreFromConfig = storeConfig => {\r\n    var alias = storeConfig.type;\r\n    delete storeConfig.type;\r\n    return Store.create(alias, storeConfig)\r\n};\r\nvar createCustomStoreFromUrl = (url, normalizationOptions) => new CustomStore({\r\n    load: () => ajaxUtils.sendRequest({\r\n        url: url,\r\n        dataType: \"json\"\r\n    }),\r\n    loadMode: null === normalizationOptions || void 0 === normalizationOptions ? void 0 : normalizationOptions.fromUrlLoadMode\r\n});\r\nexport var normalizeDataSourceOptions = (options, normalizationOptions) => {\r\n    var store;\r\n    if (\"string\" === typeof options) {\r\n        options = {\r\n            paginate: false,\r\n            store: createCustomStoreFromUrl(options, normalizationOptions)\r\n        }\r\n    }\r\n    if (void 0 === options) {\r\n        options = []\r\n    }\r\n    if (Array.isArray(options) || options instanceof Store) {\r\n        options = {\r\n            store: options\r\n        }\r\n    } else {\r\n        options = extend({}, options)\r\n    }\r\n    if (void 0 === options.store) {\r\n        options.store = []\r\n    }\r\n    store = options.store;\r\n    if (\"load\" in options) {\r\n        store = createCustomStoreFromLoadFunc(options)\r\n    } else if (Array.isArray(store)) {\r\n        store = new ArrayStore(store)\r\n    } else if (isPlainObject(store)) {\r\n        store = createStoreFromConfig(extend({}, store))\r\n    }\r\n    options.store = store;\r\n    return options\r\n};\r\n"]},"metadata":{},"sourceType":"module"}