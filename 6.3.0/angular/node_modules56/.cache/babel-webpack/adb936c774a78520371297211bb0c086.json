{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/funnel/tracker.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport Funnel from \"./funnel\";\nimport { Tracker } from \"../components/tracker\";\nvar DATA_KEY_BASE = \"__funnel_data_\";\nimport { isDefined } from \"../../core/utils/type\";\nvar dataKeyModifier = 0;\nvar proto = Funnel.prototype;\nproto._eventsMap.onItemClick = {\n  name: \"itemClick\"\n};\nproto._eventsMap.onLegendClick = {\n  name: \"legendClick\"\n};\n\nvar getDataKey = function getDataKey() {\n  return DATA_KEY_BASE + dataKeyModifier++;\n};\n\nexport var plugin = {\n  name: \"tracker\",\n  init: function init() {\n    var that = this;\n    var dataKey = getDataKey();\n\n    var getProxyData = function getProxyData(e) {\n      var rootOffset = that._renderer.getRootOffset();\n\n      var x = Math.floor(e.pageX - rootOffset.left);\n      var y = Math.floor(e.pageY - rootOffset.top);\n      return that._hitTestTargets(x, y);\n    };\n\n    that._tracker = new Tracker({\n      widget: that,\n      root: that._renderer.root,\n      getData: function getData(e, tooltipData) {\n        var target = e.target;\n        var data = target[dataKey];\n\n        if (isDefined(data)) {\n          return data;\n        }\n\n        var proxyData = getProxyData(e);\n\n        if (tooltipData && proxyData && \"inside-label\" !== proxyData.type) {\n          return;\n        }\n\n        return proxyData && proxyData.id;\n      },\n      getNode: function getNode(index) {\n        return that._items[index];\n      },\n      click: function click(e) {\n        var proxyData = getProxyData(e.event);\n        var dataType = proxyData && proxyData.type;\n        var event = \"legend\" === dataType ? \"legendClick\" : \"itemClick\";\n\n        that._eventTrigger(event, {\n          item: e.node,\n          event: e.event\n        });\n      }\n    });\n    this._dataKey = dataKey;\n  },\n  dispose: function dispose() {\n    this._tracker.dispose();\n  },\n  extenders: {\n    _change_TILING: function _change_TILING() {\n      var dataKey = this._dataKey;\n\n      this._items.forEach(function (item, index) {\n        item.element.data(dataKey, index);\n      });\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/viz/funnel/tracker.js"],"names":["Funnel","Tracker","DATA_KEY_BASE","isDefined","dataKeyModifier","proto","prototype","_eventsMap","onItemClick","name","onLegendClick","getDataKey","plugin","init","that","dataKey","getProxyData","e","rootOffset","_renderer","getRootOffset","x","Math","floor","pageX","left","y","pageY","top","_hitTestTargets","_tracker","widget","root","getData","tooltipData","target","data","proxyData","type","id","getNode","index","_items","click","event","dataType","_eventTrigger","item","node","_dataKey","dispose","extenders","_change_TILING","forEach","element"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/viz/funnel/tracker.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Funnel from \"./funnel\";\r\nimport {\r\n    Tracker\r\n} from \"../components/tracker\";\r\nvar DATA_KEY_BASE = \"__funnel_data_\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nvar dataKeyModifier = 0;\r\nvar proto = Funnel.prototype;\r\nproto._eventsMap.onItemClick = {\r\n    name: \"itemClick\"\r\n};\r\nproto._eventsMap.onLegendClick = {\r\n    name: \"legendClick\"\r\n};\r\nvar getDataKey = function() {\r\n    return DATA_KEY_BASE + dataKeyModifier++\r\n};\r\nexport var plugin = {\r\n    name: \"tracker\",\r\n    init: function() {\r\n        var that = this;\r\n        var dataKey = getDataKey();\r\n        var getProxyData = function(e) {\r\n            var rootOffset = that._renderer.getRootOffset();\r\n            var x = Math.floor(e.pageX - rootOffset.left);\r\n            var y = Math.floor(e.pageY - rootOffset.top);\r\n            return that._hitTestTargets(x, y)\r\n        };\r\n        that._tracker = new Tracker({\r\n            widget: that,\r\n            root: that._renderer.root,\r\n            getData: function(e, tooltipData) {\r\n                var target = e.target;\r\n                var data = target[dataKey];\r\n                if (isDefined(data)) {\r\n                    return data\r\n                }\r\n                var proxyData = getProxyData(e);\r\n                if (tooltipData && proxyData && \"inside-label\" !== proxyData.type) {\r\n                    return\r\n                }\r\n                return proxyData && proxyData.id\r\n            },\r\n            getNode: function(index) {\r\n                return that._items[index]\r\n            },\r\n            click: function(e) {\r\n                var proxyData = getProxyData(e.event);\r\n                var dataType = proxyData && proxyData.type;\r\n                var event = \"legend\" === dataType ? \"legendClick\" : \"itemClick\";\r\n                that._eventTrigger(event, {\r\n                    item: e.node,\r\n                    event: e.event\r\n                })\r\n            }\r\n        });\r\n        this._dataKey = dataKey\r\n    },\r\n    dispose: function() {\r\n        this._tracker.dispose()\r\n    },\r\n    extenders: {\r\n        _change_TILING: function() {\r\n            var dataKey = this._dataKey;\r\n            this._items.forEach((function(item, index) {\r\n                item.element.data(dataKey, index)\r\n            }))\r\n        }\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}