{"ast":null,"code":"import _get from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _classCallCheck from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n/**\r\n * DevExtreme (esm/ui/gantt/ui.gantt.bars.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport ToolbarMenu from \"../toolbar\";\nimport ContextMenu from \"../context_menu\";\nimport messageLocalization from \"../../localization/message\";\nimport { extend } from \"../../core/utils/extend\";\nvar TOOLBAR_SEPARATOR_CLASS = \"dx-gantt-toolbar-separator\";\nvar COMMANDS = {\n  createTask: 0,\n  createSubTask: 1,\n  removeTask: 2,\n  removeDependency: 3,\n  taskInformation: 4,\n  taskAddContextItem: 5,\n  undo: 6,\n  redo: 7,\n  zoomIn: 8,\n  zoomOut: 9,\n  fullScreen: 10,\n  collapseAll: 11,\n  expandAll: 12,\n  resourceManager: 13\n};\n\nvar Bar = /*#__PURE__*/function () {\n  function Bar(element, owner) {\n    _classCallCheck(this, Bar);\n\n    this._element = element;\n    this._owner = owner;\n    this._items = [];\n\n    this._createControl();\n  }\n\n  _createClass(Bar, [{\n    key: \"createItems\",\n    value: function createItems(items) {\n      this._cache = null;\n      this._items = this._createItemsCore(items);\n\n      this._menu.option(\"items\", this._items);\n    }\n  }, {\n    key: \"_createItemsCore\",\n    value: function _createItemsCore(items) {\n      var _this = this;\n\n      return items.map(function (item) {\n        var result;\n\n        if (\"string\" === typeof item) {\n          result = _this._createItemByText(item);\n        } else {\n          result = item.name ? extend(_this._createItemByText(item.name), item) : extend(_this._getDefaultItemOptions(), item);\n        }\n\n        if (item.items) {\n          result.items = _this._createItemsCore(item.items);\n        }\n\n        return result;\n      });\n    }\n  }, {\n    key: \"_createItemByText\",\n    value: function _createItemByText(text) {\n      switch (text.toLowerCase()) {\n        case \"separator\":\n          return this._createSeparator();\n\n        case \"undo\":\n          return this._createDefaultItem(COMMANDS.undo, messageLocalization.format(\"dxGantt-undo\"), this._getIcon(\"undo\"));\n\n        case \"redo\":\n          return this._createDefaultItem(COMMANDS.redo, messageLocalization.format(\"dxGantt-redo\"), this._getIcon(\"redo\"));\n\n        case \"expandall\":\n          return this._createDefaultItem(COMMANDS.expandAll, messageLocalization.format(\"dxGantt-expandAll\"), this._getIcon(\"expand\"));\n\n        case \"collapseall\":\n          return this._createDefaultItem(COMMANDS.collapseAll, messageLocalization.format(\"dxGantt-collapseAll\"), this._getIcon(\"collapse\"));\n\n        case \"addtask\":\n          return this._createDefaultItem(COMMANDS.createTask, messageLocalization.format(\"dxGantt-addNewTask\"), this._getIcon(\"add\"));\n\n        case \"addsubtask\":\n          return this._createDefaultItem(COMMANDS.createSubTask, messageLocalization.format(\"dxGantt-contextMenuNewSubtask\"), this._getIcon(\"add-sub-task\"));\n\n        case \"deletetask\":\n          return this._createDefaultItem(COMMANDS.removeTask, messageLocalization.format(\"dxGantt-deleteSelectedTask\"), this._getIcon(\"delete\"));\n\n        case \"deletedependency\":\n          return this._createDefaultItem(COMMANDS.removeDependency, messageLocalization.format(\"dxGantt-contextMenuDeleteDependency\"), this._getIcon(\"delete-dependency\"));\n\n        case \"zoomin\":\n          return this._createDefaultItem(COMMANDS.zoomIn, messageLocalization.format(\"dxGantt-zoomIn\"), this._getIcon(\"zoom-in\"));\n\n        case \"zoomout\":\n          return this._createDefaultItem(COMMANDS.zoomOut, messageLocalization.format(\"dxGantt-zoomOut\"), this._getIcon(\"zoom-out\"));\n\n        case \"fullscreen\":\n          return this._createDefaultItem(COMMANDS.fullScreen, messageLocalization.format(\"dxGantt-fullScreen\"), this._getIcon(\"full-screen\"));\n\n        case \"taskdetails\":\n          return this._createDefaultItem(COMMANDS.taskInformation, messageLocalization.format(\"dxGantt-dialogTaskDetailsTitle\") + \"...\", this._getIcon(\"task-details\"));\n\n        case \"resourcemanager\":\n          return this._createDefaultItem(COMMANDS.resourceManager, messageLocalization.format(\"dxGantt-dialogResourceManagerTitle\"), this._getIcon(\"resource-manager\"));\n\n        default:\n          return extend(this._getDefaultItemOptions(), {\n            options: {\n              text: text\n            }\n          });\n      }\n    }\n  }, {\n    key: \"_getDefaultItemOptions\",\n    value: function _getDefaultItemOptions() {\n      return {};\n    }\n  }, {\n    key: \"_getItemsCache\",\n    value: function _getItemsCache() {\n      if (!this._cache) {\n        this._cache = {};\n\n        this._fillCache(this._items);\n      }\n\n      return this._cache;\n    }\n  }, {\n    key: \"_fillCache\",\n    value: function _fillCache(items) {\n      var _this2 = this;\n\n      items.forEach(function (item) {\n        var key = item.commandId;\n\n        if (void 0 !== key) {\n          if (!_this2._cache[key]) {\n            _this2._cache[key] = [];\n          }\n\n          _this2._cache[key].push(item);\n        }\n\n        if (item.items) {\n          _this2._fillCache(item.items);\n        }\n      });\n    }\n  }, {\n    key: \"_getIcon\",\n    value: function _getIcon(name) {\n      return \"dx-gantt-i dx-gantt-i-\" + name;\n    }\n  }, {\n    key: \"getCommandKeys\",\n    value: function getCommandKeys() {\n      var itemsCache = this._getItemsCache();\n\n      var result = [];\n\n      for (var itemKey in itemsCache) {\n        result.push(parseInt(itemKey));\n      }\n\n      return result;\n    }\n  }, {\n    key: \"setItemEnabled\",\n    value: function setItemEnabled(key, enabled) {\n      var itemsCache = this._getItemsCache();\n\n      itemsCache[key].forEach(function (item) {\n        item.disabled = !enabled;\n      });\n    }\n  }, {\n    key: \"setItemVisible\",\n    value: function setItemVisible(key, visible) {\n      var itemsCache = this._getItemsCache();\n\n      itemsCache[key].forEach(function (item) {\n        item.visible = visible;\n      });\n    }\n  }, {\n    key: \"setItemValue\",\n    value: function setItemValue(_key, _value) {}\n  }, {\n    key: \"setEnabled\",\n    value: function setEnabled(enabled) {\n      this._menu.option(\"disabled\", !enabled);\n    }\n  }, {\n    key: \"updateItemsList\",\n    value: function updateItemsList() {}\n  }, {\n    key: \"isVisible\",\n    value: function isVisible() {\n      return true;\n    }\n  }, {\n    key: \"isContextMenu\",\n    value: function isContextMenu() {\n      return false;\n    }\n  }, {\n    key: \"completeUpdate\",\n    value: function completeUpdate() {}\n  }]);\n\n  return Bar;\n}();\n\nexport var GanttToolbar = /*#__PURE__*/function (_Bar) {\n  _inherits(GanttToolbar, _Bar);\n\n  var _super = _createSuper(GanttToolbar);\n\n  function GanttToolbar() {\n    _classCallCheck(this, GanttToolbar);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(GanttToolbar, [{\n    key: \"_createControl\",\n    value: function _createControl() {\n      var _this3 = this;\n\n      this._menu = this._owner._createComponent(this._element, ToolbarMenu, {\n        onItemClick: function onItemClick(e) {\n          var commandId = e.itemData.commandId;\n\n          if (void 0 !== commandId) {\n            _this3._owner._executeCoreCommand(e.itemData.commandId);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_createDefaultItem\",\n    value: function _createDefaultItem(commandId, hint, icon) {\n      return {\n        commandId: commandId,\n        disabled: true,\n        widget: \"dxButton\",\n        location: \"before\",\n        options: {\n          icon: icon,\n          stylingMode: \"text\",\n          hint: hint\n        }\n      };\n    }\n  }, {\n    key: \"_createSeparator\",\n    value: function _createSeparator() {\n      return {\n        location: \"before\",\n        template: function template(_data, _index, element) {\n          $(element).addClass(TOOLBAR_SEPARATOR_CLASS);\n        }\n      };\n    }\n  }, {\n    key: \"_getDefaultItemOptions\",\n    value: function _getDefaultItemOptions() {\n      return {\n        location: \"before\",\n        widget: \"dxButton\"\n      };\n    }\n  }, {\n    key: \"completeUpdate\",\n    value: function completeUpdate() {\n      this._menu.option(\"items\", this._items);\n    }\n  }]);\n\n  return GanttToolbar;\n}(Bar);\nexport var GanttContextMenuBar = /*#__PURE__*/function (_Bar2) {\n  _inherits(GanttContextMenuBar, _Bar2);\n\n  var _super2 = _createSuper(GanttContextMenuBar);\n\n  function GanttContextMenuBar() {\n    _classCallCheck(this, GanttContextMenuBar);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(GanttContextMenuBar, [{\n    key: \"_createControl\",\n    value: function _createControl() {\n      var _this4 = this;\n\n      this._menu = this._owner._createComponent(this._element, ContextMenu, {\n        showEvent: void 0,\n        onItemClick: function onItemClick(e) {\n          if (void 0 !== e.itemData.commandId) {\n            _this4._owner._executeCoreCommand(e.itemData.commandId);\n          } else if (void 0 !== e.itemData.name) {\n            _this4._owner._raiseCustomCommand(e.itemData.name);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"createItems\",\n    value: function createItems(items) {\n      if (!items || 0 === items.length) {\n        items = this._getDefaultItems();\n      }\n\n      _get(_getPrototypeOf(GanttContextMenuBar.prototype), \"createItems\", this).call(this, items);\n    }\n  }, {\n    key: \"_getDefaultItems\",\n    value: function _getDefaultItems() {\n      return [{\n        text: messageLocalization.format(\"dxGantt-dialogButtonAdd\"),\n        commandId: COMMANDS.taskAddContextItem,\n        icon: this._getIcon(\"add\"),\n        items: [{\n          text: messageLocalization.format(\"dxGantt-contextMenuNewTask\"),\n          commandId: COMMANDS.createTask,\n          icon: this._getIcon(\"add-task\")\n        }, {\n          text: messageLocalization.format(\"dxGantt-contextMenuNewSubtask\"),\n          commandId: COMMANDS.createSubTask,\n          icon: this._getIcon(\"add-sub-task\")\n        }]\n      }, {\n        text: messageLocalization.format(\"dxGantt-dialogTaskDetailsTitle\") + \"...\",\n        commandId: COMMANDS.taskInformation,\n        icon: this._getIcon(\"task-details\")\n      }, {\n        text: messageLocalization.format(\"dxGantt-contextMenuDeleteTask\"),\n        commandId: COMMANDS.removeTask,\n        icon: this._getIcon(\"delete\")\n      }, {\n        text: messageLocalization.format(\"dxGantt-contextMenuDeleteDependency\"),\n        commandId: COMMANDS.removeDependency,\n        icon: this._getIcon(\"delete-dependency\")\n      }];\n    }\n  }, {\n    key: \"_createDefaultItem\",\n    value: function _createDefaultItem(commandId, text, icon) {\n      return {\n        commandId: commandId,\n        text: text,\n        icon: icon\n      };\n    }\n  }, {\n    key: \"show\",\n    value: function show(point, items) {\n      this._menu.option(\"items\", items || this._items);\n\n      this._menu.option(\"position.offset\", {\n        x: point.x,\n        y: point.y\n      });\n\n      this._menu.show();\n    }\n  }, {\n    key: \"isContextMenu\",\n    value: function isContextMenu() {\n      return true;\n    }\n  }]);\n\n  return GanttContextMenuBar;\n}(Bar);","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/ui/gantt/ui.gantt.bars.js"],"names":["$","ToolbarMenu","ContextMenu","messageLocalization","extend","TOOLBAR_SEPARATOR_CLASS","COMMANDS","createTask","createSubTask","removeTask","removeDependency","taskInformation","taskAddContextItem","undo","redo","zoomIn","zoomOut","fullScreen","collapseAll","expandAll","resourceManager","Bar","element","owner","_element","_owner","_items","_createControl","items","_cache","_createItemsCore","_menu","option","map","item","result","_createItemByText","name","_getDefaultItemOptions","text","toLowerCase","_createSeparator","_createDefaultItem","format","_getIcon","options","_fillCache","forEach","key","commandId","push","itemsCache","_getItemsCache","itemKey","parseInt","enabled","disabled","visible","_key","_value","GanttToolbar","_createComponent","onItemClick","e","itemData","_executeCoreCommand","hint","icon","widget","location","stylingMode","template","_data","_index","addClass","GanttContextMenuBar","showEvent","_raiseCustomCommand","length","_getDefaultItems","point","x","y","show"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/gantt/ui.gantt.bars.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport ToolbarMenu from \"../toolbar\";\r\nimport ContextMenu from \"../context_menu\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nvar TOOLBAR_SEPARATOR_CLASS = \"dx-gantt-toolbar-separator\";\r\nvar COMMANDS = {\r\n    createTask: 0,\r\n    createSubTask: 1,\r\n    removeTask: 2,\r\n    removeDependency: 3,\r\n    taskInformation: 4,\r\n    taskAddContextItem: 5,\r\n    undo: 6,\r\n    redo: 7,\r\n    zoomIn: 8,\r\n    zoomOut: 9,\r\n    fullScreen: 10,\r\n    collapseAll: 11,\r\n    expandAll: 12,\r\n    resourceManager: 13\r\n};\r\nclass Bar {\r\n    constructor(element, owner) {\r\n        this._element = element;\r\n        this._owner = owner;\r\n        this._items = [];\r\n        this._createControl()\r\n    }\r\n    createItems(items) {\r\n        this._cache = null;\r\n        this._items = this._createItemsCore(items);\r\n        this._menu.option(\"items\", this._items)\r\n    }\r\n    _createItemsCore(items) {\r\n        return items.map(item => {\r\n            var result;\r\n            if (\"string\" === typeof item) {\r\n                result = this._createItemByText(item)\r\n            } else {\r\n                result = item.name ? extend(this._createItemByText(item.name), item) : extend(this._getDefaultItemOptions(), item)\r\n            }\r\n            if (item.items) {\r\n                result.items = this._createItemsCore(item.items)\r\n            }\r\n            return result\r\n        })\r\n    }\r\n    _createItemByText(text) {\r\n        switch (text.toLowerCase()) {\r\n            case \"separator\":\r\n                return this._createSeparator();\r\n            case \"undo\":\r\n                return this._createDefaultItem(COMMANDS.undo, messageLocalization.format(\"dxGantt-undo\"), this._getIcon(\"undo\"));\r\n            case \"redo\":\r\n                return this._createDefaultItem(COMMANDS.redo, messageLocalization.format(\"dxGantt-redo\"), this._getIcon(\"redo\"));\r\n            case \"expandall\":\r\n                return this._createDefaultItem(COMMANDS.expandAll, messageLocalization.format(\"dxGantt-expandAll\"), this._getIcon(\"expand\"));\r\n            case \"collapseall\":\r\n                return this._createDefaultItem(COMMANDS.collapseAll, messageLocalization.format(\"dxGantt-collapseAll\"), this._getIcon(\"collapse\"));\r\n            case \"addtask\":\r\n                return this._createDefaultItem(COMMANDS.createTask, messageLocalization.format(\"dxGantt-addNewTask\"), this._getIcon(\"add\"));\r\n            case \"addsubtask\":\r\n                return this._createDefaultItem(COMMANDS.createSubTask, messageLocalization.format(\"dxGantt-contextMenuNewSubtask\"), this._getIcon(\"add-sub-task\"));\r\n            case \"deletetask\":\r\n                return this._createDefaultItem(COMMANDS.removeTask, messageLocalization.format(\"dxGantt-deleteSelectedTask\"), this._getIcon(\"delete\"));\r\n            case \"deletedependency\":\r\n                return this._createDefaultItem(COMMANDS.removeDependency, messageLocalization.format(\"dxGantt-contextMenuDeleteDependency\"), this._getIcon(\"delete-dependency\"));\r\n            case \"zoomin\":\r\n                return this._createDefaultItem(COMMANDS.zoomIn, messageLocalization.format(\"dxGantt-zoomIn\"), this._getIcon(\"zoom-in\"));\r\n            case \"zoomout\":\r\n                return this._createDefaultItem(COMMANDS.zoomOut, messageLocalization.format(\"dxGantt-zoomOut\"), this._getIcon(\"zoom-out\"));\r\n            case \"fullscreen\":\r\n                return this._createDefaultItem(COMMANDS.fullScreen, messageLocalization.format(\"dxGantt-fullScreen\"), this._getIcon(\"full-screen\"));\r\n            case \"taskdetails\":\r\n                return this._createDefaultItem(COMMANDS.taskInformation, messageLocalization.format(\"dxGantt-dialogTaskDetailsTitle\") + \"...\", this._getIcon(\"task-details\"));\r\n            case \"resourcemanager\":\r\n                return this._createDefaultItem(COMMANDS.resourceManager, messageLocalization.format(\"dxGantt-dialogResourceManagerTitle\"), this._getIcon(\"resource-manager\"));\r\n            default:\r\n                return extend(this._getDefaultItemOptions(), {\r\n                    options: {\r\n                        text: text\r\n                    }\r\n                })\r\n        }\r\n    }\r\n    _getDefaultItemOptions() {\r\n        return {}\r\n    }\r\n    _getItemsCache() {\r\n        if (!this._cache) {\r\n            this._cache = {};\r\n            this._fillCache(this._items)\r\n        }\r\n        return this._cache\r\n    }\r\n    _fillCache(items) {\r\n        items.forEach(item => {\r\n            var key = item.commandId;\r\n            if (void 0 !== key) {\r\n                if (!this._cache[key]) {\r\n                    this._cache[key] = []\r\n                }\r\n                this._cache[key].push(item)\r\n            }\r\n            if (item.items) {\r\n                this._fillCache(item.items)\r\n            }\r\n        })\r\n    }\r\n    _getIcon(name) {\r\n        return \"dx-gantt-i dx-gantt-i-\" + name\r\n    }\r\n    getCommandKeys() {\r\n        var itemsCache = this._getItemsCache();\r\n        var result = [];\r\n        for (var itemKey in itemsCache) {\r\n            result.push(parseInt(itemKey))\r\n        }\r\n        return result\r\n    }\r\n    setItemEnabled(key, enabled) {\r\n        var itemsCache = this._getItemsCache();\r\n        itemsCache[key].forEach(item => {\r\n            item.disabled = !enabled\r\n        })\r\n    }\r\n    setItemVisible(key, visible) {\r\n        var itemsCache = this._getItemsCache();\r\n        itemsCache[key].forEach(item => {\r\n            item.visible = visible\r\n        })\r\n    }\r\n    setItemValue(_key, _value) {}\r\n    setEnabled(enabled) {\r\n        this._menu.option(\"disabled\", !enabled)\r\n    }\r\n    updateItemsList() {}\r\n    isVisible() {\r\n        return true\r\n    }\r\n    isContextMenu() {\r\n        return false\r\n    }\r\n    completeUpdate() {}\r\n}\r\nexport class GanttToolbar extends Bar {\r\n    _createControl() {\r\n        this._menu = this._owner._createComponent(this._element, ToolbarMenu, {\r\n            onItemClick: e => {\r\n                var commandId = e.itemData.commandId;\r\n                if (void 0 !== commandId) {\r\n                    this._owner._executeCoreCommand(e.itemData.commandId)\r\n                }\r\n            }\r\n        })\r\n    }\r\n    _createDefaultItem(commandId, hint, icon) {\r\n        return {\r\n            commandId: commandId,\r\n            disabled: true,\r\n            widget: \"dxButton\",\r\n            location: \"before\",\r\n            options: {\r\n                icon: icon,\r\n                stylingMode: \"text\",\r\n                hint: hint\r\n            }\r\n        }\r\n    }\r\n    _createSeparator() {\r\n        return {\r\n            location: \"before\",\r\n            template: (_data, _index, element) => {\r\n                $(element).addClass(TOOLBAR_SEPARATOR_CLASS)\r\n            }\r\n        }\r\n    }\r\n    _getDefaultItemOptions() {\r\n        return {\r\n            location: \"before\",\r\n            widget: \"dxButton\"\r\n        }\r\n    }\r\n    completeUpdate() {\r\n        this._menu.option(\"items\", this._items)\r\n    }\r\n}\r\nexport class GanttContextMenuBar extends Bar {\r\n    _createControl() {\r\n        this._menu = this._owner._createComponent(this._element, ContextMenu, {\r\n            showEvent: void 0,\r\n            onItemClick: e => {\r\n                if (void 0 !== e.itemData.commandId) {\r\n                    this._owner._executeCoreCommand(e.itemData.commandId)\r\n                } else if (void 0 !== e.itemData.name) {\r\n                    this._owner._raiseCustomCommand(e.itemData.name)\r\n                }\r\n            }\r\n        })\r\n    }\r\n    createItems(items) {\r\n        if (!items || 0 === items.length) {\r\n            items = this._getDefaultItems()\r\n        }\r\n        super.createItems(items)\r\n    }\r\n    _getDefaultItems() {\r\n        return [{\r\n            text: messageLocalization.format(\"dxGantt-dialogButtonAdd\"),\r\n            commandId: COMMANDS.taskAddContextItem,\r\n            icon: this._getIcon(\"add\"),\r\n            items: [{\r\n                text: messageLocalization.format(\"dxGantt-contextMenuNewTask\"),\r\n                commandId: COMMANDS.createTask,\r\n                icon: this._getIcon(\"add-task\")\r\n            }, {\r\n                text: messageLocalization.format(\"dxGantt-contextMenuNewSubtask\"),\r\n                commandId: COMMANDS.createSubTask,\r\n                icon: this._getIcon(\"add-sub-task\")\r\n            }]\r\n        }, {\r\n            text: messageLocalization.format(\"dxGantt-dialogTaskDetailsTitle\") + \"...\",\r\n            commandId: COMMANDS.taskInformation,\r\n            icon: this._getIcon(\"task-details\")\r\n        }, {\r\n            text: messageLocalization.format(\"dxGantt-contextMenuDeleteTask\"),\r\n            commandId: COMMANDS.removeTask,\r\n            icon: this._getIcon(\"delete\")\r\n        }, {\r\n            text: messageLocalization.format(\"dxGantt-contextMenuDeleteDependency\"),\r\n            commandId: COMMANDS.removeDependency,\r\n            icon: this._getIcon(\"delete-dependency\")\r\n        }]\r\n    }\r\n    _createDefaultItem(commandId, text, icon) {\r\n        return {\r\n            commandId: commandId,\r\n            text: text,\r\n            icon: icon\r\n        }\r\n    }\r\n    show(point, items) {\r\n        this._menu.option(\"items\", items || this._items);\r\n        this._menu.option(\"position.offset\", {\r\n            x: point.x,\r\n            y: point.y\r\n        });\r\n        this._menu.show()\r\n    }\r\n    isContextMenu() {\r\n        return true\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}