{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/autocomplete.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../core/renderer\";\nimport { noop } from \"../core/utils/common\";\nimport registerComponent from \"../core/component_registrator\";\nimport { extend } from \"../core/utils/extend\";\nimport DropDownList from \"./drop_down_editor/ui.drop_down_list\";\nimport { Deferred } from \"../core/utils/deferred\";\nimport { isCommandKeyPressed } from \"../events/utils/index\";\nvar AUTOCOMPLETE_CLASS = \"dx-autocomplete\";\nvar AUTOCOMPLETE_POPUP_WRAPPER_CLASS = \"dx-autocomplete-popup-wrapper\";\nvar Autocomplete = DropDownList.inherit({\n  _supportedKeys: function _supportedKeys() {\n    var item = this._list ? this._list.option(\"focusedElement\") : null;\n    var parent = this.callBase();\n    item = item && $(item);\n    return extend({}, parent, {\n      upArrow: function upArrow(e) {\n        if (!isCommandKeyPressed(e)) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          if (item && !this._calcNextItem(-1)) {\n            this._clearFocusedItem();\n\n            return false;\n          }\n        }\n\n        return true;\n      },\n      downArrow: function downArrow(e) {\n        if (!isCommandKeyPressed(e)) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          if (item && !this._calcNextItem(1)) {\n            this._clearFocusedItem();\n\n            return false;\n          }\n        }\n\n        return true;\n      },\n      enter: function enter(e) {\n        if (!item) {\n          this.close();\n        }\n\n        var opened = this.option(\"opened\");\n\n        if (opened) {\n          e.preventDefault();\n        }\n\n        return opened;\n      }\n    });\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      minSearchLength: 1,\n      maxItemCount: 10,\n      noDataText: \"\",\n      showDropDownButton: false,\n      searchEnabled: true\n    });\n  },\n  _initMarkup: function _initMarkup() {\n    this.callBase();\n    this.$element().addClass(AUTOCOMPLETE_CLASS);\n    this.setAria(\"autocomplete\", \"inline\");\n  },\n  _displayGetterExpr: function _displayGetterExpr() {\n    return this.option(\"valueExpr\");\n  },\n  _closeOutsideDropDownHandler: function _closeOutsideDropDownHandler(_ref) {\n    var target = _ref.target;\n    return !$(target).closest(this.$element()).length;\n  },\n  _renderDimensions: function _renderDimensions() {\n    this.callBase();\n\n    this._dimensionChanged();\n  },\n  _popupWrapperClass: function _popupWrapperClass() {\n    return this.callBase() + \" \" + AUTOCOMPLETE_POPUP_WRAPPER_CLASS;\n  },\n  _listConfig: function _listConfig() {\n    var _this = this;\n\n    return extend(this.callBase(), {\n      pageLoadMode: \"none\",\n      onSelectionChanged: function onSelectionChanged(e) {\n        _this._setSelectedItem(e.addedItems[0]);\n      }\n    });\n  },\n  _listItemClickHandler: function _listItemClickHandler(e) {\n    this._saveValueChangeEvent(e.event);\n\n    var value = this._displayGetter(e.itemData);\n\n    this.option(\"value\", value);\n    this.close();\n  },\n  _setListDataSource: function _setListDataSource() {\n    if (!this._list) {\n      return;\n    }\n\n    this._list.option(\"selectedItems\", []);\n\n    this.callBase();\n  },\n  _refreshSelected: noop,\n  _searchCanceled: function _searchCanceled() {\n    this.callBase();\n    this.close();\n  },\n  _loadItem: function _loadItem(value, cache) {\n    var selectedItem = this._getItemFromPlain(value, cache);\n\n    return new Deferred().resolve(selectedItem).promise();\n  },\n  _dataSourceOptions: function _dataSourceOptions() {\n    return {\n      paginate: true,\n      pageSize: this.option(\"maxItemCount\")\n    };\n  },\n  _searchDataSource: function _searchDataSource() {\n    this._dataSource.pageSize(this.option(\"maxItemCount\"));\n\n    this.callBase();\n\n    this._clearFocusedItem();\n  },\n  _clearFocusedItem: function _clearFocusedItem() {\n    if (this._list) {\n      this._list.option(\"focusedElement\", null);\n\n      this._list.option(\"selectedIndex\", -1);\n    }\n  },\n  _renderValueEventName: function _renderValueEventName() {\n    return \"input keyup\";\n  },\n  _valueChangeEventHandler: function _valueChangeEventHandler(e) {\n    var value = this._input().val() || null;\n    return this.callBase(e, value);\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"maxItemCount\":\n        this._searchDataSource();\n\n        break;\n\n      case \"valueExpr\":\n        this._compileDisplayGetter();\n\n        this._setListOption(\"displayExpr\", this._displayGetterExpr());\n\n        this.callBase(args);\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  reset: function reset() {\n    this.callBase();\n    this.close();\n  }\n});\nregisterComponent(\"dxAutocomplete\", Autocomplete);\nexport default Autocomplete;","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/ui/autocomplete.js"],"names":["$","noop","registerComponent","extend","DropDownList","Deferred","isCommandKeyPressed","AUTOCOMPLETE_CLASS","AUTOCOMPLETE_POPUP_WRAPPER_CLASS","Autocomplete","inherit","_supportedKeys","item","_list","option","parent","callBase","upArrow","e","preventDefault","stopPropagation","_calcNextItem","_clearFocusedItem","downArrow","enter","close","opened","_getDefaultOptions","minSearchLength","maxItemCount","noDataText","showDropDownButton","searchEnabled","_initMarkup","$element","addClass","setAria","_displayGetterExpr","_closeOutsideDropDownHandler","_ref","target","closest","length","_renderDimensions","_dimensionChanged","_popupWrapperClass","_listConfig","pageLoadMode","onSelectionChanged","_setSelectedItem","addedItems","_listItemClickHandler","_saveValueChangeEvent","event","value","_displayGetter","itemData","_setListDataSource","_refreshSelected","_searchCanceled","_loadItem","cache","selectedItem","_getItemFromPlain","resolve","promise","_dataSourceOptions","paginate","pageSize","_searchDataSource","_dataSource","_renderValueEventName","_valueChangeEventHandler","_input","val","_optionChanged","args","name","_compileDisplayGetter","_setListOption","reset"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/autocomplete.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    noop\r\n} from \"../core/utils/common\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport DropDownList from \"./drop_down_editor/ui.drop_down_list\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nimport {\r\n    isCommandKeyPressed\r\n} from \"../events/utils/index\";\r\nvar AUTOCOMPLETE_CLASS = \"dx-autocomplete\";\r\nvar AUTOCOMPLETE_POPUP_WRAPPER_CLASS = \"dx-autocomplete-popup-wrapper\";\r\nvar Autocomplete = DropDownList.inherit({\r\n    _supportedKeys: function() {\r\n        var item = this._list ? this._list.option(\"focusedElement\") : null;\r\n        var parent = this.callBase();\r\n        item = item && $(item);\r\n        return extend({}, parent, {\r\n            upArrow: function(e) {\r\n                if (!isCommandKeyPressed(e)) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    if (item && !this._calcNextItem(-1)) {\r\n                        this._clearFocusedItem();\r\n                        return false\r\n                    }\r\n                }\r\n                return true\r\n            },\r\n            downArrow: function(e) {\r\n                if (!isCommandKeyPressed(e)) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    if (item && !this._calcNextItem(1)) {\r\n                        this._clearFocusedItem();\r\n                        return false\r\n                    }\r\n                }\r\n                return true\r\n            },\r\n            enter: function(e) {\r\n                if (!item) {\r\n                    this.close()\r\n                }\r\n                var opened = this.option(\"opened\");\r\n                if (opened) {\r\n                    e.preventDefault()\r\n                }\r\n                return opened\r\n            }\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            minSearchLength: 1,\r\n            maxItemCount: 10,\r\n            noDataText: \"\",\r\n            showDropDownButton: false,\r\n            searchEnabled: true\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this.$element().addClass(AUTOCOMPLETE_CLASS);\r\n        this.setAria(\"autocomplete\", \"inline\")\r\n    },\r\n    _displayGetterExpr: function() {\r\n        return this.option(\"valueExpr\")\r\n    },\r\n    _closeOutsideDropDownHandler: function(_ref) {\r\n        var {\r\n            target: target\r\n        } = _ref;\r\n        return !$(target).closest(this.$element()).length\r\n    },\r\n    _renderDimensions: function() {\r\n        this.callBase();\r\n        this._dimensionChanged()\r\n    },\r\n    _popupWrapperClass: function() {\r\n        return this.callBase() + \" \" + AUTOCOMPLETE_POPUP_WRAPPER_CLASS\r\n    },\r\n    _listConfig: function() {\r\n        return extend(this.callBase(), {\r\n            pageLoadMode: \"none\",\r\n            onSelectionChanged: e => {\r\n                this._setSelectedItem(e.addedItems[0])\r\n            }\r\n        })\r\n    },\r\n    _listItemClickHandler: function(e) {\r\n        this._saveValueChangeEvent(e.event);\r\n        var value = this._displayGetter(e.itemData);\r\n        this.option(\"value\", value);\r\n        this.close()\r\n    },\r\n    _setListDataSource: function() {\r\n        if (!this._list) {\r\n            return\r\n        }\r\n        this._list.option(\"selectedItems\", []);\r\n        this.callBase()\r\n    },\r\n    _refreshSelected: noop,\r\n    _searchCanceled: function() {\r\n        this.callBase();\r\n        this.close()\r\n    },\r\n    _loadItem: function(value, cache) {\r\n        var selectedItem = this._getItemFromPlain(value, cache);\r\n        return (new Deferred).resolve(selectedItem).promise()\r\n    },\r\n    _dataSourceOptions: function() {\r\n        return {\r\n            paginate: true,\r\n            pageSize: this.option(\"maxItemCount\")\r\n        }\r\n    },\r\n    _searchDataSource: function() {\r\n        this._dataSource.pageSize(this.option(\"maxItemCount\"));\r\n        this.callBase();\r\n        this._clearFocusedItem()\r\n    },\r\n    _clearFocusedItem: function() {\r\n        if (this._list) {\r\n            this._list.option(\"focusedElement\", null);\r\n            this._list.option(\"selectedIndex\", -1)\r\n        }\r\n    },\r\n    _renderValueEventName: function() {\r\n        return \"input keyup\"\r\n    },\r\n    _valueChangeEventHandler: function(e) {\r\n        var value = this._input().val() || null;\r\n        return this.callBase(e, value)\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"maxItemCount\":\r\n                this._searchDataSource();\r\n                break;\r\n            case \"valueExpr\":\r\n                this._compileDisplayGetter();\r\n                this._setListOption(\"displayExpr\", this._displayGetterExpr());\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    reset: function() {\r\n        this.callBase();\r\n        this.close()\r\n    }\r\n});\r\nregisterComponent(\"dxAutocomplete\", Autocomplete);\r\nexport default Autocomplete;\r\n"]},"metadata":{},"sourceType":"module"}