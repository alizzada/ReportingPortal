{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/toolbar/ui.toolbar.strategy.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport { noop } from \"../../core/utils/common\";\nimport { each } from \"../../core/utils/iterator\";\nimport { compileGetter } from \"../../core/utils/data\";\nimport Class from \"../../core/class\";\nimport Button from \"../button\";\nvar abstract = Class.abstract;\nvar TOOLBAR_MENU_CONTAINER_CLASS = \"dx-toolbar-menu-container\";\nvar TOOLBAR_MENU_BUTTON_CLASS = \"dx-toolbar-menu-button\";\nvar ToolbarStrategy = Class.inherit({\n  ctor: function ctor(toolbar) {\n    this._toolbar = toolbar;\n  },\n  render: function render() {\n    this._renderMenuButton();\n\n    this._renderWidget();\n  },\n  _widgetOptions: function _widgetOptions() {\n    var itemClickAction = this._toolbar._createActionByOption(\"onItemClick\");\n\n    return {\n      itemTemplate: this._getMenuItemTemplate.bind(this),\n      onItemClick: function (e) {\n        this._toggleMenu(false, true);\n\n        itemClickAction(e);\n      }.bind(this)\n    };\n  },\n  _getMenuItemTemplate: function _getMenuItemTemplate() {\n    return this._toolbar._getTemplateByOption(\"menuItemTemplate\");\n  },\n  _renderWidget: function _renderWidget() {\n    var $menu = $(\"<div>\").appendTo(this._menuContainer());\n    this._menu = this._toolbar._createComponent($menu, this._menuWidgetClass(), this._widgetOptions());\n    this.renderMenuItems();\n  },\n  _menuContainer: abstract,\n  _menuWidgetClass: abstract,\n  _hasVisibleMenuItems: function _hasVisibleMenuItems(items) {\n    var menuItems = items || this._toolbar.option(\"items\");\n\n    var result = false;\n    var optionGetter = compileGetter(\"visible\");\n    var overflowGetter = compileGetter(\"locateInMenu\");\n    each(menuItems, function (index, item) {\n      var itemVisible = optionGetter(item, {\n        functionsAsIs: true\n      });\n      var itemOverflow = overflowGetter(item, {\n        functionsAsIs: true\n      });\n\n      if (false !== itemVisible && (\"auto\" === itemOverflow || \"always\" === itemOverflow) || \"menu\" === item.location) {\n        result = true;\n      }\n    });\n    return result;\n  },\n  _getMenuItems: function _getMenuItems() {\n    return this._toolbar._getMenuItems();\n  },\n  _updateMenuVisibility: noop,\n  _renderMenuButton: function _renderMenuButton() {\n    var buttonOptions = this._menuButtonOptions();\n\n    this._renderMenuButtonContainer();\n\n    this._$button = $(\"<div>\").appendTo(this._$menuButtonContainer).addClass(TOOLBAR_MENU_BUTTON_CLASS);\n\n    this._toolbar._createComponent(this._$button, Button, buttonOptions);\n  },\n  _menuButtonOptions: function _menuButtonOptions() {\n    return {\n      onClick: this._menuButtonClickHandler.bind(this)\n    };\n  },\n  _menuButtonClickHandler: function _menuButtonClickHandler() {\n    this._toggleMenu(!this._menuShown, true);\n  },\n  _renderMenuButtonContainer: function _renderMenuButtonContainer() {\n    var $afterSection = this._toolbar._$afterSection;\n    this._$menuButtonContainer = $(\"<div>\").appendTo($afterSection).addClass(this._toolbar._buttonClass()).addClass(TOOLBAR_MENU_CONTAINER_CLASS);\n  },\n  renderMenuItems: function renderMenuItems() {\n    this._menu && this._menu.option(\"items\", this._getMenuItems());\n  },\n  toggleMenuVisibility: function toggleMenuVisibility(visible, animate) {\n    this._menu && this._toggleMenu(visible, animate);\n  },\n  _toggleMenu: function _toggleMenu(visible) {\n    this._menuShown = visible;\n  },\n  getMenuWidget: function getMenuWidget() {\n    return this._menu;\n  },\n  widgetOption: function widgetOption(name, value) {\n    this._menu && this._menu.option(name, value);\n  },\n  handleToolbarVisibilityChange: noop\n});\nexport default ToolbarStrategy;","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/ui/toolbar/ui.toolbar.strategy.js"],"names":["$","noop","each","compileGetter","Class","Button","abstract","TOOLBAR_MENU_CONTAINER_CLASS","TOOLBAR_MENU_BUTTON_CLASS","ToolbarStrategy","inherit","ctor","toolbar","_toolbar","render","_renderMenuButton","_renderWidget","_widgetOptions","itemClickAction","_createActionByOption","itemTemplate","_getMenuItemTemplate","bind","onItemClick","e","_toggleMenu","_getTemplateByOption","$menu","appendTo","_menuContainer","_menu","_createComponent","_menuWidgetClass","renderMenuItems","_hasVisibleMenuItems","items","menuItems","option","result","optionGetter","overflowGetter","index","item","itemVisible","functionsAsIs","itemOverflow","location","_getMenuItems","_updateMenuVisibility","buttonOptions","_menuButtonOptions","_renderMenuButtonContainer","_$button","_$menuButtonContainer","addClass","onClick","_menuButtonClickHandler","_menuShown","$afterSection","_$afterSection","_buttonClass","toggleMenuVisibility","visible","animate","getMenuWidget","widgetOption","name","value","handleToolbarVisibilityChange"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/toolbar/ui.toolbar.strategy.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport Class from \"../../core/class\";\r\nimport Button from \"../button\";\r\nvar abstract = Class.abstract;\r\nvar TOOLBAR_MENU_CONTAINER_CLASS = \"dx-toolbar-menu-container\";\r\nvar TOOLBAR_MENU_BUTTON_CLASS = \"dx-toolbar-menu-button\";\r\nvar ToolbarStrategy = Class.inherit({\r\n    ctor: function(toolbar) {\r\n        this._toolbar = toolbar\r\n    },\r\n    render: function() {\r\n        this._renderMenuButton();\r\n        this._renderWidget()\r\n    },\r\n    _widgetOptions: function() {\r\n        var itemClickAction = this._toolbar._createActionByOption(\"onItemClick\");\r\n        return {\r\n            itemTemplate: this._getMenuItemTemplate.bind(this),\r\n            onItemClick: function(e) {\r\n                this._toggleMenu(false, true);\r\n                itemClickAction(e)\r\n            }.bind(this)\r\n        }\r\n    },\r\n    _getMenuItemTemplate: function() {\r\n        return this._toolbar._getTemplateByOption(\"menuItemTemplate\")\r\n    },\r\n    _renderWidget: function() {\r\n        var $menu = $(\"<div>\").appendTo(this._menuContainer());\r\n        this._menu = this._toolbar._createComponent($menu, this._menuWidgetClass(), this._widgetOptions());\r\n        this.renderMenuItems()\r\n    },\r\n    _menuContainer: abstract,\r\n    _menuWidgetClass: abstract,\r\n    _hasVisibleMenuItems: function(items) {\r\n        var menuItems = items || this._toolbar.option(\"items\");\r\n        var result = false;\r\n        var optionGetter = compileGetter(\"visible\");\r\n        var overflowGetter = compileGetter(\"locateInMenu\");\r\n        each(menuItems, (function(index, item) {\r\n            var itemVisible = optionGetter(item, {\r\n                functionsAsIs: true\r\n            });\r\n            var itemOverflow = overflowGetter(item, {\r\n                functionsAsIs: true\r\n            });\r\n            if (false !== itemVisible && (\"auto\" === itemOverflow || \"always\" === itemOverflow) || \"menu\" === item.location) {\r\n                result = true\r\n            }\r\n        }));\r\n        return result\r\n    },\r\n    _getMenuItems: function() {\r\n        return this._toolbar._getMenuItems()\r\n    },\r\n    _updateMenuVisibility: noop,\r\n    _renderMenuButton: function() {\r\n        var buttonOptions = this._menuButtonOptions();\r\n        this._renderMenuButtonContainer();\r\n        this._$button = $(\"<div>\").appendTo(this._$menuButtonContainer).addClass(TOOLBAR_MENU_BUTTON_CLASS);\r\n        this._toolbar._createComponent(this._$button, Button, buttonOptions)\r\n    },\r\n    _menuButtonOptions: function() {\r\n        return {\r\n            onClick: this._menuButtonClickHandler.bind(this)\r\n        }\r\n    },\r\n    _menuButtonClickHandler: function() {\r\n        this._toggleMenu(!this._menuShown, true)\r\n    },\r\n    _renderMenuButtonContainer: function() {\r\n        var $afterSection = this._toolbar._$afterSection;\r\n        this._$menuButtonContainer = $(\"<div>\").appendTo($afterSection).addClass(this._toolbar._buttonClass()).addClass(TOOLBAR_MENU_CONTAINER_CLASS)\r\n    },\r\n    renderMenuItems: function() {\r\n        this._menu && this._menu.option(\"items\", this._getMenuItems())\r\n    },\r\n    toggleMenuVisibility: function(visible, animate) {\r\n        this._menu && this._toggleMenu(visible, animate)\r\n    },\r\n    _toggleMenu: function(visible) {\r\n        this._menuShown = visible\r\n    },\r\n    getMenuWidget: function() {\r\n        return this._menu\r\n    },\r\n    widgetOption: function(name, value) {\r\n        this._menu && this._menu.option(name, value)\r\n    },\r\n    handleToolbarVisibilityChange: noop\r\n});\r\nexport default ToolbarStrategy;\r\n"]},"metadata":{},"sourceType":"module"}