{"ast":null,"code":"import _classCallCheck from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\n/**\r\n * DevExtreme (esm/ui/diagram/ui.diagram.properties_panel.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport { extend } from \"../../core/utils/extend\";\nimport ScrollView from \"../scroll_view\";\nimport TabPanel from \"../tab_panel\";\nimport DiagramFloatingPanel from \"./ui.diagram.floating_panel\";\nimport DiagramCommandsManager from \"./diagram.commands_manager\";\nvar DIAGRAM_PROPERTIES_POPUP_WIDTH = 420;\nvar DIAGRAM_PROPERTIES_POPUP_HEIGHT = 340;\nvar DIAGRAM_PROPERTIES_POPUP_CLASS = \"dx-diagram-properties-popup\";\nvar DIAGRAM_PROPERTIES_POPUP_NOTABS_CLASS = \"dx-diagram-properties-popup-notabs\";\nvar DIAGRAM_PROPERTIES_PANEL_CLASS = \"dx-diagram-properties-panel\";\nvar DIAGRAM_PROPERTIES_PANEL_GROUP_TITLE_CLASS = \"dx-diagram-properties-panel-group-title\";\nvar DIAGRAM_PROPERTIES_PANEL_GROUP_TOOLBAR_CLASS = \"dx-diagram-properties-panel-group-toolbar\";\n\nvar DiagramPropertiesPanel = /*#__PURE__*/function (_DiagramFloatingPanel) {\n  _inherits(DiagramPropertiesPanel, _DiagramFloatingPanel);\n\n  var _super = _createSuper(DiagramPropertiesPanel);\n\n  function DiagramPropertiesPanel() {\n    _classCallCheck(this, DiagramPropertiesPanel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(DiagramPropertiesPanel, [{\n    key: \"_init\",\n    value: function _init() {\n      _get(_getPrototypeOf(DiagramPropertiesPanel.prototype), \"_init\", this).call(this);\n\n      this._commandTabs = DiagramCommandsManager.getPropertyPanelCommandTabs(this.option(\"propertyTabs\"));\n\n      this._createOnCreateToolbar();\n\n      this._createOnSelectedGroupChanged();\n    }\n  }, {\n    key: \"_initMarkup\",\n    value: function _initMarkup() {\n      this._toolbars = [];\n      this._selectedToolbar = void 0;\n\n      _get(_getPrototypeOf(DiagramPropertiesPanel.prototype), \"_initMarkup\", this).call(this);\n    }\n  }, {\n    key: \"_getPopupClass\",\n    value: function _getPopupClass() {\n      var className = DIAGRAM_PROPERTIES_POPUP_CLASS;\n\n      if (!this._hasTabPanel()) {\n        className += \" \" + DIAGRAM_PROPERTIES_POPUP_NOTABS_CLASS;\n      }\n\n      return className;\n    }\n  }, {\n    key: \"_getPopupWidth\",\n    value: function _getPopupWidth() {\n      return this.isMobileView() ? \"100%\" : DIAGRAM_PROPERTIES_POPUP_WIDTH;\n    }\n  }, {\n    key: \"_getPopupHeight\",\n    value: function _getPopupHeight() {\n      return DIAGRAM_PROPERTIES_POPUP_HEIGHT;\n    }\n  }, {\n    key: \"_getPopupPosition\",\n    value: function _getPopupPosition() {\n      var $parent = this.option(\"offsetParent\");\n\n      if (this.isMobileView()) {\n        return {\n          my: \"left bottom\",\n          at: \"left bottom\",\n          of: $parent\n        };\n      }\n\n      return {\n        my: \"right bottom\",\n        at: \"right bottom\",\n        of: $parent,\n        offset: \"-\" + this.option(\"offsetX\") + \" -\" + this.option(\"offsetY\")\n      };\n    }\n  }, {\n    key: \"_getPopupAnimation\",\n    value: function _getPopupAnimation() {\n      var $parent = this.option(\"offsetParent\");\n\n      if (this.isMobileView()) {\n        return {\n          hide: this._getPopupSlideAnimationObject({\n            direction: \"bottom\",\n            from: {\n              position: {\n                my: \"left bottom\",\n                at: \"left bottom\",\n                of: $parent\n              }\n            },\n            to: {\n              position: {\n                my: \"left top\",\n                at: \"left bottom\",\n                of: $parent\n              }\n            }\n          }),\n          show: this._getPopupSlideAnimationObject({\n            direction: \"top\",\n            from: {\n              position: {\n                my: \"left top\",\n                at: \"left bottom\",\n                of: $parent\n              }\n            },\n            to: {\n              position: {\n                my: \"left bottom\",\n                at: \"left bottom\",\n                of: $parent\n              }\n            }\n          })\n        };\n      }\n\n      return _get(_getPrototypeOf(DiagramPropertiesPanel.prototype), \"_getPopupAnimation\", this).call(this);\n    }\n  }, {\n    key: \"_getPopupOptions\",\n    value: function _getPopupOptions() {\n      return extend(_get(_getPrototypeOf(DiagramPropertiesPanel.prototype), \"_getPopupOptions\", this).call(this), {\n        showTitle: this.isMobileView(),\n        showCloseButton: this.isMobileView()\n      });\n    }\n  }, {\n    key: \"_renderPopupContent\",\n    value: function _renderPopupContent($parent) {\n      if (!this._commandTabs.length) {\n        return;\n      }\n\n      var $panel = $(\"<div>\").addClass(DIAGRAM_PROPERTIES_PANEL_CLASS).appendTo($parent);\n\n      if (this._hasTabPanel()) {\n        this._renderTabPanel($panel);\n      } else {\n        this._renderTabContent($panel, this._commandTabs[0], 0, true);\n      }\n    }\n  }, {\n    key: \"_hasTabPanel\",\n    value: function _hasTabPanel() {\n      return this._commandTabs.length > 1;\n    }\n  }, {\n    key: \"_renderTabPanel\",\n    value: function _renderTabPanel($parent) {\n      var _this = this;\n\n      var $tabPanel = $(\"<div>\").appendTo($parent);\n      this._tabPanel = this._createComponent($tabPanel, TabPanel, {\n        focusStateEnabled: false,\n        dataSource: this._commandTabs,\n        itemTemplate: function itemTemplate(data, index, $element) {\n          _this._renderTabContent($element, data, index);\n        },\n        onSelectionChanged: function onSelectionChanged(e) {\n          _this._onSelectedGroupChangedAction();\n\n          _this._onPointerUpAction();\n        },\n        onContentReady: function onContentReady(e) {\n          _this._popup.option(\"height\", e.component.$element().height() + _this._getVerticalPaddingsAndBorders());\n\n          if (_this._firstScrollView) {\n            _this._scrollViewHeight = _this._firstScrollView.$element().outerHeight();\n\n            _this._firstScrollView.option(\"height\", _this._scrollViewHeight);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_renderTabContent\",\n    value: function _renderTabContent($parent, tab, index, isSingleTab) {\n      var $scrollViewWrapper = $(\"<div>\").appendTo($parent);\n\n      var scrollView = this._createComponent($scrollViewWrapper, ScrollView, {\n        height: this._scrollViewHeight\n      });\n\n      this._renderTabInnerContent(scrollView.content(), tab, index);\n\n      if (isSingleTab) {\n        this._popup.option(\"height\", scrollView.$element().height() + this._getVerticalPaddingsAndBorders());\n      } else {\n        this._firstScrollView = this._firstScrollView || scrollView;\n      }\n    }\n  }, {\n    key: \"_renderTabInnerContent\",\n    value: function _renderTabInnerContent($parent, group, index) {\n      var _this2 = this;\n\n      if (group.groups) {\n        group.groups.forEach(function (sg, si) {\n          _this2._renderTabGroupContent($parent, index, sg.title, sg.commands);\n        });\n      } else if (group.commands) {\n        this._renderTabGroupContent($parent, index, void 0, group.commands);\n      }\n    }\n  }, {\n    key: \"_renderTabGroupContent\",\n    value: function _renderTabGroupContent($parent, index, title, commands) {\n      if (title) {\n        $(\"<div>\").addClass(DIAGRAM_PROPERTIES_PANEL_GROUP_TITLE_CLASS).appendTo($parent).text(title);\n      }\n\n      var $toolbar = $(\"<div>\").addClass(DIAGRAM_PROPERTIES_PANEL_GROUP_TOOLBAR_CLASS).appendTo($parent);\n      var args = {\n        $parent: $toolbar,\n        commands: commands\n      };\n\n      this._onCreateToolbarAction(args);\n\n      if (!this._toolbars[index]) {\n        this._toolbars[index] = [];\n      }\n\n      this._toolbars[index].push(args.toolbar);\n\n      this._selectedToolbar = args.toolbar;\n    }\n  }, {\n    key: \"getActiveToolbars\",\n    value: function getActiveToolbars() {\n      var index = this._tabPanel ? this._tabPanel.option(\"selectedIndex\") : 0;\n      return this._toolbars[index];\n    }\n  }, {\n    key: \"_createOnCreateToolbar\",\n    value: function _createOnCreateToolbar() {\n      this._onCreateToolbarAction = this._createActionByOption(\"onCreateToolbar\");\n    }\n  }, {\n    key: \"_createOnSelectedGroupChanged\",\n    value: function _createOnSelectedGroupChanged() {\n      this._onSelectedGroupChangedAction = this._createActionByOption(\"onSelectedGroupChanged\");\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function _optionChanged(args) {\n      switch (args.name) {\n        case \"onCreateToolbar\":\n          this._createOnCreateToolbar();\n\n          break;\n\n        case \"onSelectedGroupChanged\":\n          this._createOnSelectedGroupChanged();\n\n          break;\n\n        case \"propertyTabs\":\n          this._invalidate();\n\n          break;\n\n        default:\n          _get(_getPrototypeOf(DiagramPropertiesPanel.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }]);\n\n  return DiagramPropertiesPanel;\n}(DiagramFloatingPanel);\n\nexport default DiagramPropertiesPanel;","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/ui/diagram/ui.diagram.properties_panel.js"],"names":["$","extend","ScrollView","TabPanel","DiagramFloatingPanel","DiagramCommandsManager","DIAGRAM_PROPERTIES_POPUP_WIDTH","DIAGRAM_PROPERTIES_POPUP_HEIGHT","DIAGRAM_PROPERTIES_POPUP_CLASS","DIAGRAM_PROPERTIES_POPUP_NOTABS_CLASS","DIAGRAM_PROPERTIES_PANEL_CLASS","DIAGRAM_PROPERTIES_PANEL_GROUP_TITLE_CLASS","DIAGRAM_PROPERTIES_PANEL_GROUP_TOOLBAR_CLASS","DiagramPropertiesPanel","_commandTabs","getPropertyPanelCommandTabs","option","_createOnCreateToolbar","_createOnSelectedGroupChanged","_toolbars","_selectedToolbar","className","_hasTabPanel","isMobileView","$parent","my","at","of","offset","hide","_getPopupSlideAnimationObject","direction","from","position","to","show","showTitle","showCloseButton","length","$panel","addClass","appendTo","_renderTabPanel","_renderTabContent","$tabPanel","_tabPanel","_createComponent","focusStateEnabled","dataSource","itemTemplate","data","index","$element","onSelectionChanged","e","_onSelectedGroupChangedAction","_onPointerUpAction","onContentReady","_popup","component","height","_getVerticalPaddingsAndBorders","_firstScrollView","_scrollViewHeight","outerHeight","tab","isSingleTab","$scrollViewWrapper","scrollView","_renderTabInnerContent","content","group","groups","forEach","sg","si","_renderTabGroupContent","title","commands","text","$toolbar","args","_onCreateToolbarAction","push","toolbar","_createActionByOption","name","_invalidate"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/diagram/ui.diagram.properties_panel.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport ScrollView from \"../scroll_view\";\r\nimport TabPanel from \"../tab_panel\";\r\nimport DiagramFloatingPanel from \"./ui.diagram.floating_panel\";\r\nimport DiagramCommandsManager from \"./diagram.commands_manager\";\r\nvar DIAGRAM_PROPERTIES_POPUP_WIDTH = 420;\r\nvar DIAGRAM_PROPERTIES_POPUP_HEIGHT = 340;\r\nvar DIAGRAM_PROPERTIES_POPUP_CLASS = \"dx-diagram-properties-popup\";\r\nvar DIAGRAM_PROPERTIES_POPUP_NOTABS_CLASS = \"dx-diagram-properties-popup-notabs\";\r\nvar DIAGRAM_PROPERTIES_PANEL_CLASS = \"dx-diagram-properties-panel\";\r\nvar DIAGRAM_PROPERTIES_PANEL_GROUP_TITLE_CLASS = \"dx-diagram-properties-panel-group-title\";\r\nvar DIAGRAM_PROPERTIES_PANEL_GROUP_TOOLBAR_CLASS = \"dx-diagram-properties-panel-group-toolbar\";\r\nclass DiagramPropertiesPanel extends DiagramFloatingPanel {\r\n    _init() {\r\n        super._init();\r\n        this._commandTabs = DiagramCommandsManager.getPropertyPanelCommandTabs(this.option(\"propertyTabs\"));\r\n        this._createOnCreateToolbar();\r\n        this._createOnSelectedGroupChanged()\r\n    }\r\n    _initMarkup() {\r\n        this._toolbars = [];\r\n        this._selectedToolbar = void 0;\r\n        super._initMarkup()\r\n    }\r\n    _getPopupClass() {\r\n        var className = DIAGRAM_PROPERTIES_POPUP_CLASS;\r\n        if (!this._hasTabPanel()) {\r\n            className += \" \" + DIAGRAM_PROPERTIES_POPUP_NOTABS_CLASS\r\n        }\r\n        return className\r\n    }\r\n    _getPopupWidth() {\r\n        return this.isMobileView() ? \"100%\" : DIAGRAM_PROPERTIES_POPUP_WIDTH\r\n    }\r\n    _getPopupHeight() {\r\n        return DIAGRAM_PROPERTIES_POPUP_HEIGHT\r\n    }\r\n    _getPopupPosition() {\r\n        var $parent = this.option(\"offsetParent\");\r\n        if (this.isMobileView()) {\r\n            return {\r\n                my: \"left bottom\",\r\n                at: \"left bottom\",\r\n                of: $parent\r\n            }\r\n        }\r\n        return {\r\n            my: \"right bottom\",\r\n            at: \"right bottom\",\r\n            of: $parent,\r\n            offset: \"-\" + this.option(\"offsetX\") + \" -\" + this.option(\"offsetY\")\r\n        }\r\n    }\r\n    _getPopupAnimation() {\r\n        var $parent = this.option(\"offsetParent\");\r\n        if (this.isMobileView()) {\r\n            return {\r\n                hide: this._getPopupSlideAnimationObject({\r\n                    direction: \"bottom\",\r\n                    from: {\r\n                        position: {\r\n                            my: \"left bottom\",\r\n                            at: \"left bottom\",\r\n                            of: $parent\r\n                        }\r\n                    },\r\n                    to: {\r\n                        position: {\r\n                            my: \"left top\",\r\n                            at: \"left bottom\",\r\n                            of: $parent\r\n                        }\r\n                    }\r\n                }),\r\n                show: this._getPopupSlideAnimationObject({\r\n                    direction: \"top\",\r\n                    from: {\r\n                        position: {\r\n                            my: \"left top\",\r\n                            at: \"left bottom\",\r\n                            of: $parent\r\n                        }\r\n                    },\r\n                    to: {\r\n                        position: {\r\n                            my: \"left bottom\",\r\n                            at: \"left bottom\",\r\n                            of: $parent\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        return super._getPopupAnimation()\r\n    }\r\n    _getPopupOptions() {\r\n        return extend(super._getPopupOptions(), {\r\n            showTitle: this.isMobileView(),\r\n            showCloseButton: this.isMobileView()\r\n        })\r\n    }\r\n    _renderPopupContent($parent) {\r\n        if (!this._commandTabs.length) {\r\n            return\r\n        }\r\n        var $panel = $(\"<div>\").addClass(DIAGRAM_PROPERTIES_PANEL_CLASS).appendTo($parent);\r\n        if (this._hasTabPanel()) {\r\n            this._renderTabPanel($panel)\r\n        } else {\r\n            this._renderTabContent($panel, this._commandTabs[0], 0, true)\r\n        }\r\n    }\r\n    _hasTabPanel() {\r\n        return this._commandTabs.length > 1\r\n    }\r\n    _renderTabPanel($parent) {\r\n        var $tabPanel = $(\"<div>\").appendTo($parent);\r\n        this._tabPanel = this._createComponent($tabPanel, TabPanel, {\r\n            focusStateEnabled: false,\r\n            dataSource: this._commandTabs,\r\n            itemTemplate: (data, index, $element) => {\r\n                this._renderTabContent($element, data, index)\r\n            },\r\n            onSelectionChanged: e => {\r\n                this._onSelectedGroupChangedAction();\r\n                this._onPointerUpAction()\r\n            },\r\n            onContentReady: e => {\r\n                this._popup.option(\"height\", e.component.$element().height() + this._getVerticalPaddingsAndBorders());\r\n                if (this._firstScrollView) {\r\n                    this._scrollViewHeight = this._firstScrollView.$element().outerHeight();\r\n                    this._firstScrollView.option(\"height\", this._scrollViewHeight)\r\n                }\r\n            }\r\n        })\r\n    }\r\n    _renderTabContent($parent, tab, index, isSingleTab) {\r\n        var $scrollViewWrapper = $(\"<div>\").appendTo($parent);\r\n        var scrollView = this._createComponent($scrollViewWrapper, ScrollView, {\r\n            height: this._scrollViewHeight\r\n        });\r\n        this._renderTabInnerContent(scrollView.content(), tab, index);\r\n        if (isSingleTab) {\r\n            this._popup.option(\"height\", scrollView.$element().height() + this._getVerticalPaddingsAndBorders())\r\n        } else {\r\n            this._firstScrollView = this._firstScrollView || scrollView\r\n        }\r\n    }\r\n    _renderTabInnerContent($parent, group, index) {\r\n        if (group.groups) {\r\n            group.groups.forEach((sg, si) => {\r\n                this._renderTabGroupContent($parent, index, sg.title, sg.commands)\r\n            })\r\n        } else if (group.commands) {\r\n            this._renderTabGroupContent($parent, index, void 0, group.commands)\r\n        }\r\n    }\r\n    _renderTabGroupContent($parent, index, title, commands) {\r\n        if (title) {\r\n            $(\"<div>\").addClass(DIAGRAM_PROPERTIES_PANEL_GROUP_TITLE_CLASS).appendTo($parent).text(title)\r\n        }\r\n        var $toolbar = $(\"<div>\").addClass(DIAGRAM_PROPERTIES_PANEL_GROUP_TOOLBAR_CLASS).appendTo($parent);\r\n        var args = {\r\n            $parent: $toolbar,\r\n            commands: commands\r\n        };\r\n        this._onCreateToolbarAction(args);\r\n        if (!this._toolbars[index]) {\r\n            this._toolbars[index] = []\r\n        }\r\n        this._toolbars[index].push(args.toolbar);\r\n        this._selectedToolbar = args.toolbar\r\n    }\r\n    getActiveToolbars() {\r\n        var index = this._tabPanel ? this._tabPanel.option(\"selectedIndex\") : 0;\r\n        return this._toolbars[index]\r\n    }\r\n    _createOnCreateToolbar() {\r\n        this._onCreateToolbarAction = this._createActionByOption(\"onCreateToolbar\")\r\n    }\r\n    _createOnSelectedGroupChanged() {\r\n        this._onSelectedGroupChangedAction = this._createActionByOption(\"onSelectedGroupChanged\")\r\n    }\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"onCreateToolbar\":\r\n                this._createOnCreateToolbar();\r\n                break;\r\n            case \"onSelectedGroupChanged\":\r\n                this._createOnSelectedGroupChanged();\r\n                break;\r\n            case \"propertyTabs\":\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n}\r\nexport default DiagramPropertiesPanel;\r\n"]},"metadata":{},"sourceType":"module"}