{"ast":null,"code":"import _classCallCheck from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\n/**\r\n * DevExtreme (esm/ui/diagram/ui.diagram.floating_panel.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport { extend } from \"../../core/utils/extend\";\nimport { hasWindow } from \"../../core/utils/window\";\nimport Popup from \"../popup\";\nimport DiagramPanel from \"./ui.diagram.panel\";\nvar DIAGRAM_MOBILE_POPUP_CLASS = \"dx-diagram-mobile-popup\";\n\nvar DiagramFloatingPanel = /*#__PURE__*/function (_DiagramPanel) {\n  _inherits(DiagramFloatingPanel, _DiagramPanel);\n\n  var _super = _createSuper(DiagramFloatingPanel);\n\n  function DiagramFloatingPanel() {\n    _classCallCheck(this, DiagramFloatingPanel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(DiagramFloatingPanel, [{\n    key: \"_init\",\n    value: function _init() {\n      _get(_getPrototypeOf(DiagramFloatingPanel.prototype), \"_init\", this).call(this);\n\n      this._createOnVisibilityChangingAction();\n\n      this._createOnVisibilityChangedAction();\n    }\n  }, {\n    key: \"isVisible\",\n    value: function isVisible() {\n      return this.option(\"isVisible\");\n    }\n  }, {\n    key: \"isMobileView\",\n    value: function isMobileView() {\n      return this.option(\"isMobileView\");\n    }\n  }, {\n    key: \"_initMarkup\",\n    value: function _initMarkup() {\n      _get(_getPrototypeOf(DiagramFloatingPanel.prototype), \"_initMarkup\", this).call(this);\n\n      var $parent = this.$element();\n      var $popupElement = $(\"<div>\").addClass(this._getPopupClass()).addClass(this.isMobileView() && DIAGRAM_MOBILE_POPUP_CLASS).appendTo($parent);\n      this._popup = this._createComponent($popupElement, Popup, this._getPopupOptions());\n\n      this._updatePopupVisible();\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.option(\"isVisible\", true);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.option(\"isVisible\", false);\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      this.option(\"isVisible\", !this.isVisible());\n    }\n  }, {\n    key: \"repaint\",\n    value: function repaint() {\n      this._popup.repaint();\n    }\n  }, {\n    key: \"_getPopupContent\",\n    value: function _getPopupContent() {\n      return this._popup.content();\n    }\n  }, {\n    key: \"_getPopupTitle\",\n    value: function _getPopupTitle() {\n      var $content = $(this._getPopupContent());\n      return $content.parent().find(\".dx-popup-title\");\n    }\n  }, {\n    key: \"_getPointerUpElements\",\n    value: function _getPointerUpElements() {\n      return [this._getPopupContent(), this._getPopupTitle()];\n    }\n  }, {\n    key: \"_getVerticalPaddingsAndBorders\",\n    value: function _getVerticalPaddingsAndBorders() {\n      var $content = $(this._getPopupContent());\n      return $content.outerHeight() - $content.height();\n    }\n  }, {\n    key: \"_getHorizontalPaddingsAndBorders\",\n    value: function _getHorizontalPaddingsAndBorders() {\n      var $content = $(this._getPopupContent());\n      return $content.outerWidth() - $content.width();\n    }\n  }, {\n    key: \"_getPopupClass\",\n    value: function _getPopupClass() {\n      return \"\";\n    }\n  }, {\n    key: \"_getPopupWidth\",\n    value: function _getPopupWidth() {\n      return this.option(\"width\") || \"auto\";\n    }\n  }, {\n    key: \"_getPopupMaxWidth\",\n    value: function _getPopupMaxWidth() {\n      return this.option(\"maxWidth\");\n    }\n  }, {\n    key: \"_getPopupMinWidth\",\n    value: function _getPopupMinWidth() {\n      return this.option(\"minWidth\");\n    }\n  }, {\n    key: \"_getPopupHeight\",\n    value: function _getPopupHeight() {\n      return this.option(\"height\") || \"auto\";\n    }\n  }, {\n    key: \"_getPopupMaxHeight\",\n    value: function _getPopupMaxHeight() {\n      return this.option(\"maxHeight\");\n    }\n  }, {\n    key: \"_getPopupMinHeight\",\n    value: function _getPopupMinHeight() {\n      return this.option(\"minHeight\");\n    }\n  }, {\n    key: \"_getPopupPosition\",\n    value: function _getPopupPosition() {\n      return {};\n    }\n  }, {\n    key: \"_getPopupContainer\",\n    value: function _getPopupContainer() {\n      return this.option(\"container\");\n    }\n  }, {\n    key: \"_getPopupSlideAnimationObject\",\n    value: function _getPopupSlideAnimationObject(properties) {\n      return extend({\n        type: \"slide\",\n        start: function start() {\n          $(\"body\").css(\"overflow\", \"hidden\");\n        },\n        complete: function complete() {\n          $(\"body\").css(\"overflow\", \"\");\n        }\n      }, properties);\n    }\n  }, {\n    key: \"_getPopupAnimation\",\n    value: function _getPopupAnimation() {\n      return {\n        hide: {\n          type: \"fadeOut\"\n        },\n        show: {\n          type: \"fadeIn\"\n        }\n      };\n    }\n  }, {\n    key: \"_getPopupOptions\",\n    value: function _getPopupOptions() {\n      var _this = this;\n\n      var that = this;\n      return {\n        animation: hasWindow() ? this._getPopupAnimation() : null,\n        shading: false,\n        showTitle: false,\n        focusStateEnabled: false,\n        container: this._getPopupContainer(),\n        width: this._getPopupWidth(),\n        height: this._getPopupHeight(),\n        maxWidth: this._getPopupMaxWidth(),\n        maxHeight: this._getPopupMaxHeight(),\n        minWidth: this._getPopupMinWidth(),\n        minHeight: this._getPopupMinHeight(),\n        position: this._getPopupPosition(),\n        onContentReady: function onContentReady() {\n          that._renderPopupContent(that._popup.content());\n        },\n        onShowing: function onShowing() {\n          _this._onVisibilityChangingAction({\n            visible: true,\n            component: _this\n          });\n        },\n        onShown: function onShown() {\n          _this.option(\"isVisible\", true);\n\n          _this._onVisibilityChangedAction({\n            visible: true,\n            component: _this\n          });\n        },\n        onHiding: function onHiding() {\n          _this._onVisibilityChangingAction({\n            visible: false,\n            component: _this\n          });\n        },\n        onHidden: function onHidden() {\n          _this.option(\"isVisible\", false);\n\n          _this._onVisibilityChangedAction({\n            visible: false,\n            component: _this\n          });\n        }\n      };\n    }\n  }, {\n    key: \"_renderPopupContent\",\n    value: function _renderPopupContent($parent) {}\n  }, {\n    key: \"_updatePopupVisible\",\n    value: function _updatePopupVisible() {\n      this._popup.option(\"visible\", this.isVisible());\n    }\n  }, {\n    key: \"_createOnVisibilityChangingAction\",\n    value: function _createOnVisibilityChangingAction() {\n      this._onVisibilityChangingAction = this._createActionByOption(\"onVisibilityChanging\");\n    }\n  }, {\n    key: \"_createOnVisibilityChangedAction\",\n    value: function _createOnVisibilityChangedAction() {\n      this._onVisibilityChangedAction = this._createActionByOption(\"onVisibilityChanged\");\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function _optionChanged(args) {\n      switch (args.name) {\n        case \"onVisibilityChanging\":\n          this._createOnVisibilityChangingAction();\n\n          break;\n\n        case \"onVisibilityChanged\":\n          this._createOnVisibilityChangedAction();\n\n          break;\n\n        case \"container\":\n          this._popup.option(\"container\", this._getPopupContainer());\n\n          break;\n\n        case \"width\":\n          this._popup.option(\"width\", this._getPopupWidth());\n\n          break;\n\n        case \"height\":\n          this._popup.option(\"height\", this._getPopupHeight());\n\n          break;\n\n        case \"maxWidth\":\n          this._popup.option(\"maxWidth\", this._getPopupMaxWidth());\n\n          break;\n\n        case \"maxHeight\":\n          this._popup.option(\"maxHeight\", this._getPopupMaxHeight());\n\n          break;\n\n        case \"minWidth\":\n          this._popup.option(\"minWidth\", this._getPopupMinWidth());\n\n          break;\n\n        case \"minHeight\":\n          this._popup.option(\"minHeight\", this._getPopupMinHeight());\n\n          break;\n\n        case \"isMobileView\":\n          this._invalidate();\n\n          break;\n\n        case \"isVisible\":\n          this._updatePopupVisible();\n\n          break;\n\n        default:\n          _get(_getPrototypeOf(DiagramFloatingPanel.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }, {\n    key: \"_getDefaultOptions\",\n    value: function _getDefaultOptions() {\n      return extend(_get(_getPrototypeOf(DiagramFloatingPanel.prototype), \"_getDefaultOptions\", this).call(this), {\n        isVisible: true,\n        isMobileView: false,\n        offsetX: 0,\n        offsetY: 0\n      });\n    }\n  }]);\n\n  return DiagramFloatingPanel;\n}(DiagramPanel);\n\nexport default DiagramFloatingPanel;","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/ui/diagram/ui.diagram.floating_panel.js"],"names":["$","extend","hasWindow","Popup","DiagramPanel","DIAGRAM_MOBILE_POPUP_CLASS","DiagramFloatingPanel","_createOnVisibilityChangingAction","_createOnVisibilityChangedAction","option","$parent","$element","$popupElement","addClass","_getPopupClass","isMobileView","appendTo","_popup","_createComponent","_getPopupOptions","_updatePopupVisible","isVisible","repaint","content","$content","_getPopupContent","parent","find","_getPopupTitle","outerHeight","height","outerWidth","width","properties","type","start","css","complete","hide","show","that","animation","_getPopupAnimation","shading","showTitle","focusStateEnabled","container","_getPopupContainer","_getPopupWidth","_getPopupHeight","maxWidth","_getPopupMaxWidth","maxHeight","_getPopupMaxHeight","minWidth","_getPopupMinWidth","minHeight","_getPopupMinHeight","position","_getPopupPosition","onContentReady","_renderPopupContent","onShowing","_onVisibilityChangingAction","visible","component","onShown","_onVisibilityChangedAction","onHiding","onHidden","_createActionByOption","args","name","_invalidate","offsetX","offsetY"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/diagram/ui.diagram.floating_panel.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport Popup from \"../popup\";\r\nimport DiagramPanel from \"./ui.diagram.panel\";\r\nvar DIAGRAM_MOBILE_POPUP_CLASS = \"dx-diagram-mobile-popup\";\r\nclass DiagramFloatingPanel extends DiagramPanel {\r\n    _init() {\r\n        super._init();\r\n        this._createOnVisibilityChangingAction();\r\n        this._createOnVisibilityChangedAction()\r\n    }\r\n    isVisible() {\r\n        return this.option(\"isVisible\")\r\n    }\r\n    isMobileView() {\r\n        return this.option(\"isMobileView\")\r\n    }\r\n    _initMarkup() {\r\n        super._initMarkup();\r\n        var $parent = this.$element();\r\n        var $popupElement = $(\"<div>\").addClass(this._getPopupClass()).addClass(this.isMobileView() && DIAGRAM_MOBILE_POPUP_CLASS).appendTo($parent);\r\n        this._popup = this._createComponent($popupElement, Popup, this._getPopupOptions());\r\n        this._updatePopupVisible()\r\n    }\r\n    show() {\r\n        this.option(\"isVisible\", true)\r\n    }\r\n    hide() {\r\n        this.option(\"isVisible\", false)\r\n    }\r\n    toggle() {\r\n        this.option(\"isVisible\", !this.isVisible())\r\n    }\r\n    repaint() {\r\n        this._popup.repaint()\r\n    }\r\n    _getPopupContent() {\r\n        return this._popup.content()\r\n    }\r\n    _getPopupTitle() {\r\n        var $content = $(this._getPopupContent());\r\n        return $content.parent().find(\".dx-popup-title\")\r\n    }\r\n    _getPointerUpElements() {\r\n        return [this._getPopupContent(), this._getPopupTitle()]\r\n    }\r\n    _getVerticalPaddingsAndBorders() {\r\n        var $content = $(this._getPopupContent());\r\n        return $content.outerHeight() - $content.height()\r\n    }\r\n    _getHorizontalPaddingsAndBorders() {\r\n        var $content = $(this._getPopupContent());\r\n        return $content.outerWidth() - $content.width()\r\n    }\r\n    _getPopupClass() {\r\n        return \"\"\r\n    }\r\n    _getPopupWidth() {\r\n        return this.option(\"width\") || \"auto\"\r\n    }\r\n    _getPopupMaxWidth() {\r\n        return this.option(\"maxWidth\")\r\n    }\r\n    _getPopupMinWidth() {\r\n        return this.option(\"minWidth\")\r\n    }\r\n    _getPopupHeight() {\r\n        return this.option(\"height\") || \"auto\"\r\n    }\r\n    _getPopupMaxHeight() {\r\n        return this.option(\"maxHeight\")\r\n    }\r\n    _getPopupMinHeight() {\r\n        return this.option(\"minHeight\")\r\n    }\r\n    _getPopupPosition() {\r\n        return {}\r\n    }\r\n    _getPopupContainer() {\r\n        return this.option(\"container\")\r\n    }\r\n    _getPopupSlideAnimationObject(properties) {\r\n        return extend({\r\n            type: \"slide\",\r\n            start: () => {\r\n                $(\"body\").css(\"overflow\", \"hidden\")\r\n            },\r\n            complete: () => {\r\n                $(\"body\").css(\"overflow\", \"\")\r\n            }\r\n        }, properties)\r\n    }\r\n    _getPopupAnimation() {\r\n        return {\r\n            hide: {\r\n                type: \"fadeOut\"\r\n            },\r\n            show: {\r\n                type: \"fadeIn\"\r\n            }\r\n        }\r\n    }\r\n    _getPopupOptions() {\r\n        var that = this;\r\n        return {\r\n            animation: hasWindow() ? this._getPopupAnimation() : null,\r\n            shading: false,\r\n            showTitle: false,\r\n            focusStateEnabled: false,\r\n            container: this._getPopupContainer(),\r\n            width: this._getPopupWidth(),\r\n            height: this._getPopupHeight(),\r\n            maxWidth: this._getPopupMaxWidth(),\r\n            maxHeight: this._getPopupMaxHeight(),\r\n            minWidth: this._getPopupMinWidth(),\r\n            minHeight: this._getPopupMinHeight(),\r\n            position: this._getPopupPosition(),\r\n            onContentReady: function() {\r\n                that._renderPopupContent(that._popup.content())\r\n            },\r\n            onShowing: () => {\r\n                this._onVisibilityChangingAction({\r\n                    visible: true,\r\n                    component: this\r\n                })\r\n            },\r\n            onShown: () => {\r\n                this.option(\"isVisible\", true);\r\n                this._onVisibilityChangedAction({\r\n                    visible: true,\r\n                    component: this\r\n                })\r\n            },\r\n            onHiding: () => {\r\n                this._onVisibilityChangingAction({\r\n                    visible: false,\r\n                    component: this\r\n                })\r\n            },\r\n            onHidden: () => {\r\n                this.option(\"isVisible\", false);\r\n                this._onVisibilityChangedAction({\r\n                    visible: false,\r\n                    component: this\r\n                })\r\n            }\r\n        }\r\n    }\r\n    _renderPopupContent($parent) {}\r\n    _updatePopupVisible() {\r\n        this._popup.option(\"visible\", this.isVisible())\r\n    }\r\n    _createOnVisibilityChangingAction() {\r\n        this._onVisibilityChangingAction = this._createActionByOption(\"onVisibilityChanging\")\r\n    }\r\n    _createOnVisibilityChangedAction() {\r\n        this._onVisibilityChangedAction = this._createActionByOption(\"onVisibilityChanged\")\r\n    }\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"onVisibilityChanging\":\r\n                this._createOnVisibilityChangingAction();\r\n                break;\r\n            case \"onVisibilityChanged\":\r\n                this._createOnVisibilityChangedAction();\r\n                break;\r\n            case \"container\":\r\n                this._popup.option(\"container\", this._getPopupContainer());\r\n                break;\r\n            case \"width\":\r\n                this._popup.option(\"width\", this._getPopupWidth());\r\n                break;\r\n            case \"height\":\r\n                this._popup.option(\"height\", this._getPopupHeight());\r\n                break;\r\n            case \"maxWidth\":\r\n                this._popup.option(\"maxWidth\", this._getPopupMaxWidth());\r\n                break;\r\n            case \"maxHeight\":\r\n                this._popup.option(\"maxHeight\", this._getPopupMaxHeight());\r\n                break;\r\n            case \"minWidth\":\r\n                this._popup.option(\"minWidth\", this._getPopupMinWidth());\r\n                break;\r\n            case \"minHeight\":\r\n                this._popup.option(\"minHeight\", this._getPopupMinHeight());\r\n                break;\r\n            case \"isMobileView\":\r\n                this._invalidate();\r\n                break;\r\n            case \"isVisible\":\r\n                this._updatePopupVisible();\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            isVisible: true,\r\n            isMobileView: false,\r\n            offsetX: 0,\r\n            offsetY: 0\r\n        })\r\n    }\r\n}\r\nexport default DiagramFloatingPanel;\r\n"]},"metadata":{},"sourceType":"module"}