{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/color_box/color_box.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport Color from \"../../color\";\nimport ColorView from \"./color_view\";\nimport { extend } from \"../../core/utils/extend\";\nimport registerComponent from \"../../core/component_registrator\";\nimport DropDownEditor from \"../drop_down_editor/ui.drop_down_editor\";\nvar COLOR_BOX_CLASS = \"dx-colorbox\";\nvar COLOR_BOX_INPUT_CLASS = COLOR_BOX_CLASS + \"-input\";\nvar COLOR_BOX_INPUT_CONTAINER_CLASS = COLOR_BOX_INPUT_CLASS + \"-container\";\nvar COLOR_BOX_COLOR_RESULT_PREVIEW_CLASS = COLOR_BOX_CLASS + \"-color-result-preview\";\nvar COLOR_BOX_COLOR_IS_NOT_DEFINED = COLOR_BOX_CLASS + \"-color-is-not-defined\";\nvar COLOR_BOX_OVERLAY_CLASS = COLOR_BOX_CLASS + \"-overlay\";\nvar COLOR_BOX_CONTAINER_CELL_CLASS = \"dx-colorview-container-cell\";\nvar COLOR_BOX_BUTTON_CELL_CLASS = \"dx-colorview-button-cell\";\nvar COLOR_BOX_BUTTONS_CONTAINER_CLASS = \"dx-colorview-buttons-container\";\nvar COLOR_BOX_APPLY_BUTTON_CLASS = \"dx-colorview-apply-button\";\nvar COLOR_BOX_CANCEL_BUTTON_CLASS = \"dx-colorview-cancel-button\";\nvar colorEditorPrototype = ColorView.prototype;\nvar colorUtils = {\n  makeTransparentBackground: colorEditorPrototype._makeTransparentBackground.bind(colorEditorPrototype),\n  makeRgba: colorEditorPrototype._makeRgba.bind(colorEditorPrototype)\n};\nvar ColorBox = DropDownEditor.inherit({\n  _supportedKeys: function _supportedKeys() {\n    var arrowHandler = function arrowHandler(e) {\n      e.stopPropagation();\n\n      if (this.option(\"opened\")) {\n        e.preventDefault();\n        return true;\n      }\n    };\n\n    return extend(this.callBase(), {\n      tab: function tab(e) {\n        if (this.option(\"opened\")) {\n          e.preventDefault();\n\n          this._colorView._rgbInputs[0].focus();\n        }\n      },\n      enter: this._enterKeyHandler,\n      leftArrow: arrowHandler,\n      rightArrow: arrowHandler,\n      upArrow: function upArrow(e) {\n        if (!this.option(\"opened\")) {\n          e.preventDefault();\n          return false;\n        }\n\n        if (e.altKey) {\n          this.close();\n          return false;\n        }\n\n        return true;\n      },\n      downArrow: function downArrow(e) {\n        if (!this.option(\"opened\") && !e.altKey) {\n          e.preventDefault();\n          return false;\n        }\n\n        if (!this.option(\"opened\") && e.altKey) {\n          this._validatedOpening();\n\n          return false;\n        }\n\n        return true;\n      }\n    });\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      editAlphaChannel: false,\n      applyValueMode: \"useButtons\",\n      keyStep: 1,\n      fieldTemplate: null,\n      buttonsLocation: \"bottom after\"\n    });\n  },\n  _popupHidingHandler: function _popupHidingHandler() {\n    this.callBase();\n\n    if (\"useButtons\" === this.option(\"applyValueMode\")) {\n      this._updateColorViewValue(this.option(\"value\"));\n    }\n  },\n  _popupConfig: function _popupConfig() {\n    return extend(this.callBase(), {\n      width: \"\"\n    });\n  },\n  _contentReadyHandler: function _contentReadyHandler() {\n    this._createColorView();\n\n    this._addPopupBottomClasses();\n  },\n  _addPopupBottomClasses: function _addPopupBottomClasses() {\n    var $popupBottom = this._popup.bottomToolbar();\n\n    if ($popupBottom) {\n      $popupBottom.addClass(COLOR_BOX_CONTAINER_CELL_CLASS).addClass(COLOR_BOX_BUTTON_CELL_CLASS).find(\".dx-toolbar-items-container\").addClass(COLOR_BOX_BUTTONS_CONTAINER_CLASS);\n      $popupBottom.find(\".dx-popup-done\").addClass(COLOR_BOX_APPLY_BUTTON_CLASS);\n      $popupBottom.find(\".dx-popup-cancel\").addClass(COLOR_BOX_CANCEL_BUTTON_CLASS);\n    }\n  },\n  _createColorView: function _createColorView() {\n    this._popup.$overlayContent().addClass(COLOR_BOX_OVERLAY_CLASS);\n\n    var $colorView = $(\"<div>\").appendTo(this._popup.$content());\n    this._colorView = this._createComponent($colorView, ColorView, this._colorViewConfig());\n\n    this._colorView.registerKeyHandler(\"escape\", this._escapeHandler.bind(this));\n\n    eventsEngine.on($colorView, \"focus\", function () {\n      this.focus();\n    }.bind(this));\n  },\n  _escapeHandler: function _escapeHandler() {\n    this.close();\n    this.focus();\n  },\n  _applyNewColor: function _applyNewColor(value) {\n    this.option(\"value\", value);\n\n    if (value) {\n      colorUtils.makeTransparentBackground(this._$colorResultPreview, value);\n    }\n\n    if (this._colorViewEnterKeyPressed) {\n      this.close();\n      this._colorViewEnterKeyPressed = false;\n    }\n  },\n  _colorViewConfig: function _colorViewConfig() {\n    var that = this;\n    return {\n      value: that.option(\"value\"),\n      matchValue: that.option(\"value\"),\n      editAlphaChannel: that.option(\"editAlphaChannel\"),\n      applyValueMode: that.option(\"applyValueMode\"),\n      focusStateEnabled: that.option(\"focusStateEnabled\"),\n      stylingMode: this.option(\"stylingMode\"),\n      onEnterKeyPressed: function onEnterKeyPressed(_ref) {\n        var event = _ref.event;\n        that._colorViewEnterKeyPressed = true;\n\n        if (that._colorView.option(\"value\") !== that.option(\"value\")) {\n          that._saveValueChangeEvent(event);\n\n          that._applyNewColor(that._colorView.option(\"value\"));\n\n          that.close();\n        }\n      },\n      onValueChanged: function onValueChanged(_ref2) {\n        var event = _ref2.event,\n            value = _ref2.value,\n            previousValue = _ref2.previousValue;\n        var instantlyMode = \"instantly\" === that.option(\"applyValueMode\");\n        var isOldValue = colorUtils.makeRgba(value) === previousValue;\n        var changesApplied = instantlyMode || that._colorViewEnterKeyPressed;\n        var valueCleared = that._shouldSaveEmptyValue;\n\n        if (isOldValue || !changesApplied || valueCleared) {\n          return;\n        }\n\n        if (event) {\n          that._saveValueChangeEvent(event);\n        }\n\n        that._applyNewColor(value);\n      }\n    };\n  },\n  _enterKeyHandler: function _enterKeyHandler(e) {\n    var newValue = this._input().val();\n\n    var value = this.option(\"value\");\n    var oldValue = this.option(\"editAlphaChannel\") ? colorUtils.makeRgba(value) : value;\n\n    if (!newValue) {\n      return false;\n    }\n\n    var color = new Color(newValue);\n\n    if (color.colorIsInvalid) {\n      this._input().val(oldValue);\n\n      return;\n    }\n\n    if (newValue !== oldValue) {\n      this._applyColorFromInput(newValue);\n\n      this._saveValueChangeEvent(e);\n\n      this.option(\"value\", this.option(\"editAlphaChannel\") ? colorUtils.makeRgba(newValue) : newValue);\n    }\n\n    if (this._colorView) {\n      var colorViewValue = this._colorView.option(\"value\");\n\n      if (value !== colorViewValue) {\n        this._saveValueChangeEvent(e);\n\n        this.option(\"value\", colorViewValue);\n      }\n    }\n\n    this.close();\n    return false;\n  },\n  _applyButtonHandler: function _applyButtonHandler(e) {\n    this._saveValueChangeEvent(e.event);\n\n    this._applyNewColor(this._colorView.option(\"value\"));\n\n    this.callBase();\n  },\n  _cancelButtonHandler: function _cancelButtonHandler() {\n    this._resetInputValue();\n\n    this.callBase();\n  },\n  _getKeyboardListeners: function _getKeyboardListeners() {\n    return this.callBase().concat([this._colorView]);\n  },\n  _init: function _init() {\n    this.callBase();\n  },\n  _initMarkup: function _initMarkup() {\n    this.$element().addClass(COLOR_BOX_CLASS);\n    this.callBase();\n  },\n  _renderInput: function _renderInput() {\n    this.callBase();\n\n    this._input().addClass(COLOR_BOX_INPUT_CLASS);\n\n    this._renderColorPreview();\n  },\n  _renderColorPreview: function _renderColorPreview() {\n    this.$element().wrapInner($(\"<div>\").addClass(COLOR_BOX_INPUT_CONTAINER_CLASS));\n    this._$colorBoxInputContainer = this.$element().children().eq(0);\n    this._$colorResultPreview = $(\"<div>\").addClass(COLOR_BOX_COLOR_RESULT_PREVIEW_CLASS).appendTo(this._$textEditorInputContainer);\n\n    if (!this.option(\"value\")) {\n      this._$colorBoxInputContainer.addClass(COLOR_BOX_COLOR_IS_NOT_DEFINED);\n    } else {\n      colorUtils.makeTransparentBackground(this._$colorResultPreview, this.option(\"value\"));\n    }\n  },\n  _renderValue: function _renderValue() {\n    var value = this.option(\"value\");\n    var convertToColor = null !== value && this.option(\"editAlphaChannel\");\n    var text = convertToColor ? colorUtils.makeRgba(value) : value;\n    this.option(\"text\", text);\n    return this.callBase();\n  },\n  _resetInputValue: function _resetInputValue() {\n    var $input = this._input();\n\n    var value = this.option(\"value\");\n    $input.val(value);\n\n    this._updateColorViewValue(value);\n  },\n  _updateColorViewValue: function _updateColorViewValue(value) {\n    if (this._colorView) {\n      this._colorView.option({\n        value: value,\n        matchValue: value\n      });\n    }\n  },\n  _valueChangeEventHandler: function _valueChangeEventHandler(e) {\n    var value = this._input().val();\n\n    if (value) {\n      value = this._applyColorFromInput(value);\n\n      this._updateColorViewValue(value);\n    }\n\n    this.callBase(e, value);\n  },\n  _applyColorFromInput: function _applyColorFromInput(value) {\n    var newColor = new Color(value);\n\n    if (newColor.colorIsInvalid) {\n      this._resetInputValue();\n\n      value = this.option(\"value\");\n    }\n\n    return value;\n  },\n  _clean: function _clean() {\n    this.callBase();\n    delete this._shouldSaveEmptyValue;\n  },\n  _optionChanged: function _optionChanged(args) {\n    var value = args.value;\n    var name = args.name;\n\n    switch (name) {\n      case \"value\":\n        this._$colorBoxInputContainer.toggleClass(COLOR_BOX_COLOR_IS_NOT_DEFINED, !value);\n\n        if (value) {\n          colorUtils.makeTransparentBackground(this._$colorResultPreview, value);\n        } else {\n          this._$colorResultPreview.removeAttr(\"style\");\n        }\n\n        if (null === value) {\n          this._shouldSaveEmptyValue = true;\n        }\n\n        this._updateColorViewValue(value);\n\n        this._shouldSaveEmptyValue = false;\n        this.callBase(args);\n        break;\n\n      case \"applyButtonText\":\n      case \"cancelButtonText\":\n        this.callBase(args);\n        this._popup && this._addPopupBottomClasses();\n        break;\n\n      case \"editAlphaChannel\":\n      case \"keyStep\":\n        if (this._colorView) {\n          this._colorView.option(name, value);\n        }\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  }\n});\nregisterComponent(\"dxColorBox\", ColorBox);\nexport default ColorBox;","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/ui/color_box/color_box.js"],"names":["$","eventsEngine","Color","ColorView","extend","registerComponent","DropDownEditor","COLOR_BOX_CLASS","COLOR_BOX_INPUT_CLASS","COLOR_BOX_INPUT_CONTAINER_CLASS","COLOR_BOX_COLOR_RESULT_PREVIEW_CLASS","COLOR_BOX_COLOR_IS_NOT_DEFINED","COLOR_BOX_OVERLAY_CLASS","COLOR_BOX_CONTAINER_CELL_CLASS","COLOR_BOX_BUTTON_CELL_CLASS","COLOR_BOX_BUTTONS_CONTAINER_CLASS","COLOR_BOX_APPLY_BUTTON_CLASS","COLOR_BOX_CANCEL_BUTTON_CLASS","colorEditorPrototype","prototype","colorUtils","makeTransparentBackground","_makeTransparentBackground","bind","makeRgba","_makeRgba","ColorBox","inherit","_supportedKeys","arrowHandler","e","stopPropagation","option","preventDefault","callBase","tab","_colorView","_rgbInputs","focus","enter","_enterKeyHandler","leftArrow","rightArrow","upArrow","altKey","close","downArrow","_validatedOpening","_getDefaultOptions","editAlphaChannel","applyValueMode","keyStep","fieldTemplate","buttonsLocation","_popupHidingHandler","_updateColorViewValue","_popupConfig","width","_contentReadyHandler","_createColorView","_addPopupBottomClasses","$popupBottom","_popup","bottomToolbar","addClass","find","$overlayContent","$colorView","appendTo","$content","_createComponent","_colorViewConfig","registerKeyHandler","_escapeHandler","on","_applyNewColor","value","_$colorResultPreview","_colorViewEnterKeyPressed","that","matchValue","focusStateEnabled","stylingMode","onEnterKeyPressed","_ref","event","_saveValueChangeEvent","onValueChanged","_ref2","previousValue","instantlyMode","isOldValue","changesApplied","valueCleared","_shouldSaveEmptyValue","newValue","_input","val","oldValue","color","colorIsInvalid","_applyColorFromInput","colorViewValue","_applyButtonHandler","_cancelButtonHandler","_resetInputValue","_getKeyboardListeners","concat","_init","_initMarkup","$element","_renderInput","_renderColorPreview","wrapInner","_$colorBoxInputContainer","children","eq","_$textEditorInputContainer","_renderValue","convertToColor","text","$input","_valueChangeEventHandler","newColor","_clean","_optionChanged","args","name","toggleClass","removeAttr"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/color_box/color_box.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Color from \"../../color\";\r\nimport ColorView from \"./color_view\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport DropDownEditor from \"../drop_down_editor/ui.drop_down_editor\";\r\nvar COLOR_BOX_CLASS = \"dx-colorbox\";\r\nvar COLOR_BOX_INPUT_CLASS = COLOR_BOX_CLASS + \"-input\";\r\nvar COLOR_BOX_INPUT_CONTAINER_CLASS = COLOR_BOX_INPUT_CLASS + \"-container\";\r\nvar COLOR_BOX_COLOR_RESULT_PREVIEW_CLASS = COLOR_BOX_CLASS + \"-color-result-preview\";\r\nvar COLOR_BOX_COLOR_IS_NOT_DEFINED = COLOR_BOX_CLASS + \"-color-is-not-defined\";\r\nvar COLOR_BOX_OVERLAY_CLASS = COLOR_BOX_CLASS + \"-overlay\";\r\nvar COLOR_BOX_CONTAINER_CELL_CLASS = \"dx-colorview-container-cell\";\r\nvar COLOR_BOX_BUTTON_CELL_CLASS = \"dx-colorview-button-cell\";\r\nvar COLOR_BOX_BUTTONS_CONTAINER_CLASS = \"dx-colorview-buttons-container\";\r\nvar COLOR_BOX_APPLY_BUTTON_CLASS = \"dx-colorview-apply-button\";\r\nvar COLOR_BOX_CANCEL_BUTTON_CLASS = \"dx-colorview-cancel-button\";\r\nvar colorEditorPrototype = ColorView.prototype;\r\nvar colorUtils = {\r\n    makeTransparentBackground: colorEditorPrototype._makeTransparentBackground.bind(colorEditorPrototype),\r\n    makeRgba: colorEditorPrototype._makeRgba.bind(colorEditorPrototype)\r\n};\r\nvar ColorBox = DropDownEditor.inherit({\r\n    _supportedKeys: function() {\r\n        var arrowHandler = function(e) {\r\n            e.stopPropagation();\r\n            if (this.option(\"opened\")) {\r\n                e.preventDefault();\r\n                return true\r\n            }\r\n        };\r\n        return extend(this.callBase(), {\r\n            tab: function(e) {\r\n                if (this.option(\"opened\")) {\r\n                    e.preventDefault();\r\n                    this._colorView._rgbInputs[0].focus()\r\n                }\r\n            },\r\n            enter: this._enterKeyHandler,\r\n            leftArrow: arrowHandler,\r\n            rightArrow: arrowHandler,\r\n            upArrow: function(e) {\r\n                if (!this.option(\"opened\")) {\r\n                    e.preventDefault();\r\n                    return false\r\n                }\r\n                if (e.altKey) {\r\n                    this.close();\r\n                    return false\r\n                }\r\n                return true\r\n            },\r\n            downArrow: function(e) {\r\n                if (!this.option(\"opened\") && !e.altKey) {\r\n                    e.preventDefault();\r\n                    return false\r\n                }\r\n                if (!this.option(\"opened\") && e.altKey) {\r\n                    this._validatedOpening();\r\n                    return false\r\n                }\r\n                return true\r\n            }\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            editAlphaChannel: false,\r\n            applyValueMode: \"useButtons\",\r\n            keyStep: 1,\r\n            fieldTemplate: null,\r\n            buttonsLocation: \"bottom after\"\r\n        })\r\n    },\r\n    _popupHidingHandler: function() {\r\n        this.callBase();\r\n        if (\"useButtons\" === this.option(\"applyValueMode\")) {\r\n            this._updateColorViewValue(this.option(\"value\"))\r\n        }\r\n    },\r\n    _popupConfig: function() {\r\n        return extend(this.callBase(), {\r\n            width: \"\"\r\n        })\r\n    },\r\n    _contentReadyHandler: function() {\r\n        this._createColorView();\r\n        this._addPopupBottomClasses()\r\n    },\r\n    _addPopupBottomClasses: function() {\r\n        var $popupBottom = this._popup.bottomToolbar();\r\n        if ($popupBottom) {\r\n            $popupBottom.addClass(COLOR_BOX_CONTAINER_CELL_CLASS).addClass(COLOR_BOX_BUTTON_CELL_CLASS).find(\".dx-toolbar-items-container\").addClass(COLOR_BOX_BUTTONS_CONTAINER_CLASS);\r\n            $popupBottom.find(\".dx-popup-done\").addClass(COLOR_BOX_APPLY_BUTTON_CLASS);\r\n            $popupBottom.find(\".dx-popup-cancel\").addClass(COLOR_BOX_CANCEL_BUTTON_CLASS)\r\n        }\r\n    },\r\n    _createColorView: function() {\r\n        this._popup.$overlayContent().addClass(COLOR_BOX_OVERLAY_CLASS);\r\n        var $colorView = $(\"<div>\").appendTo(this._popup.$content());\r\n        this._colorView = this._createComponent($colorView, ColorView, this._colorViewConfig());\r\n        this._colorView.registerKeyHandler(\"escape\", this._escapeHandler.bind(this));\r\n        eventsEngine.on($colorView, \"focus\", function() {\r\n            this.focus()\r\n        }.bind(this))\r\n    },\r\n    _escapeHandler: function() {\r\n        this.close();\r\n        this.focus()\r\n    },\r\n    _applyNewColor: function(value) {\r\n        this.option(\"value\", value);\r\n        if (value) {\r\n            colorUtils.makeTransparentBackground(this._$colorResultPreview, value)\r\n        }\r\n        if (this._colorViewEnterKeyPressed) {\r\n            this.close();\r\n            this._colorViewEnterKeyPressed = false\r\n        }\r\n    },\r\n    _colorViewConfig: function() {\r\n        var that = this;\r\n        return {\r\n            value: that.option(\"value\"),\r\n            matchValue: that.option(\"value\"),\r\n            editAlphaChannel: that.option(\"editAlphaChannel\"),\r\n            applyValueMode: that.option(\"applyValueMode\"),\r\n            focusStateEnabled: that.option(\"focusStateEnabled\"),\r\n            stylingMode: this.option(\"stylingMode\"),\r\n            onEnterKeyPressed: function(_ref) {\r\n                var {\r\n                    event: event\r\n                } = _ref;\r\n                that._colorViewEnterKeyPressed = true;\r\n                if (that._colorView.option(\"value\") !== that.option(\"value\")) {\r\n                    that._saveValueChangeEvent(event);\r\n                    that._applyNewColor(that._colorView.option(\"value\"));\r\n                    that.close()\r\n                }\r\n            },\r\n            onValueChanged: function(_ref2) {\r\n                var {\r\n                    event: event,\r\n                    value: value,\r\n                    previousValue: previousValue\r\n                } = _ref2;\r\n                var instantlyMode = \"instantly\" === that.option(\"applyValueMode\");\r\n                var isOldValue = colorUtils.makeRgba(value) === previousValue;\r\n                var changesApplied = instantlyMode || that._colorViewEnterKeyPressed;\r\n                var valueCleared = that._shouldSaveEmptyValue;\r\n                if (isOldValue || !changesApplied || valueCleared) {\r\n                    return\r\n                }\r\n                if (event) {\r\n                    that._saveValueChangeEvent(event)\r\n                }\r\n                that._applyNewColor(value)\r\n            }\r\n        }\r\n    },\r\n    _enterKeyHandler: function(e) {\r\n        var newValue = this._input().val();\r\n        var value = this.option(\"value\");\r\n        var oldValue = this.option(\"editAlphaChannel\") ? colorUtils.makeRgba(value) : value;\r\n        if (!newValue) {\r\n            return false\r\n        }\r\n        var color = new Color(newValue);\r\n        if (color.colorIsInvalid) {\r\n            this._input().val(oldValue);\r\n            return\r\n        }\r\n        if (newValue !== oldValue) {\r\n            this._applyColorFromInput(newValue);\r\n            this._saveValueChangeEvent(e);\r\n            this.option(\"value\", this.option(\"editAlphaChannel\") ? colorUtils.makeRgba(newValue) : newValue)\r\n        }\r\n        if (this._colorView) {\r\n            var colorViewValue = this._colorView.option(\"value\");\r\n            if (value !== colorViewValue) {\r\n                this._saveValueChangeEvent(e);\r\n                this.option(\"value\", colorViewValue)\r\n            }\r\n        }\r\n        this.close();\r\n        return false\r\n    },\r\n    _applyButtonHandler: function(e) {\r\n        this._saveValueChangeEvent(e.event);\r\n        this._applyNewColor(this._colorView.option(\"value\"));\r\n        this.callBase()\r\n    },\r\n    _cancelButtonHandler: function() {\r\n        this._resetInputValue();\r\n        this.callBase()\r\n    },\r\n    _getKeyboardListeners() {\r\n        return this.callBase().concat([this._colorView])\r\n    },\r\n    _init: function() {\r\n        this.callBase()\r\n    },\r\n    _initMarkup: function() {\r\n        this.$element().addClass(COLOR_BOX_CLASS);\r\n        this.callBase()\r\n    },\r\n    _renderInput: function() {\r\n        this.callBase();\r\n        this._input().addClass(COLOR_BOX_INPUT_CLASS);\r\n        this._renderColorPreview()\r\n    },\r\n    _renderColorPreview: function() {\r\n        this.$element().wrapInner($(\"<div>\").addClass(COLOR_BOX_INPUT_CONTAINER_CLASS));\r\n        this._$colorBoxInputContainer = this.$element().children().eq(0);\r\n        this._$colorResultPreview = $(\"<div>\").addClass(COLOR_BOX_COLOR_RESULT_PREVIEW_CLASS).appendTo(this._$textEditorInputContainer);\r\n        if (!this.option(\"value\")) {\r\n            this._$colorBoxInputContainer.addClass(COLOR_BOX_COLOR_IS_NOT_DEFINED)\r\n        } else {\r\n            colorUtils.makeTransparentBackground(this._$colorResultPreview, this.option(\"value\"))\r\n        }\r\n    },\r\n    _renderValue: function() {\r\n        var value = this.option(\"value\");\r\n        var convertToColor = null !== value && this.option(\"editAlphaChannel\");\r\n        var text = convertToColor ? colorUtils.makeRgba(value) : value;\r\n        this.option(\"text\", text);\r\n        return this.callBase()\r\n    },\r\n    _resetInputValue: function() {\r\n        var $input = this._input();\r\n        var value = this.option(\"value\");\r\n        $input.val(value);\r\n        this._updateColorViewValue(value)\r\n    },\r\n    _updateColorViewValue: function(value) {\r\n        if (this._colorView) {\r\n            this._colorView.option({\r\n                value: value,\r\n                matchValue: value\r\n            })\r\n        }\r\n    },\r\n    _valueChangeEventHandler: function(e) {\r\n        var value = this._input().val();\r\n        if (value) {\r\n            value = this._applyColorFromInput(value);\r\n            this._updateColorViewValue(value)\r\n        }\r\n        this.callBase(e, value)\r\n    },\r\n    _applyColorFromInput: function(value) {\r\n        var newColor = new Color(value);\r\n        if (newColor.colorIsInvalid) {\r\n            this._resetInputValue();\r\n            value = this.option(\"value\")\r\n        }\r\n        return value\r\n    },\r\n    _clean: function() {\r\n        this.callBase();\r\n        delete this._shouldSaveEmptyValue\r\n    },\r\n    _optionChanged: function(args) {\r\n        var value = args.value;\r\n        var name = args.name;\r\n        switch (name) {\r\n            case \"value\":\r\n                this._$colorBoxInputContainer.toggleClass(COLOR_BOX_COLOR_IS_NOT_DEFINED, !value);\r\n                if (value) {\r\n                    colorUtils.makeTransparentBackground(this._$colorResultPreview, value)\r\n                } else {\r\n                    this._$colorResultPreview.removeAttr(\"style\")\r\n                }\r\n                if (null === value) {\r\n                    this._shouldSaveEmptyValue = true\r\n                }\r\n                this._updateColorViewValue(value);\r\n                this._shouldSaveEmptyValue = false;\r\n                this.callBase(args);\r\n                break;\r\n            case \"applyButtonText\":\r\n            case \"cancelButtonText\":\r\n                this.callBase(args);\r\n                this._popup && this._addPopupBottomClasses();\r\n                break;\r\n            case \"editAlphaChannel\":\r\n            case \"keyStep\":\r\n                if (this._colorView) {\r\n                    this._colorView.option(name, value)\r\n                }\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nregisterComponent(\"dxColorBox\", ColorBox);\r\nexport default ColorBox;\r\n"]},"metadata":{},"sourceType":"module"}