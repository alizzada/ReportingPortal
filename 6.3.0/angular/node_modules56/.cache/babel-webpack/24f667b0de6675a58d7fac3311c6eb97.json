{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/shared/ui.editor_factory_mixin.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport { noop } from \"../../core/utils/common\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport { isDefined, isObject, isFunction } from \"../../core/utils/type\";\nimport variableWrapper from \"../../core/utils/variable_wrapper\";\nimport { compileGetter } from \"../../core/utils/data\";\nimport browser from \"../../core/utils/browser\";\nimport { extend } from \"../../core/utils/extend\";\nimport devices from \"../../core/devices\";\nimport { getPublicElement } from \"../../core/element\";\nimport { normalizeDataSourceOptions } from \"../../data/data_source/utils\";\nimport { normalizeKeyName } from \"../../events/utils/index\";\nvar isWrapped = variableWrapper.isWrapped;\nimport \"../text_box\";\nimport \"../number_box\";\nimport \"../check_box\";\nimport \"../select_box\";\nimport \"../date_box\";\nvar CHECKBOX_SIZE_CLASS = \"checkbox-size\";\nvar EDITOR_INLINE_BLOCK = \"dx-editor-inline-block\";\n\nvar EditorFactoryMixin = function () {\n  var getResultConfig = function getResultConfig(config, options) {\n    return extend(config, {\n      readOnly: options.readOnly,\n      placeholder: options.placeholder,\n      inputAttr: {\n        id: options.id\n      },\n      tabIndex: options.tabIndex\n    }, options.editorOptions);\n  };\n\n  var checkEnterBug = function checkEnterBug() {\n    return browser.msie || browser.mozilla || devices.real().ios;\n  };\n\n  var getTextEditorConfig = function getTextEditorConfig(options) {\n    var data = {};\n    var isEnterBug = checkEnterBug();\n    var sharedData = options.sharedData || data;\n    return getResultConfig({\n      placeholder: options.placeholder,\n      width: options.width,\n      value: options.value,\n      onValueChanged: function onValueChanged(e) {\n        var needDelayedUpdate = \"filterRow\" === options.parentType || \"searchPanel\" === options.parentType;\n        var isInputOrKeyUpEvent = e.event && (\"input\" === e.event.type || \"keyup\" === e.event.type);\n\n        var updateValue = function updateValue(e, notFireEvent) {\n          options && options.setValue(e.value, notFireEvent);\n        };\n\n        clearTimeout(data.valueChangeTimeout);\n\n        if (isInputOrKeyUpEvent && needDelayedUpdate) {\n          sharedData.valueChangeTimeout = data.valueChangeTimeout = setTimeout(function () {\n            updateValue(e, data.valueChangeTimeout !== sharedData.valueChangeTimeout);\n          }, isDefined(options.updateValueTimeout) ? options.updateValueTimeout : 0);\n        } else {\n          updateValue(e);\n        }\n      },\n      onKeyDown: function onKeyDown(e) {\n        if (isEnterBug && \"enter\" === normalizeKeyName(e.event)) {\n          eventsEngine.trigger($(e.component._input()), \"change\");\n        }\n      },\n      valueChangeEvent: \"change\" + (\"filterRow\" === options.parentType ? \" keyup input\" : \"\")\n    }, options);\n  };\n\n  var prepareBooleanEditor = function prepareBooleanEditor(options) {\n    if (\"filterRow\" === options.parentType || \"filterBuilder\" === options.parentType) {\n      prepareSelectBox(extend(options, {\n        lookup: {\n          displayExpr: function displayExpr(data) {\n            if (true === data) {\n              return options.trueText || \"true\";\n            } else if (false === data) {\n              return options.falseText || \"false\";\n            }\n          },\n          dataSource: [true, false]\n        }\n      }));\n    } else {\n      !function (options) {\n        options.editorName = \"dxCheckBox\";\n        options.editorOptions = getResultConfig({\n          elementAttr: {\n            id: options.id\n          },\n          value: isDefined(options.value) ? options.value : void 0,\n          hoverStateEnabled: !options.readOnly,\n          focusStateEnabled: !options.readOnly,\n          activeStateEnabled: false,\n          onValueChanged: function onValueChanged(e) {\n            options.setValue && options.setValue(e.value, e);\n          }\n        }, options);\n      }(options);\n    }\n  };\n\n  function prepareSelectBox(options) {\n    var lookup = options.lookup;\n    var displayGetter;\n    var dataSource;\n    var postProcess;\n    var isFilterRow = \"filterRow\" === options.parentType;\n\n    if (lookup) {\n      displayGetter = compileGetter(lookup.displayExpr);\n      dataSource = lookup.dataSource;\n\n      if (isFunction(dataSource) && !isWrapped(dataSource)) {\n        dataSource = dataSource(options.row || {});\n        !function (options) {\n          if (options.row && options.row.watch && \"dataRow\" === options.parentType) {\n            var editorOptions = options.editorOptions || {};\n            options.editorOptions = editorOptions;\n            var selectBox;\n            var onInitialized = editorOptions.onInitialized;\n\n            editorOptions.onInitialized = function (e) {\n              onInitialized && onInitialized.apply(this, arguments);\n              selectBox = e.component;\n              selectBox.on(\"disposing\", stopWatch);\n            };\n\n            var dataSource;\n            var stopWatch = options.row.watch(function () {\n              dataSource = options.lookup.dataSource(options.row);\n              return dataSource && dataSource.filter;\n            }, function () {\n              selectBox.option(\"dataSource\", dataSource);\n            }, function (row) {\n              options.row = row;\n            });\n          }\n        }(options);\n      }\n\n      if (isObject(dataSource) || Array.isArray(dataSource)) {\n        dataSource = normalizeDataSourceOptions(dataSource);\n\n        if (isFilterRow) {\n          postProcess = dataSource.postProcess;\n\n          dataSource.postProcess = function (items) {\n            if (0 === this.pageIndex()) {\n              items = items.slice(0);\n              items.unshift(null);\n            }\n\n            if (postProcess) {\n              return postProcess.call(this, items);\n            }\n\n            return items;\n          };\n        }\n      }\n\n      var allowClearing = Boolean(lookup.allowClearing && !isFilterRow);\n      options.editorName = \"dxSelectBox\";\n      options.editorOptions = getResultConfig({\n        searchEnabled: true,\n        value: options.value,\n        valueExpr: options.lookup.valueExpr,\n        searchExpr: options.lookup.searchExpr || options.lookup.displayExpr,\n        allowClearing: allowClearing,\n        showClearButton: allowClearing,\n        displayExpr: function displayExpr(data) {\n          if (null === data) {\n            return options.showAllText;\n          }\n\n          return displayGetter(data);\n        },\n        dataSource: dataSource,\n        onValueChanged: function onValueChanged(e) {\n          var params = [e.value];\n          !isFilterRow && params.push(e.component.option(\"text\"));\n          options.setValue.apply(this, params);\n        }\n      }, options);\n    }\n  }\n\n  return {\n    createEditor: function createEditor($container, options) {\n      options.cancel = false;\n      options.editorElement = getPublicElement($container);\n\n      if (!isDefined(options.tabIndex)) {\n        options.tabIndex = this.option(\"tabIndex\");\n      }\n\n      if (options.lookup) {\n        prepareSelectBox(options);\n      } else {\n        switch (options.dataType) {\n          case \"date\":\n          case \"datetime\":\n            !function (options) {\n              options.editorName = \"dxDateBox\";\n              options.editorOptions = getResultConfig({\n                value: options.value,\n                onValueChanged: function onValueChanged(args) {\n                  options.setValue(args.value);\n                },\n                onKeyDown: function onKeyDown(e) {\n                  if (checkEnterBug() && \"enter\" === normalizeKeyName(e.event)) {\n                    e.component.blur();\n                    e.component.focus();\n                  }\n                },\n                displayFormat: options.format,\n                type: options.dataType,\n                dateSerializationFormat: null,\n                width: \"filterBuilder\" === options.parentType ? void 0 : \"auto\"\n              }, options);\n            }(options);\n            break;\n\n          case \"boolean\":\n            prepareBooleanEditor(options);\n            break;\n\n          case \"number\":\n            !function (options) {\n              var config = getTextEditorConfig(options);\n              config.value = isDefined(options.value) ? options.value : null;\n              options.editorName = \"dxNumberBox\";\n              options.editorOptions = config;\n            }(options);\n            break;\n\n          default:\n            !function (options) {\n              var config = getTextEditorConfig(options);\n              var isSearching = \"searchPanel\" === options.parentType;\n\n              if (options.editorType && \"dxTextBox\" !== options.editorType) {\n                config.value = options.value;\n              } else {\n                config.value = (value = options.value, isDefined(value) ? value.toString() : \"\");\n              }\n\n              var value;\n              config.valueChangeEvent += isSearching ? \" keyup input search\" : \"\";\n              config.mode = config.mode || (isSearching ? \"search\" : \"text\");\n              options.editorName = \"dxTextBox\";\n              options.editorOptions = config;\n            }(options);\n        }\n      }\n\n      var editorName = options.editorName;\n      this.executeAction(\"onEditorPreparing\", options);\n\n      if (options.cancel) {\n        return;\n      } else if (\"dataRow\" === options.parentType && options.editorType && editorName === options.editorName) {\n        options.editorName = options.editorType;\n      }\n\n      if (\"dataRow\" === options.parentType && !options.isOnForm && !isDefined(options.editorOptions.showValidationMark)) {\n        options.editorOptions.showValidationMark = false;\n      }\n\n      !function (that, options) {\n        var $editorElement = $(options.editorElement);\n\n        if (options.editorName && options.editorOptions && $editorElement[options.editorName]) {\n          if (\"dxCheckBox\" === options.editorName || \"dxSwitch\" === options.editorName) {\n            if (!options.isOnForm) {\n              $editorElement.addClass(that.addWidgetPrefix(CHECKBOX_SIZE_CLASS));\n              $editorElement.parent().addClass(EDITOR_INLINE_BLOCK);\n            }\n          }\n\n          that._createComponent($editorElement, options.editorName, options.editorOptions);\n\n          if (\"dxTextBox\" === options.editorName) {\n            $editorElement.dxTextBox(\"instance\").registerKeyHandler(\"enter\", noop);\n          }\n\n          if (\"dxDateBox\" === options.editorName) {\n            var dateBox = $editorElement.dxDateBox(\"instance\");\n\n            var defaultEnterKeyHandler = dateBox._supportedKeys().enter;\n\n            dateBox.registerKeyHandler(\"enter\", function (e) {\n              if (dateBox.option(\"opened\")) {\n                defaultEnterKeyHandler(e);\n              }\n\n              return true;\n            });\n          }\n\n          if (\"dxTextArea\" === options.editorName) {\n            $editorElement.dxTextArea(\"instance\").registerKeyHandler(\"enter\", function (event) {\n              if (\"enter\" === normalizeKeyName(event) && !event.ctrlKey && !event.shiftKey) {\n                event.stopPropagation();\n              }\n            });\n          }\n        }\n      }(this, options);\n      this.executeAction(\"onEditorPrepared\", options);\n    }\n  };\n}();\n\nexport default EditorFactoryMixin;","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/ui/shared/ui.editor_factory_mixin.js"],"names":["$","noop","eventsEngine","isDefined","isObject","isFunction","variableWrapper","compileGetter","browser","extend","devices","getPublicElement","normalizeDataSourceOptions","normalizeKeyName","isWrapped","CHECKBOX_SIZE_CLASS","EDITOR_INLINE_BLOCK","EditorFactoryMixin","getResultConfig","config","options","readOnly","placeholder","inputAttr","id","tabIndex","editorOptions","checkEnterBug","msie","mozilla","real","ios","getTextEditorConfig","data","isEnterBug","sharedData","width","value","onValueChanged","e","needDelayedUpdate","parentType","isInputOrKeyUpEvent","event","type","updateValue","notFireEvent","setValue","clearTimeout","valueChangeTimeout","setTimeout","updateValueTimeout","onKeyDown","trigger","component","_input","valueChangeEvent","prepareBooleanEditor","prepareSelectBox","lookup","displayExpr","trueText","falseText","dataSource","editorName","elementAttr","hoverStateEnabled","focusStateEnabled","activeStateEnabled","displayGetter","postProcess","isFilterRow","row","watch","selectBox","onInitialized","apply","arguments","on","stopWatch","filter","option","Array","isArray","items","pageIndex","slice","unshift","call","allowClearing","Boolean","searchEnabled","valueExpr","searchExpr","showClearButton","showAllText","params","push","createEditor","$container","cancel","editorElement","dataType","args","blur","focus","displayFormat","format","dateSerializationFormat","isSearching","editorType","toString","mode","executeAction","isOnForm","showValidationMark","that","$editorElement","addClass","addWidgetPrefix","parent","_createComponent","dxTextBox","registerKeyHandler","dateBox","dxDateBox","defaultEnterKeyHandler","_supportedKeys","enter","dxTextArea","ctrlKey","shiftKey","stopPropagation"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/shared/ui.editor_factory_mixin.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    isDefined,\r\n    isObject,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport variableWrapper from \"../../core/utils/variable_wrapper\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport {\r\n    normalizeDataSourceOptions\r\n} from \"../../data/data_source/utils\";\r\nimport {\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nvar {\r\n    isWrapped: isWrapped\r\n} = variableWrapper;\r\nimport \"../text_box\";\r\nimport \"../number_box\";\r\nimport \"../check_box\";\r\nimport \"../select_box\";\r\nimport \"../date_box\";\r\nvar CHECKBOX_SIZE_CLASS = \"checkbox-size\";\r\nvar EDITOR_INLINE_BLOCK = \"dx-editor-inline-block\";\r\nvar EditorFactoryMixin = function() {\r\n    var getResultConfig = function(config, options) {\r\n        return extend(config, {\r\n            readOnly: options.readOnly,\r\n            placeholder: options.placeholder,\r\n            inputAttr: {\r\n                id: options.id\r\n            },\r\n            tabIndex: options.tabIndex\r\n        }, options.editorOptions)\r\n    };\r\n    var checkEnterBug = function() {\r\n        return browser.msie || browser.mozilla || devices.real().ios\r\n    };\r\n    var getTextEditorConfig = function(options) {\r\n        var data = {};\r\n        var isEnterBug = checkEnterBug();\r\n        var sharedData = options.sharedData || data;\r\n        return getResultConfig({\r\n            placeholder: options.placeholder,\r\n            width: options.width,\r\n            value: options.value,\r\n            onValueChanged: function(e) {\r\n                var needDelayedUpdate = \"filterRow\" === options.parentType || \"searchPanel\" === options.parentType;\r\n                var isInputOrKeyUpEvent = e.event && (\"input\" === e.event.type || \"keyup\" === e.event.type);\r\n                var updateValue = function(e, notFireEvent) {\r\n                    options && options.setValue(e.value, notFireEvent)\r\n                };\r\n                clearTimeout(data.valueChangeTimeout);\r\n                if (isInputOrKeyUpEvent && needDelayedUpdate) {\r\n                    sharedData.valueChangeTimeout = data.valueChangeTimeout = setTimeout((function() {\r\n                        updateValue(e, data.valueChangeTimeout !== sharedData.valueChangeTimeout)\r\n                    }), isDefined(options.updateValueTimeout) ? options.updateValueTimeout : 0)\r\n                } else {\r\n                    updateValue(e)\r\n                }\r\n            },\r\n            onKeyDown: function(e) {\r\n                if (isEnterBug && \"enter\" === normalizeKeyName(e.event)) {\r\n                    eventsEngine.trigger($(e.component._input()), \"change\")\r\n                }\r\n            },\r\n            valueChangeEvent: \"change\" + (\"filterRow\" === options.parentType ? \" keyup input\" : \"\")\r\n        }, options)\r\n    };\r\n    var prepareBooleanEditor = function(options) {\r\n        if (\"filterRow\" === options.parentType || \"filterBuilder\" === options.parentType) {\r\n            prepareSelectBox(extend(options, {\r\n                lookup: {\r\n                    displayExpr: function(data) {\r\n                        if (true === data) {\r\n                            return options.trueText || \"true\"\r\n                        } else if (false === data) {\r\n                            return options.falseText || \"false\"\r\n                        }\r\n                    },\r\n                    dataSource: [true, false]\r\n                }\r\n            }))\r\n        } else {\r\n            ! function(options) {\r\n                options.editorName = \"dxCheckBox\";\r\n                options.editorOptions = getResultConfig({\r\n                    elementAttr: {\r\n                        id: options.id\r\n                    },\r\n                    value: isDefined(options.value) ? options.value : void 0,\r\n                    hoverStateEnabled: !options.readOnly,\r\n                    focusStateEnabled: !options.readOnly,\r\n                    activeStateEnabled: false,\r\n                    onValueChanged: function(e) {\r\n                        options.setValue && options.setValue(e.value, e)\r\n                    }\r\n                }, options)\r\n            }(options)\r\n        }\r\n    };\r\n\r\n    function prepareSelectBox(options) {\r\n        var lookup = options.lookup;\r\n        var displayGetter;\r\n        var dataSource;\r\n        var postProcess;\r\n        var isFilterRow = \"filterRow\" === options.parentType;\r\n        if (lookup) {\r\n            displayGetter = compileGetter(lookup.displayExpr);\r\n            dataSource = lookup.dataSource;\r\n            if (isFunction(dataSource) && !isWrapped(dataSource)) {\r\n                dataSource = dataSource(options.row || {});\r\n                ! function(options) {\r\n                    if (options.row && options.row.watch && \"dataRow\" === options.parentType) {\r\n                        var editorOptions = options.editorOptions || {};\r\n                        options.editorOptions = editorOptions;\r\n                        var selectBox;\r\n                        var onInitialized = editorOptions.onInitialized;\r\n                        editorOptions.onInitialized = function(e) {\r\n                            onInitialized && onInitialized.apply(this, arguments);\r\n                            selectBox = e.component;\r\n                            selectBox.on(\"disposing\", stopWatch)\r\n                        };\r\n                        var dataSource;\r\n                        var stopWatch = options.row.watch(() => {\r\n                            dataSource = options.lookup.dataSource(options.row);\r\n                            return dataSource && dataSource.filter\r\n                        }, () => {\r\n                            selectBox.option(\"dataSource\", dataSource)\r\n                        }, row => {\r\n                            options.row = row\r\n                        })\r\n                    }\r\n                }(options)\r\n            }\r\n            if (isObject(dataSource) || Array.isArray(dataSource)) {\r\n                dataSource = normalizeDataSourceOptions(dataSource);\r\n                if (isFilterRow) {\r\n                    postProcess = dataSource.postProcess;\r\n                    dataSource.postProcess = function(items) {\r\n                        if (0 === this.pageIndex()) {\r\n                            items = items.slice(0);\r\n                            items.unshift(null)\r\n                        }\r\n                        if (postProcess) {\r\n                            return postProcess.call(this, items)\r\n                        }\r\n                        return items\r\n                    }\r\n                }\r\n            }\r\n            var allowClearing = Boolean(lookup.allowClearing && !isFilterRow);\r\n            options.editorName = \"dxSelectBox\";\r\n            options.editorOptions = getResultConfig({\r\n                searchEnabled: true,\r\n                value: options.value,\r\n                valueExpr: options.lookup.valueExpr,\r\n                searchExpr: options.lookup.searchExpr || options.lookup.displayExpr,\r\n                allowClearing: allowClearing,\r\n                showClearButton: allowClearing,\r\n                displayExpr: function(data) {\r\n                    if (null === data) {\r\n                        return options.showAllText\r\n                    }\r\n                    return displayGetter(data)\r\n                },\r\n                dataSource: dataSource,\r\n                onValueChanged: function(e) {\r\n                    var params = [e.value];\r\n                    !isFilterRow && params.push(e.component.option(\"text\"));\r\n                    options.setValue.apply(this, params)\r\n                }\r\n            }, options)\r\n        }\r\n    }\r\n    return {\r\n        createEditor: function($container, options) {\r\n            options.cancel = false;\r\n            options.editorElement = getPublicElement($container);\r\n            if (!isDefined(options.tabIndex)) {\r\n                options.tabIndex = this.option(\"tabIndex\")\r\n            }\r\n            if (options.lookup) {\r\n                prepareSelectBox(options)\r\n            } else {\r\n                switch (options.dataType) {\r\n                    case \"date\":\r\n                    case \"datetime\":\r\n                        ! function(options) {\r\n                            options.editorName = \"dxDateBox\";\r\n                            options.editorOptions = getResultConfig({\r\n                                value: options.value,\r\n                                onValueChanged: function(args) {\r\n                                    options.setValue(args.value)\r\n                                },\r\n                                onKeyDown: function(e) {\r\n                                    if (checkEnterBug() && \"enter\" === normalizeKeyName(e.event)) {\r\n                                        e.component.blur();\r\n                                        e.component.focus()\r\n                                    }\r\n                                },\r\n                                displayFormat: options.format,\r\n                                type: options.dataType,\r\n                                dateSerializationFormat: null,\r\n                                width: \"filterBuilder\" === options.parentType ? void 0 : \"auto\"\r\n                            }, options)\r\n                        }(options);\r\n                        break;\r\n                    case \"boolean\":\r\n                        prepareBooleanEditor(options);\r\n                        break;\r\n                    case \"number\":\r\n                        ! function(options) {\r\n                            var config = getTextEditorConfig(options);\r\n                            config.value = isDefined(options.value) ? options.value : null;\r\n                            options.editorName = \"dxNumberBox\";\r\n                            options.editorOptions = config\r\n                        }(options);\r\n                        break;\r\n                    default:\r\n                        ! function(options) {\r\n                            var config = getTextEditorConfig(options);\r\n                            var isSearching = \"searchPanel\" === options.parentType;\r\n                            if (options.editorType && \"dxTextBox\" !== options.editorType) {\r\n                                config.value = options.value\r\n                            } else {\r\n                                config.value = (value = options.value, isDefined(value) ? value.toString() : \"\")\r\n                            }\r\n                            var value;\r\n                            config.valueChangeEvent += isSearching ? \" keyup input search\" : \"\";\r\n                            config.mode = config.mode || (isSearching ? \"search\" : \"text\");\r\n                            options.editorName = \"dxTextBox\";\r\n                            options.editorOptions = config\r\n                        }(options)\r\n                }\r\n            }\r\n            var editorName = options.editorName;\r\n            this.executeAction(\"onEditorPreparing\", options);\r\n            if (options.cancel) {\r\n                return\r\n            } else if (\"dataRow\" === options.parentType && options.editorType && editorName === options.editorName) {\r\n                options.editorName = options.editorType\r\n            }\r\n            if (\"dataRow\" === options.parentType && !options.isOnForm && !isDefined(options.editorOptions.showValidationMark)) {\r\n                options.editorOptions.showValidationMark = false\r\n            }! function(that, options) {\r\n                var $editorElement = $(options.editorElement);\r\n                if (options.editorName && options.editorOptions && $editorElement[options.editorName]) {\r\n                    if (\"dxCheckBox\" === options.editorName || \"dxSwitch\" === options.editorName) {\r\n                        if (!options.isOnForm) {\r\n                            $editorElement.addClass(that.addWidgetPrefix(CHECKBOX_SIZE_CLASS));\r\n                            $editorElement.parent().addClass(EDITOR_INLINE_BLOCK)\r\n                        }\r\n                    }\r\n                    that._createComponent($editorElement, options.editorName, options.editorOptions);\r\n                    if (\"dxTextBox\" === options.editorName) {\r\n                        $editorElement.dxTextBox(\"instance\").registerKeyHandler(\"enter\", noop)\r\n                    }\r\n                    if (\"dxDateBox\" === options.editorName) {\r\n                        var dateBox = $editorElement.dxDateBox(\"instance\");\r\n                        var defaultEnterKeyHandler = dateBox._supportedKeys().enter;\r\n                        dateBox.registerKeyHandler(\"enter\", e => {\r\n                            if (dateBox.option(\"opened\")) {\r\n                                defaultEnterKeyHandler(e)\r\n                            }\r\n                            return true\r\n                        })\r\n                    }\r\n                    if (\"dxTextArea\" === options.editorName) {\r\n                        $editorElement.dxTextArea(\"instance\").registerKeyHandler(\"enter\", (function(event) {\r\n                            if (\"enter\" === normalizeKeyName(event) && !event.ctrlKey && !event.shiftKey) {\r\n                                event.stopPropagation()\r\n                            }\r\n                        }))\r\n                    }\r\n                }\r\n            }(this, options);\r\n            this.executeAction(\"onEditorPrepared\", options)\r\n        }\r\n    }\r\n}();\r\nexport default EditorFactoryMixin;\r\n"]},"metadata":{},"sourceType":"module"}