{"ast":null,"code":"import _classCallCheck from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n/**\r\n * DevExtreme (esm/ui/gantt/ui.gantt.cache.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { extendFromObject } from \"../../core/utils/extend\";\nexport var GanttDataCache = /*#__PURE__*/function () {\n  function GanttDataCache() {\n    _classCallCheck(this, GanttDataCache);\n\n    this._cache = {};\n    this._timers = {};\n  }\n\n  _createClass(GanttDataCache, [{\n    key: \"saveData\",\n    value: function saveData(key, data, keyExpireCallback) {\n      if (data) {\n        this._clearTimer(key);\n\n        var storage = this._getCache(key, true);\n\n        extendFromObject(storage, data, true);\n\n        if (keyExpireCallback) {\n          this._setExpireTimer(key, keyExpireCallback);\n        }\n      }\n    }\n  }, {\n    key: \"pullDataFromCache\",\n    value: function pullDataFromCache(key, target) {\n      var data = this._getCache(key);\n\n      if (data) {\n        extendFromObject(target, data);\n      }\n\n      this._onKeyExpired(key);\n    }\n  }, {\n    key: \"hasData\",\n    value: function hasData(key) {\n      return !!this._cache[key];\n    }\n  }, {\n    key: \"_getCache\",\n    value: function _getCache(key, forceCreate) {\n      if (!this._cache[key] && forceCreate) {\n        this._cache[key] = {};\n      }\n\n      return this._cache[key];\n    }\n  }, {\n    key: \"_setExpireTimer\",\n    value: function _setExpireTimer(key, callback) {\n      var _this = this;\n\n      this._timers[key] = setTimeout(function () {\n        callback(key, _this._getCache(key));\n\n        _this._onKeyExpired(key);\n      }, 200);\n    }\n  }, {\n    key: \"_onKeyExpired\",\n    value: function _onKeyExpired(key) {\n      this._clearCache(key);\n\n      this._clearTimer(key);\n    }\n  }, {\n    key: \"_clearCache\",\n    value: function _clearCache(key) {\n      delete this._cache[key];\n    }\n  }, {\n    key: \"_clearTimer\",\n    value: function _clearTimer(key) {\n      var timers = this._timers;\n\n      if (timers && timers[key]) {\n        clearTimeout(timers[key]);\n        delete timers[key];\n      }\n    }\n  }]);\n\n  return GanttDataCache;\n}();","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/ui/gantt/ui.gantt.cache.js"],"names":["extendFromObject","GanttDataCache","_cache","_timers","key","data","keyExpireCallback","_clearTimer","storage","_getCache","_setExpireTimer","target","_onKeyExpired","forceCreate","callback","setTimeout","_clearCache","timers","clearTimeout"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SACIA,gBADJ,QAEO,yBAFP;AAGA,WAAaC,cAAb;AACI,4BAAc;AAAA;;AACV,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKC,OAAL,GAAe,EAAf;AACH;;AAJL;AAAA;AAAA,WAKI,kBAASC,GAAT,EAAcC,IAAd,EAAoBC,iBAApB,EAAuC;AACnC,UAAID,IAAJ,EAAU;AACN,aAAKE,WAAL,CAAiBH,GAAjB;;AACA,YAAII,OAAO,GAAG,KAAKC,SAAL,CAAeL,GAAf,EAAoB,IAApB,CAAd;;AACAJ,QAAAA,gBAAgB,CAACQ,OAAD,EAAUH,IAAV,EAAgB,IAAhB,CAAhB;;AACA,YAAIC,iBAAJ,EAAuB;AACnB,eAAKI,eAAL,CAAqBN,GAArB,EAA0BE,iBAA1B;AACH;AACJ;AACJ;AAdL;AAAA;AAAA,WAeI,2BAAkBF,GAAlB,EAAuBO,MAAvB,EAA+B;AAC3B,UAAIN,IAAI,GAAG,KAAKI,SAAL,CAAeL,GAAf,CAAX;;AACA,UAAIC,IAAJ,EAAU;AACNL,QAAAA,gBAAgB,CAACW,MAAD,EAASN,IAAT,CAAhB;AACH;;AACD,WAAKO,aAAL,CAAmBR,GAAnB;AACH;AArBL;AAAA;AAAA,WAsBI,iBAAQA,GAAR,EAAa;AACT,aAAO,CAAC,CAAC,KAAKF,MAAL,CAAYE,GAAZ,CAAT;AACH;AAxBL;AAAA;AAAA,WAyBI,mBAAUA,GAAV,EAAeS,WAAf,EAA4B;AACxB,UAAI,CAAC,KAAKX,MAAL,CAAYE,GAAZ,CAAD,IAAqBS,WAAzB,EAAsC;AAClC,aAAKX,MAAL,CAAYE,GAAZ,IAAmB,EAAnB;AACH;;AACD,aAAO,KAAKF,MAAL,CAAYE,GAAZ,CAAP;AACH;AA9BL;AAAA;AAAA,WA+BI,yBAAgBA,GAAhB,EAAqBU,QAArB,EAA+B;AAAA;;AAC3B,WAAKX,OAAL,CAAaC,GAAb,IAAoBW,UAAU,CAAC,YAAM;AACjCD,QAAAA,QAAQ,CAACV,GAAD,EAAM,KAAI,CAACK,SAAL,CAAeL,GAAf,CAAN,CAAR;;AACA,QAAA,KAAI,CAACQ,aAAL,CAAmBR,GAAnB;AACH,OAH6B,EAG3B,GAH2B,CAA9B;AAIH;AApCL;AAAA;AAAA,WAqCI,uBAAcA,GAAd,EAAmB;AACf,WAAKY,WAAL,CAAiBZ,GAAjB;;AACA,WAAKG,WAAL,CAAiBH,GAAjB;AACH;AAxCL;AAAA;AAAA,WAyCI,qBAAYA,GAAZ,EAAiB;AACb,aAAO,KAAKF,MAAL,CAAYE,GAAZ,CAAP;AACH;AA3CL;AAAA;AAAA,WA4CI,qBAAYA,GAAZ,EAAiB;AACb,UAAIa,MAAM,GAAG,KAAKd,OAAlB;;AACA,UAAIc,MAAM,IAAIA,MAAM,CAACb,GAAD,CAApB,EAA2B;AACvBc,QAAAA,YAAY,CAACD,MAAM,CAACb,GAAD,CAAP,CAAZ;AACA,eAAOa,MAAM,CAACb,GAAD,CAAb;AACH;AACJ;AAlDL;;AAAA;AAAA","sourcesContent":["/**\r\n * DevExtreme (esm/ui/gantt/ui.gantt.cache.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extendFromObject\r\n} from \"../../core/utils/extend\";\r\nexport class GanttDataCache {\r\n    constructor() {\r\n        this._cache = {};\r\n        this._timers = {}\r\n    }\r\n    saveData(key, data, keyExpireCallback) {\r\n        if (data) {\r\n            this._clearTimer(key);\r\n            var storage = this._getCache(key, true);\r\n            extendFromObject(storage, data, true);\r\n            if (keyExpireCallback) {\r\n                this._setExpireTimer(key, keyExpireCallback)\r\n            }\r\n        }\r\n    }\r\n    pullDataFromCache(key, target) {\r\n        var data = this._getCache(key);\r\n        if (data) {\r\n            extendFromObject(target, data)\r\n        }\r\n        this._onKeyExpired(key)\r\n    }\r\n    hasData(key) {\r\n        return !!this._cache[key]\r\n    }\r\n    _getCache(key, forceCreate) {\r\n        if (!this._cache[key] && forceCreate) {\r\n            this._cache[key] = {}\r\n        }\r\n        return this._cache[key]\r\n    }\r\n    _setExpireTimer(key, callback) {\r\n        this._timers[key] = setTimeout(() => {\r\n            callback(key, this._getCache(key));\r\n            this._onKeyExpired(key)\r\n        }, 200)\r\n    }\r\n    _onKeyExpired(key) {\r\n        this._clearCache(key);\r\n        this._clearTimer(key)\r\n    }\r\n    _clearCache(key) {\r\n        delete this._cache[key]\r\n    }\r\n    _clearTimer(key) {\r\n        var timers = this._timers;\r\n        if (timers && timers[key]) {\r\n            clearTimeout(timers[key]);\r\n            delete timers[key]\r\n        }\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}