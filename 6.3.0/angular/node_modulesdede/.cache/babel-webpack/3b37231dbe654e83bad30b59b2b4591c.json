{"ast":null,"code":"/**\r\n * DevExtreme (esm/events/utils/index.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport mappedAddNamespace from \"./add_namespace\";\nimport eventsEngine from \"../core/events_engine\";\nimport { each } from \"../../core/utils/iterator\";\nimport { extend } from \"../../core/utils/extend\";\nimport { focused } from \"../../ui/widget/selectors\";\nvar KEY_MAP = {\n  backspace: \"backspace\",\n  tab: \"tab\",\n  enter: \"enter\",\n  escape: \"escape\",\n  pageup: \"pageUp\",\n  pagedown: \"pageDown\",\n  end: \"end\",\n  home: \"home\",\n  arrowleft: \"leftArrow\",\n  arrowup: \"upArrow\",\n  arrowright: \"rightArrow\",\n  arrowdown: \"downArrow\",\n  delete: \"del\",\n  \" \": \"space\",\n  f: \"F\",\n  a: \"A\",\n  \"*\": \"asterisk\",\n  \"-\": \"minus\",\n  alt: \"alt\",\n  control: \"control\",\n  shift: \"shift\",\n  left: \"leftArrow\",\n  up: \"upArrow\",\n  right: \"rightArrow\",\n  down: \"downArrow\",\n  multiply: \"asterisk\",\n  spacebar: \"space\",\n  del: \"del\",\n  subtract: \"minus\",\n  esc: \"escape\"\n};\nvar LEGACY_KEY_CODES = {\n  8: \"backspace\",\n  9: \"tab\",\n  13: \"enter\",\n  27: \"escape\",\n  33: \"pageUp\",\n  34: \"pageDown\",\n  35: \"end\",\n  36: \"home\",\n  37: \"leftArrow\",\n  38: \"upArrow\",\n  39: \"rightArrow\",\n  40: \"downArrow\",\n  46: \"del\",\n  32: \"space\",\n  70: \"F\",\n  65: \"A\",\n  106: \"asterisk\",\n  109: \"minus\",\n  189: \"minus\",\n  173: \"minus\",\n  16: \"shift\",\n  17: \"control\",\n  18: \"alt\"\n};\nvar EVENT_SOURCES_REGEX = {\n  dx: /^dx/i,\n  mouse: /(mouse|wheel)/i,\n  touch: /^touch/i,\n  keyboard: /^key/i,\n  pointer: /^(ms)?pointer/i\n};\n\nvar fixMethod = function fixMethod(e) {\n  return e;\n};\n\nvar copyEvent = function copyEvent(originalEvent) {\n  return fixMethod(eventsEngine.Event(originalEvent, originalEvent), originalEvent);\n};\n\nvar isDxEvent = function isDxEvent(e) {\n  return \"dx\" === eventSource(e);\n};\n\nvar isNativeMouseEvent = function isNativeMouseEvent(e) {\n  return \"mouse\" === eventSource(e);\n};\n\nvar isNativeTouchEvent = function isNativeTouchEvent(e) {\n  return \"touch\" === eventSource(e);\n};\n\nexport var eventSource = function eventSource(_ref) {\n  var type = _ref.type;\n  var result = \"other\";\n  each(EVENT_SOURCES_REGEX, function (key) {\n    if (this.test(type)) {\n      result = key;\n      return false;\n    }\n  });\n  return result;\n};\nexport var isPointerEvent = function isPointerEvent(e) {\n  return \"pointer\" === eventSource(e);\n};\nexport var isMouseEvent = function isMouseEvent(e) {\n  return isNativeMouseEvent(e) || (isPointerEvent(e) || isDxEvent(e)) && \"mouse\" === e.pointerType;\n};\nexport var isDxMouseWheelEvent = function isDxMouseWheelEvent(e) {\n  return e && \"dxmousewheel\" === e.type;\n};\nexport var isTouchEvent = function isTouchEvent(e) {\n  return isNativeTouchEvent(e) || (isPointerEvent(e) || isDxEvent(e)) && \"touch\" === e.pointerType;\n};\nexport var isKeyboardEvent = function isKeyboardEvent(e) {\n  return \"keyboard\" === eventSource(e);\n};\nexport var isFakeClickEvent = function isFakeClickEvent(_ref2) {\n  var screenX = _ref2.screenX,\n      offsetX = _ref2.offsetX,\n      pageX = _ref2.pageX;\n  return 0 === screenX && !offsetX && 0 === pageX;\n};\nexport var eventData = function eventData(_ref3) {\n  var pageX = _ref3.pageX,\n      pageY = _ref3.pageY,\n      timeStamp = _ref3.timeStamp;\n  return {\n    x: pageX,\n    y: pageY,\n    time: timeStamp\n  };\n};\nexport var eventDelta = function eventDelta(from, to) {\n  return {\n    x: to.x - from.x,\n    y: to.y - from.y,\n    time: to.time - from.time || 1\n  };\n};\nexport var hasTouches = function hasTouches(e) {\n  var originalEvent = e.originalEvent,\n      pointers = e.pointers;\n\n  if (isNativeTouchEvent(e)) {\n    return (originalEvent.touches || []).length;\n  }\n\n  if (isDxEvent(e)) {\n    return (pointers || []).length;\n  }\n\n  return 0;\n};\nvar skipEvents = false;\nexport var forceSkipEvents = function forceSkipEvents() {\n  return skipEvents = true;\n};\nexport var stopEventsSkipping = function stopEventsSkipping() {\n  return skipEvents = false;\n};\nexport var needSkipEvent = function needSkipEvent(e) {\n  if (skipEvents) {\n    return true;\n  }\n\n  var target = e.target;\n  var $target = $(target);\n  var isContentEditable = (null === target || void 0 === target ? void 0 : target.isContentEditable) || (null === target || void 0 === target ? void 0 : target.hasAttribute(\"contenteditable\"));\n  var touchInEditable = $target.is(\"input, textarea, select\") || isContentEditable;\n\n  if ($target.is(\".dx-skip-gesture-event *, .dx-skip-gesture-event\")) {\n    return true;\n  }\n\n  if (isDxMouseWheelEvent(e)) {\n    var isTextArea = $target.is(\"textarea\") && $target.hasClass(\"dx-texteditor-input\");\n\n    if (isTextArea || isContentEditable) {\n      return false;\n    }\n\n    var isInputFocused = $target.is(\"input[type='number'], textarea, select\") && $target.is(\":focus\");\n    return isInputFocused;\n  }\n\n  if (isMouseEvent(e)) {\n    return touchInEditable || e.which > 1;\n  }\n\n  if (isTouchEvent(e)) {\n    return touchInEditable && focused($target);\n  }\n};\nexport var setEventFixMethod = function setEventFixMethod(func) {\n  return fixMethod = func;\n};\nexport var createEvent = function createEvent(originalEvent, args) {\n  var event = copyEvent(originalEvent);\n  args && extend(event, args);\n  return event;\n};\nexport var fireEvent = function fireEvent(props) {\n  var originalEvent = props.originalEvent,\n      delegateTarget = props.delegateTarget;\n  var event = createEvent(originalEvent, props);\n  eventsEngine.trigger(delegateTarget || event.target, event);\n  return event;\n};\nexport var normalizeKeyName = function normalizeKeyName(_ref4) {\n  var key = _ref4.key,\n      which = _ref4.which;\n  var isKeySupported = !!key;\n  key = isKeySupported ? key : which;\n\n  if (key) {\n    if (isKeySupported) {\n      key = KEY_MAP[key.toLowerCase()] || key;\n    } else {\n      key = LEGACY_KEY_CODES[key] || String.fromCharCode(key);\n    }\n\n    return key;\n  }\n};\nexport var getChar = function getChar(_ref5) {\n  var key = _ref5.key,\n      which = _ref5.which;\n  return key || String.fromCharCode(which);\n};\nexport var addNamespace = mappedAddNamespace;\nexport var isCommandKeyPressed = function isCommandKeyPressed(_ref6) {\n  var ctrlKey = _ref6.ctrlKey,\n      metaKey = _ref6.metaKey;\n  return ctrlKey || metaKey;\n};","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/events/utils/index.js"],"names":["$","mappedAddNamespace","eventsEngine","each","extend","focused","KEY_MAP","backspace","tab","enter","escape","pageup","pagedown","end","home","arrowleft","arrowup","arrowright","arrowdown","delete","f","a","alt","control","shift","left","up","right","down","multiply","spacebar","del","subtract","esc","LEGACY_KEY_CODES","EVENT_SOURCES_REGEX","dx","mouse","touch","keyboard","pointer","fixMethod","e","copyEvent","originalEvent","Event","isDxEvent","eventSource","isNativeMouseEvent","isNativeTouchEvent","_ref","type","result","key","test","isPointerEvent","isMouseEvent","pointerType","isDxMouseWheelEvent","isTouchEvent","isKeyboardEvent","isFakeClickEvent","_ref2","screenX","offsetX","pageX","eventData","_ref3","pageY","timeStamp","x","y","time","eventDelta","from","to","hasTouches","pointers","touches","length","skipEvents","forceSkipEvents","stopEventsSkipping","needSkipEvent","target","$target","isContentEditable","hasAttribute","touchInEditable","is","isTextArea","hasClass","isInputFocused","which","setEventFixMethod","func","createEvent","args","event","fireEvent","props","delegateTarget","trigger","normalizeKeyName","_ref4","isKeySupported","toLowerCase","String","fromCharCode","getChar","_ref5","addNamespace","isCommandKeyPressed","_ref6","ctrlKey","metaKey"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/events/utils/index.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport mappedAddNamespace from \"./add_namespace\";\r\nimport eventsEngine from \"../core/events_engine\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    focused\r\n} from \"../../ui/widget/selectors\";\r\nvar KEY_MAP = {\r\n    backspace: \"backspace\",\r\n    tab: \"tab\",\r\n    enter: \"enter\",\r\n    escape: \"escape\",\r\n    pageup: \"pageUp\",\r\n    pagedown: \"pageDown\",\r\n    end: \"end\",\r\n    home: \"home\",\r\n    arrowleft: \"leftArrow\",\r\n    arrowup: \"upArrow\",\r\n    arrowright: \"rightArrow\",\r\n    arrowdown: \"downArrow\",\r\n    delete: \"del\",\r\n    \" \": \"space\",\r\n    f: \"F\",\r\n    a: \"A\",\r\n    \"*\": \"asterisk\",\r\n    \"-\": \"minus\",\r\n    alt: \"alt\",\r\n    control: \"control\",\r\n    shift: \"shift\",\r\n    left: \"leftArrow\",\r\n    up: \"upArrow\",\r\n    right: \"rightArrow\",\r\n    down: \"downArrow\",\r\n    multiply: \"asterisk\",\r\n    spacebar: \"space\",\r\n    del: \"del\",\r\n    subtract: \"minus\",\r\n    esc: \"escape\"\r\n};\r\nvar LEGACY_KEY_CODES = {\r\n    8: \"backspace\",\r\n    9: \"tab\",\r\n    13: \"enter\",\r\n    27: \"escape\",\r\n    33: \"pageUp\",\r\n    34: \"pageDown\",\r\n    35: \"end\",\r\n    36: \"home\",\r\n    37: \"leftArrow\",\r\n    38: \"upArrow\",\r\n    39: \"rightArrow\",\r\n    40: \"downArrow\",\r\n    46: \"del\",\r\n    32: \"space\",\r\n    70: \"F\",\r\n    65: \"A\",\r\n    106: \"asterisk\",\r\n    109: \"minus\",\r\n    189: \"minus\",\r\n    173: \"minus\",\r\n    16: \"shift\",\r\n    17: \"control\",\r\n    18: \"alt\"\r\n};\r\nvar EVENT_SOURCES_REGEX = {\r\n    dx: /^dx/i,\r\n    mouse: /(mouse|wheel)/i,\r\n    touch: /^touch/i,\r\n    keyboard: /^key/i,\r\n    pointer: /^(ms)?pointer/i\r\n};\r\nvar fixMethod = e => e;\r\nvar copyEvent = originalEvent => fixMethod(eventsEngine.Event(originalEvent, originalEvent), originalEvent);\r\nvar isDxEvent = e => \"dx\" === eventSource(e);\r\nvar isNativeMouseEvent = e => \"mouse\" === eventSource(e);\r\nvar isNativeTouchEvent = e => \"touch\" === eventSource(e);\r\nexport var eventSource = _ref => {\r\n    var {\r\n        type: type\r\n    } = _ref;\r\n    var result = \"other\";\r\n    each(EVENT_SOURCES_REGEX, (function(key) {\r\n        if (this.test(type)) {\r\n            result = key;\r\n            return false\r\n        }\r\n    }));\r\n    return result\r\n};\r\nexport var isPointerEvent = e => \"pointer\" === eventSource(e);\r\nexport var isMouseEvent = e => isNativeMouseEvent(e) || (isPointerEvent(e) || isDxEvent(e)) && \"mouse\" === e.pointerType;\r\nexport var isDxMouseWheelEvent = e => e && \"dxmousewheel\" === e.type;\r\nexport var isTouchEvent = e => isNativeTouchEvent(e) || (isPointerEvent(e) || isDxEvent(e)) && \"touch\" === e.pointerType;\r\nexport var isKeyboardEvent = e => \"keyboard\" === eventSource(e);\r\nexport var isFakeClickEvent = _ref2 => {\r\n    var {\r\n        screenX: screenX,\r\n        offsetX: offsetX,\r\n        pageX: pageX\r\n    } = _ref2;\r\n    return 0 === screenX && !offsetX && 0 === pageX\r\n};\r\nexport var eventData = _ref3 => {\r\n    var {\r\n        pageX: pageX,\r\n        pageY: pageY,\r\n        timeStamp: timeStamp\r\n    } = _ref3;\r\n    return {\r\n        x: pageX,\r\n        y: pageY,\r\n        time: timeStamp\r\n    }\r\n};\r\nexport var eventDelta = (from, to) => ({\r\n    x: to.x - from.x,\r\n    y: to.y - from.y,\r\n    time: to.time - from.time || 1\r\n});\r\nexport var hasTouches = e => {\r\n    var {\r\n        originalEvent: originalEvent,\r\n        pointers: pointers\r\n    } = e;\r\n    if (isNativeTouchEvent(e)) {\r\n        return (originalEvent.touches || []).length\r\n    }\r\n    if (isDxEvent(e)) {\r\n        return (pointers || []).length\r\n    }\r\n    return 0\r\n};\r\nvar skipEvents = false;\r\nexport var forceSkipEvents = () => skipEvents = true;\r\nexport var stopEventsSkipping = () => skipEvents = false;\r\nexport var needSkipEvent = e => {\r\n    if (skipEvents) {\r\n        return true\r\n    }\r\n    var {\r\n        target: target\r\n    } = e;\r\n    var $target = $(target);\r\n    var isContentEditable = (null === target || void 0 === target ? void 0 : target.isContentEditable) || (null === target || void 0 === target ? void 0 : target.hasAttribute(\"contenteditable\"));\r\n    var touchInEditable = $target.is(\"input, textarea, select\") || isContentEditable;\r\n    if ($target.is(\".dx-skip-gesture-event *, .dx-skip-gesture-event\")) {\r\n        return true\r\n    }\r\n    if (isDxMouseWheelEvent(e)) {\r\n        var isTextArea = $target.is(\"textarea\") && $target.hasClass(\"dx-texteditor-input\");\r\n        if (isTextArea || isContentEditable) {\r\n            return false\r\n        }\r\n        var isInputFocused = $target.is(\"input[type='number'], textarea, select\") && $target.is(\":focus\");\r\n        return isInputFocused\r\n    }\r\n    if (isMouseEvent(e)) {\r\n        return touchInEditable || e.which > 1\r\n    }\r\n    if (isTouchEvent(e)) {\r\n        return touchInEditable && focused($target)\r\n    }\r\n};\r\nexport var setEventFixMethod = func => fixMethod = func;\r\nexport var createEvent = (originalEvent, args) => {\r\n    var event = copyEvent(originalEvent);\r\n    args && extend(event, args);\r\n    return event\r\n};\r\nexport var fireEvent = props => {\r\n    var {\r\n        originalEvent: originalEvent,\r\n        delegateTarget: delegateTarget\r\n    } = props;\r\n    var event = createEvent(originalEvent, props);\r\n    eventsEngine.trigger(delegateTarget || event.target, event);\r\n    return event\r\n};\r\nexport var normalizeKeyName = _ref4 => {\r\n    var {\r\n        key: key,\r\n        which: which\r\n    } = _ref4;\r\n    var isKeySupported = !!key;\r\n    key = isKeySupported ? key : which;\r\n    if (key) {\r\n        if (isKeySupported) {\r\n            key = KEY_MAP[key.toLowerCase()] || key\r\n        } else {\r\n            key = LEGACY_KEY_CODES[key] || String.fromCharCode(key)\r\n        }\r\n        return key\r\n    }\r\n};\r\nexport var getChar = _ref5 => {\r\n    var {\r\n        key: key,\r\n        which: which\r\n    } = _ref5;\r\n    return key || String.fromCharCode(which)\r\n};\r\nexport var addNamespace = mappedAddNamespace;\r\nexport var isCommandKeyPressed = _ref6 => {\r\n    var {\r\n        ctrlKey: ctrlKey,\r\n        metaKey: metaKey\r\n    } = _ref6;\r\n    return ctrlKey || metaKey\r\n};\r\n"]},"metadata":{},"sourceType":"module"}