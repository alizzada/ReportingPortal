{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/lookup.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../core/renderer\";\nimport eventsEngine from \"../events/core/events_engine\";\nimport { getWindow } from \"../core/utils/window\";\nvar window = getWindow();\nimport { nativeScrolling } from \"../core/utils/support\";\nimport { noop } from \"../core/utils/common\";\nimport { getPublicElement } from \"../core/element\";\nimport { each } from \"../core/utils/iterator\";\nimport { extend } from \"../core/utils/extend\";\nimport { render } from \"./widget/utils.ink_ripple\";\nimport messageLocalization from \"../localization/message\";\nimport devices from \"../core/devices\";\nimport registerComponent from \"../core/component_registrator\";\nimport { addNamespace } from \"../events/utils/index\";\nimport DropDownList from \"./drop_down_editor/ui.drop_down_list\";\nimport { current, isMaterial } from \"./themes\";\nimport { name as clickEventName } from \"../events/click\";\nimport Popover from \"./popover\";\nimport TextBox from \"./text_box\";\nimport { ChildDefaultTemplate } from \"../core/templates/child_default_template\";\nimport { locate, move, resetPosition } from \"../animation/translator\";\nimport { isDefined } from \"../core/utils/type\";\nimport { getElementWidth } from \"./drop_down_editor/utils\";\nvar LOOKUP_CLASS = \"dx-lookup\";\nvar LOOKUP_SEARCH_CLASS = \"dx-lookup-search\";\nvar LOOKUP_SEARCH_WRAPPER_CLASS = \"dx-lookup-search-wrapper\";\nvar LOOKUP_FIELD_CLASS = \"dx-lookup-field\";\nvar LOOKUP_ARROW_CLASS = \"dx-lookup-arrow\";\nvar LOOKUP_FIELD_WRAPPER_CLASS = \"dx-lookup-field-wrapper\";\nvar LOOKUP_POPUP_CLASS = \"dx-lookup-popup\";\nvar LOOKUP_POPUP_WRAPPER_CLASS = \"dx-lookup-popup-wrapper\";\nvar LOOKUP_POPUP_SEARCH_CLASS = \"dx-lookup-popup-search\";\nvar LOOKUP_POPOVER_MODE = \"dx-lookup-popover-mode\";\nvar LOOKUP_EMPTY_CLASS = \"dx-lookup-empty\";\nvar LOOKUP_POPOVER_FLIP_VERTICAL_CLASS = \"dx-popover-flipped-vertical\";\nvar TEXTEDITOR_INPUT_CLASS = \"dx-texteditor-input\";\nvar LIST_ITEM_CLASS = \"dx-list-item\";\nvar LIST_ITEM_SELECTED_CLASS = \"dx-list-item-selected\";\nvar GROUP_LIST_HEADER_CLASS = \"dx-list-group-header\";\nvar MATERIAL_LOOKUP_LIST_ITEMS_COUNT = 5;\nvar MATERIAL_LOOKUP_LIST_PADDING = 8;\nvar Lookup = DropDownList.inherit({\n  _supportedKeys: function _supportedKeys() {\n    return extend(this.callBase(), {\n      space: function space(e) {\n        e.preventDefault();\n\n        this._validatedOpening();\n      },\n      enter: function enter() {\n        this._validatedOpening();\n      }\n    });\n  },\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      placeholder: messageLocalization.format(\"Select\"),\n      searchPlaceholder: messageLocalization.format(\"Search\"),\n      searchEnabled: true,\n      cleanSearchOnOpening: true,\n      showCancelButton: true,\n      showClearButton: false,\n      clearButtonText: messageLocalization.format(\"Clear\"),\n      applyButtonText: messageLocalization.format(\"OK\"),\n      pullRefreshEnabled: false,\n      useNativeScrolling: true,\n      pullingDownText: messageLocalization.format(\"dxList-pullingDownText\"),\n      pulledDownText: messageLocalization.format(\"dxList-pulledDownText\"),\n      refreshingText: messageLocalization.format(\"dxList-refreshingText\"),\n      pageLoadingText: messageLocalization.format(\"dxList-pageLoadingText\"),\n      onScroll: null,\n      onPullRefresh: null,\n      onPageLoading: null,\n      pageLoadMode: \"scrollBottom\",\n      nextButtonText: messageLocalization.format(\"dxList-nextButtonText\"),\n      grouped: false,\n      groupTemplate: \"group\",\n      usePopover: false,\n      showDropDownButton: false,\n      focusStateEnabled: false,\n      animation: {},\n      dropDownOptions: {\n        showTitle: true,\n        width: function width() {\n          return .8 * $(window).width();\n        },\n        height: function height() {\n          return .8 * $(window).height();\n        },\n        shading: true,\n        closeOnOutsideClick: false,\n        position: void 0,\n        animation: {},\n        title: \"\",\n        titleTemplate: \"title\",\n        onTitleRendered: null,\n        fullScreen: false\n      },\n      dropDownCentered: false,\n      _scrollToSelectedItemEnabled: false,\n      useHiddenSubmitElement: true\n    });\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    var _this = this;\n\n    var themeName = current();\n    return this.callBase().concat([{\n      device: function device() {\n        return !nativeScrolling;\n      },\n      options: {\n        useNativeScrolling: false\n      }\n    }, {\n      device: function device(_device) {\n        return !devices.isSimulator() && \"desktop\" === devices.real().deviceType && \"generic\" === _device.platform;\n      },\n      options: {\n        usePopover: true,\n        dropDownOptions: {\n          height: \"auto\"\n        }\n      }\n    }, {\n      device: {\n        platform: \"ios\",\n        phone: true\n      },\n      options: {\n        dropDownOptions: {\n          fullScreen: true\n        }\n      }\n    }, {\n      device: {\n        platform: \"ios\",\n        tablet: true\n      },\n      options: {\n        dropDownOptions: {\n          width: function width() {\n            return .4 * Math.min($(window).width(), $(window).height());\n          },\n          height: \"auto\"\n        },\n        usePopover: true,\n        useInkRipple: false\n      }\n    }, {\n      device: function device() {\n        return \"desktop\" === devices.real().deviceType && !devices.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: function device() {\n        return isMaterial(themeName);\n      },\n      options: {\n        usePopover: false,\n        searchEnabled: false,\n        showCancelButton: false,\n        dropDownCentered: true,\n        _scrollToSelectedItemEnabled: true,\n        dropDownOptions: {\n          closeOnOutsideClick: true,\n          width: function width() {\n            return getElementWidth(_this.$element());\n          },\n          height: function () {\n            return this._getPopupHeight();\n          }.bind(this),\n          showTitle: false,\n          shading: false\n        }\n      }\n    }]);\n  },\n  _init: function _init() {\n    this.callBase();\n\n    this._initActions();\n  },\n  _initActions: function _initActions() {\n    this.callBase();\n\n    this._initScrollAction();\n\n    this._initPageLoadingAction();\n\n    this._initPullRefreshAction();\n  },\n  _initPageLoadingAction: function _initPageLoadingAction() {\n    this._pageLoadingAction = this._createActionByOption(\"onPageLoading\");\n  },\n  _initPullRefreshAction: function _initPullRefreshAction() {\n    this._pullRefreshAction = this._createActionByOption(\"onPullRefresh\");\n  },\n  _initScrollAction: function _initScrollAction() {\n    this._scrollAction = this._createActionByOption(\"onScroll\");\n  },\n  _scrollHandler: function _scrollHandler(e) {\n    this._scrollAction(e);\n  },\n  _pullRefreshHandler: function _pullRefreshHandler(e) {\n    this._pullRefreshAction(e);\n  },\n  _pageLoadingHandler: function _pageLoadingHandler(e) {\n    this._pageLoadingAction(e);\n  },\n  _initTemplates: function _initTemplates() {\n    this.callBase();\n\n    this._templateManager.addDefaultTemplates({\n      group: new ChildDefaultTemplate(\"group\"),\n      title: new ChildDefaultTemplate(\"title\")\n    });\n  },\n  _initMarkup: function _initMarkup() {\n    this.$element().addClass(LOOKUP_CLASS).toggleClass(LOOKUP_POPOVER_MODE, this.option(\"usePopover\"));\n    this.callBase();\n  },\n  _inputWrapper: function _inputWrapper() {\n    return this.$element().find(\".\" + LOOKUP_FIELD_WRAPPER_CLASS);\n  },\n  _dataSourceOptions: function _dataSourceOptions() {\n    return extend(this.callBase(), {\n      paginate: true\n    });\n  },\n  _fireContentReadyAction: noop,\n  _popupWrapperClass: function _popupWrapperClass() {\n    return \"\";\n  },\n  _renderInput: function _renderInput() {\n    var _this2 = this;\n\n    var fieldClickAction = this._createAction(function () {\n      _this2._toggleOpenState();\n    });\n\n    this._$field = $(\"<div>\").addClass(LOOKUP_FIELD_CLASS);\n    eventsEngine.on(this._$field, addNamespace(clickEventName, this.NAME), function (e) {\n      fieldClickAction({\n        event: e\n      });\n    });\n    var $arrow = $(\"<div>\").addClass(LOOKUP_ARROW_CLASS);\n    this._$fieldWrapper = $(\"<div>\").addClass(LOOKUP_FIELD_WRAPPER_CLASS).append(this._$field).append($arrow).appendTo(this.$element());\n    this.option(\"useInkRipple\") && this._renderInkRipple();\n  },\n  _getInputContainer: function _getInputContainer() {\n    return this._$fieldWrapper;\n  },\n  _renderInkRipple: function _renderInkRipple() {\n    this._inkRipple = render();\n  },\n  _toggleOpenState: function _toggleOpenState() {\n    this.callBase();\n\n    if (!this.option(\"dropDownOptions.fullScreen\") && this.option(\"_scrollToSelectedItemEnabled\")) {\n      this._setPopupPosition();\n    }\n  },\n  _toggleActiveState: function _toggleActiveState($element, value, e) {\n    this.callBase.apply(this, arguments);\n\n    if (!this._inkRipple) {\n      return;\n    }\n\n    var config = {\n      element: this._inputWrapper(),\n      event: e\n    };\n\n    if (value) {\n      this._inkRipple.showWave(config);\n    } else {\n      this._inkRipple.hideWave(config);\n    }\n  },\n  _renderField: function _renderField() {\n    var fieldTemplate = this._getTemplateByOption(\"fieldTemplate\");\n\n    if (fieldTemplate && this.option(\"fieldTemplate\")) {\n      this._renderFieldTemplate(fieldTemplate);\n\n      return;\n    }\n\n    var displayValue = this.option(\"displayValue\");\n\n    this._updateField(isDefined(displayValue) && String(displayValue) || this.option(\"placeholder\"));\n\n    this.$element().toggleClass(LOOKUP_EMPTY_CLASS, !this.option(\"selectedItem\"));\n  },\n  _renderDisplayText: function _renderDisplayText(text) {\n    if (this._input().length) {\n      this.callBase(text);\n    } else {\n      this._updateField(text);\n    }\n  },\n  _updateField: function _updateField(text) {\n    this._$field.text(text);\n  },\n  _renderFieldTemplate: function _renderFieldTemplate(template) {\n    this._$field.empty();\n\n    var data = this._fieldRenderData();\n\n    template.render({\n      model: data,\n      container: getPublicElement(this._$field)\n    });\n  },\n  _fieldRenderData: function _fieldRenderData() {\n    return this.option(\"selectedItem\");\n  },\n  _popupShowingHandler: function _popupShowingHandler() {\n    this.callBase.apply(this, arguments);\n\n    if (this.option(\"cleanSearchOnOpening\")) {\n      if (this.option(\"searchEnabled\") && this._searchBox.option(\"value\")) {\n        this._searchBox.option(\"value\", \"\");\n\n        this._searchCanceled();\n      }\n\n      this._list && this._list.option(\"focusedElement\", null);\n    }\n\n    if (this.option(\"dropDownOptions.fullScreen\") && this.option(\"_scrollToSelectedItemEnabled\")) {\n      this._popup.option(\"position\").of = $(window);\n    }\n  },\n  _scrollToSelectedItem: function _scrollToSelectedItem() {\n    var selectedIndex = this._list.option(\"selectedIndex\");\n\n    var listItems = this._list.option(\"items\");\n\n    var itemsCount = listItems.length;\n\n    if (0 !== itemsCount) {\n      if (this._list.option(\"grouped\")) {\n        this._list.scrollToItem({\n          group: itemsCount - 1,\n          item: listItems[itemsCount - 1].items.length - 1\n        });\n      } else {\n        this._list.scrollToItem(itemsCount - 1);\n      }\n\n      this._list.scrollToItem(selectedIndex);\n    }\n  },\n  _getDifferenceOffsets: function _getDifferenceOffsets(selectedListItem) {\n    return selectedListItem.offset().top - $(this.element()).offset().top;\n  },\n  _isCenteringEnabled: function _isCenteringEnabled(index, count) {\n    return 1 < index && index < count - 2;\n  },\n  _getPopupOffset: function _getPopupOffset() {\n    var listItemsCount = this._listItemElements().length;\n\n    if (0 === listItemsCount) {\n      return;\n    }\n\n    var selectedListItem = $(this._list.element()).find(\".\" + LIST_ITEM_SELECTED_CLASS);\n\n    var selectedIndex = this._listItemElements().index(selectedListItem);\n\n    var differenceOfHeights = (selectedListItem.height() - $(this.element()).height()) / 2;\n    var lookupOffset = $(this._list.element()).offset().top;\n    var dropDownHeightOption = this.option(\"dropDownOptions.height\");\n    var popupHeight = \"function\" === typeof dropDownHeightOption ? dropDownHeightOption() : dropDownHeightOption;\n    var windowHeight = $(window).height();\n    var offsetTop = 0;\n\n    if (-1 !== selectedIndex) {\n      if (this._isCenteringEnabled(selectedIndex, listItemsCount)) {\n        this._scrollToSelectedItem();\n\n        var scrollOffsetTop = (popupHeight - selectedListItem.height()) / 2 - this._getDifferenceOffsets(selectedListItem);\n\n        this._list.scrollTo(this._list.scrollTop() + MATERIAL_LOOKUP_LIST_PADDING / 2 - scrollOffsetTop);\n\n        offsetTop = differenceOfHeights + this._getDifferenceOffsets(selectedListItem);\n\n        if (lookupOffset < offsetTop && selectedIndex !== listItemsCount - 3) {\n          this._list.scrollTo(this._list.scrollTop() + this._getDifferenceOffsets(selectedListItem) / 2);\n\n          offsetTop = differenceOfHeights + this._getDifferenceOffsets(selectedListItem);\n        }\n      } else if (selectedIndex <= 1) {\n        this._list.scrollTo(0);\n\n        offsetTop = differenceOfHeights + this._getDifferenceOffsets(selectedListItem);\n      } else if (selectedIndex >= listItemsCount - 2) {\n        this._scrollToSelectedItem();\n\n        offsetTop = differenceOfHeights + this._getDifferenceOffsets(selectedListItem);\n      }\n\n      if (lookupOffset < offsetTop) {\n        this._scrollToSelectedItem();\n\n        offsetTop = differenceOfHeights + MATERIAL_LOOKUP_LIST_PADDING;\n      }\n    }\n\n    var offsetBottom = popupHeight - offsetTop - $(this.element()).height();\n\n    if (windowHeight - lookupOffset < offsetBottom) {\n      this._list.scrollTo(this._list.scrollTop() + differenceOfHeights - offsetBottom);\n\n      offsetTop = popupHeight - $(this.element()).height() - MATERIAL_LOOKUP_LIST_PADDING;\n    }\n\n    return offsetTop;\n  },\n  _setPopupPosition: function _setPopupPosition() {\n    if (!this.option(\"dropDownCentered\")) {\n      return;\n    }\n\n    var flipped = this._popup.$wrapper().hasClass(LOOKUP_POPOVER_FLIP_VERTICAL_CLASS);\n\n    if (flipped) {\n      return;\n    }\n\n    var popupContentParent = $(this._popup.$content()).parent();\n\n    var popupOffset = this._getPopupOffset();\n\n    var position = locate(popupContentParent);\n    move(popupContentParent, {\n      top: position.top - popupOffset\n    });\n  },\n  _listItemGroupedElements: function _listItemGroupedElements() {\n    var groups = this._list._itemContainer().children();\n\n    var items = [];\n    groups.each(function (_, group) {\n      items.push($(group).find(\".\" + GROUP_LIST_HEADER_CLASS)[0]);\n      var groupedItems = $(group).find(\".\" + LIST_ITEM_CLASS);\n      groupedItems.each(function (_, item) {\n        items.push(item);\n      });\n    });\n    return $(items);\n  },\n  _calculateListHeight: function _calculateListHeight(grouped) {\n    var listItems = grouped ? this._listItemGroupedElements() : this._listItemElements();\n    var selectedListItem = $(\".\" + LIST_ITEM_SELECTED_CLASS);\n    var selectedIndex = listItems.index(selectedListItem);\n    var listHeight = 0;\n    var requireListItems = [];\n\n    if (0 === listItems.length) {\n      listHeight += MATERIAL_LOOKUP_LIST_PADDING;\n    } else if (listItems.length < MATERIAL_LOOKUP_LIST_ITEMS_COUNT) {\n      listItems.each(function (_, item) {\n        listHeight += $(item).outerHeight();\n      });\n    } else {\n      if (selectedIndex <= 1) {\n        requireListItems = listItems.slice(0, MATERIAL_LOOKUP_LIST_ITEMS_COUNT);\n      } else if (this._isCenteringEnabled(selectedIndex, listItems.length)) {\n        requireListItems = listItems.slice(selectedIndex - 2, selectedIndex + 3);\n      } else {\n        requireListItems = listItems.slice(listItems.length - MATERIAL_LOOKUP_LIST_ITEMS_COUNT, listItems.length);\n      }\n\n      requireListItems.each(function (_, item) {\n        listHeight += $(item).outerHeight();\n      });\n    }\n\n    return listHeight + (grouped ? MATERIAL_LOOKUP_LIST_PADDING : 2 * MATERIAL_LOOKUP_LIST_PADDING);\n  },\n  _getPopupHeight: function _getPopupHeight() {\n    if (this._list && this._list.itemElements()) {\n      return this._calculateListHeight(this.option(\"grouped\")) + (this._$searchWrapper ? this._$searchWrapper.outerHeight() : 0) + (this._popup._$bottom ? this._popup._$bottom.outerHeight() : 0) + (this._popup._$title ? this._popup._$title.outerHeight() : 0);\n    } else {\n      return \"auto\";\n    }\n  },\n  _renderPopup: function _renderPopup() {\n    if (this.option(\"usePopover\") && !this.option(\"dropDownOptions.fullScreen\")) {\n      if (this.option(\"_scrollToSelectedItemEnabled\")) {\n        this.callBase();\n      } else {\n        this._renderPopover();\n      }\n    } else {\n      this.callBase();\n    }\n\n    this._$popup.addClass(LOOKUP_POPUP_CLASS);\n\n    this._popup.$wrapper().addClass(LOOKUP_POPUP_WRAPPER_CLASS);\n  },\n  _renderPopover: function _renderPopover() {\n    this._popup = this._createComponent(this._$popup, Popover, extend(this._popupConfig(), this._options.cache(\"dropDownOptions\"), {\n      showEvent: null,\n      hideEvent: null,\n      target: this.$element(),\n      _fixedPosition: false,\n      fullScreen: false,\n      shading: false,\n      closeOnTargetScroll: true,\n      width: this._isInitialOptionValue(\"dropDownOptions.width\") ? function () {\n        return this.$element().outerWidth();\n      }.bind(this) : this._popupConfig().width\n    }));\n\n    this._popup.on({\n      showing: this._popupShowingHandler.bind(this),\n      shown: this._popupShownHandler.bind(this),\n      hiding: this._popupHidingHandler.bind(this),\n      hidden: this._popupHiddenHandler.bind(this),\n      contentReady: this._contentReadyHandler.bind(this)\n    });\n\n    if (this.option(\"_scrollToSelectedItemEnabled\")) {\n      this._popup._$arrow.remove();\n    }\n\n    this._setPopupContentId(this._popup.$content());\n\n    this._contentReadyHandler();\n  },\n  _popupHidingHandler: function _popupHidingHandler() {\n    this.callBase();\n    this.option(\"focusStateEnabled\") && this.focus();\n  },\n  _popupHiddenHandler: function _popupHiddenHandler() {\n    this.callBase();\n\n    if (this.option(\"_scrollToSelectedItemEnabled\")) {\n      resetPosition($(this._popup.content()).parent());\n    }\n  },\n  _preventFocusOnPopup: noop,\n  _popupConfig: function _popupConfig() {\n    var _this3 = this;\n\n    var result = extend(this.callBase(), {\n      toolbarItems: this._getPopupToolbarItems(),\n      closeOnTargetScroll: false,\n      onPositioned: null,\n      maxHeight: function maxHeight() {\n        return $(window).height();\n      },\n      showTitle: this.option(\"dropDownOptions.showTitle\"),\n      title: this.option(\"dropDownOptions.title\"),\n      titleTemplate: this._getTemplateByOption(\"dropDownOptions.titleTemplate\"),\n      onTitleRendered: this.option(\"dropDownOptions.onTitleRendered\"),\n      fullScreen: this.option(\"dropDownOptions.fullScreen\"),\n      shading: this.option(\"dropDownOptions.shading\"),\n      closeOnOutsideClick: this.option(\"dropDownOptions.closeOnOutsideClick\")\n    });\n    delete result.animation;\n    delete result.position;\n\n    if (this.option(\"_scrollToSelectedItemEnabled\")) {\n      result.position = this.option(\"dropDownCentered\") ? {\n        my: \"left top\",\n        at: \"left top\",\n        of: this.element()\n      } : {\n        my: \"left top\",\n        at: \"left bottom\",\n        of: this.element()\n      };\n      result.closeOnTargetScroll = true;\n    }\n\n    each([\"position\", \"animation\", \"width\", \"height\"], function (_, optionName) {\n      var popupOptionValue = _this3.option(\"dropDownOptions.\".concat(optionName));\n\n      if (void 0 !== popupOptionValue) {\n        result[optionName] = popupOptionValue;\n      }\n    });\n    return result;\n  },\n  _getPopupToolbarItems: function _getPopupToolbarItems() {\n    var buttonsConfig = \"useButtons\" === this.option(\"applyValueMode\") ? this._popupToolbarItemsConfig() : [];\n\n    var cancelButton = this._getCancelButtonConfig();\n\n    if (cancelButton) {\n      buttonsConfig.push(cancelButton);\n    }\n\n    var clearButton = this._getClearButtonConfig();\n\n    if (clearButton) {\n      buttonsConfig.push(clearButton);\n    }\n\n    return this._applyButtonsLocation(buttonsConfig);\n  },\n  _popupToolbarItemsConfig: function _popupToolbarItemsConfig() {\n    return [{\n      shortcut: \"done\",\n      options: {\n        onClick: this._applyButtonHandler.bind(this),\n        text: this.option(\"applyButtonText\")\n      }\n    }];\n  },\n  _getCancelButtonConfig: function _getCancelButtonConfig() {\n    var _this4 = this;\n\n    return this.option(\"showCancelButton\") ? {\n      shortcut: \"cancel\",\n      onClick: this._cancelButtonHandler.bind(this),\n      options: {\n        onInitialized: function onInitialized(e) {\n          e.component.registerKeyHandler(\"escape\", _this4.close.bind(_this4));\n        },\n        text: this.option(\"cancelButtonText\")\n      }\n    } : null;\n  },\n  _getClearButtonConfig: function _getClearButtonConfig() {\n    return this.option(\"showClearButton\") ? {\n      shortcut: \"clear\",\n      onClick: this._resetValue.bind(this),\n      options: {\n        text: this.option(\"clearButtonText\")\n      }\n    } : null;\n  },\n  _applyButtonHandler: function _applyButtonHandler(args) {\n    if (args) {\n      this._saveValueChangeEvent(args.event);\n    }\n\n    this.option(\"value\", this._valueGetter(this._currentSelectedItem()));\n    this.callBase();\n  },\n  _cancelButtonHandler: function _cancelButtonHandler() {\n    this._refreshSelected();\n\n    this.callBase();\n  },\n  _refreshPopupVisibility: function _refreshPopupVisibility() {\n    if (this.option(\"opened\")) {\n      this._updatePopupDimensions();\n    }\n  },\n  _dimensionChanged: function _dimensionChanged() {\n    if (this.option(\"usePopover\") && !this.option(\"dropDownOptions.width\")) {\n      this.option(\"dropDownOptions.width\", this.$element().width());\n    }\n\n    this._popup && this._updatePopupDimensions();\n  },\n  _input: function _input() {\n    return this._$searchBox || this.callBase();\n  },\n  _renderPopupContent: function _renderPopupContent() {\n    this.callBase();\n\n    this._renderSearch();\n  },\n  _renderSearch: function _renderSearch() {\n    var _this5 = this;\n\n    var isSearchEnabled = this.option(\"searchEnabled\");\n\n    this._toggleSearchClass(isSearchEnabled);\n\n    if (isSearchEnabled) {\n      var $searchWrapper = this._$searchWrapper = $(\"<div>\").addClass(LOOKUP_SEARCH_WRAPPER_CLASS);\n      var $searchBox = this._$searchBox = $(\"<div>\").addClass(LOOKUP_SEARCH_CLASS).appendTo($searchWrapper);\n      var currentDevice = devices.current();\n      var searchMode = currentDevice.android && currentDevice.version[0] >= 5 ? \"text\" : \"search\";\n      var isKeyboardListeningEnabled = false;\n      this._searchBox = this._createComponent($searchBox, TextBox, {\n        onDisposing: function onDisposing() {\n          return isKeyboardListeningEnabled = false;\n        },\n        onFocusIn: function onFocusIn() {\n          return isKeyboardListeningEnabled = true;\n        },\n        onFocusOut: function onFocusOut() {\n          return isKeyboardListeningEnabled = false;\n        },\n        onKeyboardHandled: function onKeyboardHandled(opts) {\n          return isKeyboardListeningEnabled && _this5._list._keyboardHandler(opts);\n        },\n        mode: searchMode,\n        showClearButton: true,\n        valueChangeEvent: this.option(\"valueChangeEvent\"),\n        onValueChanged: this._searchHandler.bind(this)\n      });\n\n      this._registerSearchKeyHandlers();\n\n      $searchWrapper.insertBefore(this._$list);\n\n      this._setSearchPlaceholder();\n    }\n  },\n  _removeSearch: function _removeSearch() {\n    this._$searchWrapper && this._$searchWrapper.remove();\n    delete this._$searchWrapper;\n    this._$searchBox && this._$searchBox.remove();\n    delete this._$searchBox;\n    delete this._searchBox;\n  },\n  _selectListItemHandler: function _selectListItemHandler(e) {\n    var $itemElement = $(this._list.option(\"focusedElement\"));\n\n    if (!$itemElement.length) {\n      return;\n    }\n\n    e.preventDefault();\n    e.target = $itemElement.get(0);\n\n    this._saveValueChangeEvent(e);\n\n    this._selectListItem(e.itemData, $itemElement);\n  },\n  _registerSearchKeyHandlers: function _registerSearchKeyHandlers() {\n    this._searchBox.registerKeyHandler(\"escape\", this.close.bind(this));\n\n    this._searchBox.registerKeyHandler(\"enter\", this._selectListItemHandler.bind(this));\n\n    this._searchBox.registerKeyHandler(\"space\", this._selectListItemHandler.bind(this));\n\n    this._searchBox.registerKeyHandler(\"end\", noop);\n\n    this._searchBox.registerKeyHandler(\"home\", noop);\n  },\n  _toggleSearchClass: function _toggleSearchClass(isSearchEnabled) {\n    if (this._popup) {\n      this._popup.$wrapper().toggleClass(LOOKUP_POPUP_SEARCH_CLASS, isSearchEnabled);\n    }\n  },\n  _setSearchPlaceholder: function _setSearchPlaceholder() {\n    if (!this._$searchBox) {\n      return;\n    }\n\n    var minSearchLength = this.option(\"minSearchLength\");\n    var placeholder = this.option(\"searchPlaceholder\");\n\n    if (minSearchLength && placeholder === messageLocalization.format(\"Search\")) {\n      placeholder = messageLocalization.getFormatter(\"dxLookup-searchPlaceholder\")(minSearchLength);\n    }\n\n    this._searchBox.option(\"placeholder\", placeholder);\n  },\n  _setAriaTargetForList: noop,\n  _renderList: function _renderList() {\n    var _this6 = this;\n\n    this.callBase();\n\n    this._list.registerKeyHandler(\"escape\", function () {\n      _this6.close();\n    });\n  },\n  _listConfig: function _listConfig() {\n    return extend(this.callBase(), {\n      tabIndex: 0,\n      grouped: this.option(\"grouped\"),\n      groupTemplate: this._getTemplateByOption(\"groupTemplate\"),\n      pullRefreshEnabled: this.option(\"pullRefreshEnabled\"),\n      useNativeScrolling: this.option(\"useNativeScrolling\"),\n      pullingDownText: this.option(\"pullingDownText\"),\n      pulledDownText: this.option(\"pulledDownText\"),\n      refreshingText: this.option(\"refreshingText\"),\n      pageLoadingText: this.option(\"pageLoadingText\"),\n      onScroll: this._scrollHandler.bind(this),\n      onPullRefresh: this._pullRefreshHandler.bind(this),\n      onPageLoading: this._pageLoadingHandler.bind(this),\n      pageLoadMode: this.option(\"pageLoadMode\"),\n      nextButtonText: this.option(\"nextButtonText\"),\n      indicateLoading: this.option(\"searchEnabled\"),\n      onSelectionChanged: this._getSelectionChangedHandler()\n    });\n  },\n  _getSelectionChangedHandler: function _getSelectionChangedHandler() {\n    return this.option(\"showSelectionControls\") ? this._selectionChangeHandler.bind(this) : noop;\n  },\n  _listContentReadyHandler: function _listContentReadyHandler() {\n    this.callBase.apply(this, arguments);\n\n    this._refreshSelected();\n  },\n  _setFocusPolicy: function _setFocusPolicy() {\n    if (!this.option(\"focusStateEnabled\")) {\n      return;\n    }\n\n    if (this.option(\"searchEnabled\")) {\n      this._searchBox.focus();\n    } else {\n      eventsEngine.trigger(this._$list, \"focus\");\n    }\n  },\n  _focusTarget: function _focusTarget() {\n    return this._$field;\n  },\n  _keyboardEventBindingTarget: function _keyboardEventBindingTarget() {\n    return this._$field;\n  },\n  _listItemClickHandler: function _listItemClickHandler(e) {\n    this._saveValueChangeEvent(e.event);\n\n    this._selectListItem(e.itemData, e.event.currentTarget);\n  },\n  _selectListItem: function _selectListItem(itemData, target) {\n    this._list.selectItem(target);\n\n    if (\"instantly\" === this.option(\"applyValueMode\")) {\n      this._applyButtonHandler();\n    }\n  },\n  _currentSelectedItem: function _currentSelectedItem() {\n    return this.option(\"grouped\") ? this._list.option(\"selectedItems[0]\").items[0] : this._list.option(\"selectedItems[0]\");\n  },\n  _resetValue: function _resetValue(e) {\n    this._saveValueChangeEvent(e.event);\n\n    this.option(\"value\", null);\n    this.option(\"opened\", false);\n  },\n  _searchValue: function _searchValue() {\n    return this.option(\"searchEnabled\") && this._searchBox ? this._searchBox.option(\"value\") : \"\";\n  },\n  _renderInputValue: function _renderInputValue() {\n    var _this7 = this;\n\n    return this.callBase().always(function () {\n      _this7._refreshSelected();\n    });\n  },\n  _renderPlaceholder: function _renderPlaceholder() {\n    if (0 === this.$element().find(\".\" + TEXTEDITOR_INPUT_CLASS).length) {\n      return;\n    }\n\n    this.callBase();\n  },\n  _clean: function _clean() {\n    this._$fieldWrapper.remove();\n\n    this._$searchBox = null;\n    delete this._inkRipple;\n    this.callBase();\n  },\n  _setDeprecatedOptions: function _setDeprecatedOptions() {\n    this.callBase();\n    extend(this._deprecatedOptions, {\n      title: {\n        since: \"20.1\",\n        alias: \"dropDownOptions.title\"\n      },\n      titleTemplate: {\n        since: \"20.1\",\n        alias: \"dropDownOptions.titleTemplate\"\n      },\n      onTitleRendered: {\n        since: \"20.1\",\n        alias: \"dropDownOptions.onTitleRendered\"\n      },\n      fullScreen: {\n        since: \"20.1\",\n        alias: \"dropDownOptions.fullScreen\"\n      },\n      popupWidth: {\n        since: \"20.1\",\n        alias: \"dropDownOptions.width\"\n      },\n      popupHeight: {\n        since: \"20.1\",\n        alias: \"dropDownOptions.height\"\n      },\n      shading: {\n        since: \"20.1\",\n        alias: \"dropDownOptions.shading\"\n      },\n      closeOnOutsideClick: {\n        since: \"20.1\",\n        alias: \"dropDownOptions.closeOnOutsideClick\"\n      },\n      position: {\n        since: \"20.1\",\n        alias: \"dropDownOptions.position\"\n      },\n      animation: {\n        since: \"20.1\",\n        alias: \"dropDownOptions.animation\"\n      }\n    });\n  },\n  _optionChanged: function _optionChanged(args) {\n    var name = args.name;\n    var value = args.value;\n\n    switch (name) {\n      case \"dataSource\":\n        this.callBase.apply(this, arguments);\n\n        this._renderField();\n\n        break;\n\n      case \"searchEnabled\":\n        if (this._popup) {\n          this._removeSearch();\n\n          this._renderSearch();\n        }\n\n        break;\n\n      case \"searchPlaceholder\":\n        this._setSearchPlaceholder();\n\n        break;\n\n      case \"minSearchLength\":\n        this._setSearchPlaceholder();\n\n        this.callBase.apply(this, arguments);\n        break;\n\n      case \"title\":\n      case \"titleTemplate\":\n      case \"onTitleRendered\":\n      case \"shading\":\n      case \"animation\":\n      case \"position\":\n      case \"closeOnOutsideClick\":\n      case \"fullScreen\":\n        this._setPopupOption(name, value);\n\n        break;\n\n      case \"usePopover\":\n      case \"placeholder\":\n        this._invalidate();\n\n        break;\n\n      case \"clearButtonText\":\n      case \"showClearButton\":\n      case \"showCancelButton\":\n        this._setPopupOption(\"toolbarItems\", this._getPopupToolbarItems());\n\n        break;\n\n      case \"applyValueMode\":\n        this.callBase.apply(this, arguments);\n        break;\n\n      case \"popupWidth\":\n        this._setPopupOption(\"width\", \"auto\" === value ? this.initialOption(\"dropDownOptions\").width : value);\n\n        break;\n\n      case \"popupHeight\":\n        this._setPopupOption(\"height\", \"auto\" === value ? this.initialOption(\"dropDownOptions\").height : value);\n\n        break;\n\n      case \"onPageLoading\":\n        this._initPageLoadingAction();\n\n        break;\n\n      case \"onPullRefresh\":\n        this._initPullRefreshAction();\n\n        break;\n\n      case \"pullRefreshEnabled\":\n      case \"useNativeScrolling\":\n      case \"pullingDownText\":\n      case \"pulledDownText\":\n      case \"refreshingText\":\n      case \"pageLoadingText\":\n      case \"nextButtonText\":\n      case \"grouped\":\n      case \"groupTemplate\":\n        this._setListOption(name);\n\n        break;\n\n      case \"onScroll\":\n        this._initScrollAction();\n\n        break;\n\n      case \"pageLoadMode\":\n        this._setListOption(\"pageLoadMode\", this.option(\"pageLoadMode\"));\n\n        break;\n\n      case \"cleanSearchOnOpening\":\n      case \"_scrollToSelectedItemEnabled\":\n        break;\n\n      case \"dropDownCentered\":\n        if (this.option(\"_scrollToSelectedItemEnabled\")) {\n          this.option(\"dropDownOptions.position\", void 0);\n\n          this._renderPopup();\n        }\n\n        break;\n\n      default:\n        this.callBase.apply(this, arguments);\n    }\n  },\n  focus: function focus() {\n    this.option(\"opened\") ? this._setFocusPolicy() : eventsEngine.trigger(this._focusTarget(), \"focus\");\n  },\n  field: function field() {\n    return this._$field;\n  }\n});\nregisterComponent(\"dxLookup\", Lookup);\nexport default Lookup;","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/ui/lookup.js"],"names":["$","eventsEngine","getWindow","window","nativeScrolling","noop","getPublicElement","each","extend","render","messageLocalization","devices","registerComponent","addNamespace","DropDownList","current","isMaterial","name","clickEventName","Popover","TextBox","ChildDefaultTemplate","locate","move","resetPosition","isDefined","getElementWidth","LOOKUP_CLASS","LOOKUP_SEARCH_CLASS","LOOKUP_SEARCH_WRAPPER_CLASS","LOOKUP_FIELD_CLASS","LOOKUP_ARROW_CLASS","LOOKUP_FIELD_WRAPPER_CLASS","LOOKUP_POPUP_CLASS","LOOKUP_POPUP_WRAPPER_CLASS","LOOKUP_POPUP_SEARCH_CLASS","LOOKUP_POPOVER_MODE","LOOKUP_EMPTY_CLASS","LOOKUP_POPOVER_FLIP_VERTICAL_CLASS","TEXTEDITOR_INPUT_CLASS","LIST_ITEM_CLASS","LIST_ITEM_SELECTED_CLASS","GROUP_LIST_HEADER_CLASS","MATERIAL_LOOKUP_LIST_ITEMS_COUNT","MATERIAL_LOOKUP_LIST_PADDING","Lookup","inherit","_supportedKeys","callBase","space","e","preventDefault","_validatedOpening","enter","_getDefaultOptions","placeholder","format","searchPlaceholder","searchEnabled","cleanSearchOnOpening","showCancelButton","showClearButton","clearButtonText","applyButtonText","pullRefreshEnabled","useNativeScrolling","pullingDownText","pulledDownText","refreshingText","pageLoadingText","onScroll","onPullRefresh","onPageLoading","pageLoadMode","nextButtonText","grouped","groupTemplate","usePopover","showDropDownButton","focusStateEnabled","animation","dropDownOptions","showTitle","width","height","shading","closeOnOutsideClick","position","title","titleTemplate","onTitleRendered","fullScreen","dropDownCentered","_scrollToSelectedItemEnabled","useHiddenSubmitElement","_defaultOptionsRules","themeName","concat","device","options","_device","isSimulator","real","deviceType","platform","phone","tablet","Math","min","useInkRipple","$element","_getPopupHeight","bind","_init","_initActions","_initScrollAction","_initPageLoadingAction","_initPullRefreshAction","_pageLoadingAction","_createActionByOption","_pullRefreshAction","_scrollAction","_scrollHandler","_pullRefreshHandler","_pageLoadingHandler","_initTemplates","_templateManager","addDefaultTemplates","group","_initMarkup","addClass","toggleClass","option","_inputWrapper","find","_dataSourceOptions","paginate","_fireContentReadyAction","_popupWrapperClass","_renderInput","fieldClickAction","_createAction","_toggleOpenState","_$field","on","NAME","event","$arrow","_$fieldWrapper","append","appendTo","_renderInkRipple","_getInputContainer","_inkRipple","_setPopupPosition","_toggleActiveState","value","arguments","config","element","showWave","hideWave","_renderField","fieldTemplate","_getTemplateByOption","_renderFieldTemplate","displayValue","_updateField","String","_renderDisplayText","text","_input","length","template","empty","data","_fieldRenderData","model","container","_popupShowingHandler","apply","_searchBox","_searchCanceled","_list","_popup","of","_scrollToSelectedItem","selectedIndex","listItems","itemsCount","scrollToItem","item","items","_getDifferenceOffsets","selectedListItem","offset","top","_isCenteringEnabled","index","count","_getPopupOffset","listItemsCount","_listItemElements","differenceOfHeights","lookupOffset","dropDownHeightOption","popupHeight","windowHeight","offsetTop","scrollOffsetTop","scrollTo","scrollTop","offsetBottom","flipped","$wrapper","hasClass","popupContentParent","$content","parent","popupOffset","_listItemGroupedElements","groups","_itemContainer","children","_","push","groupedItems","_calculateListHeight","listHeight","requireListItems","outerHeight","slice","itemElements","_$searchWrapper","_$bottom","_$title","_renderPopup","_renderPopover","_$popup","_createComponent","_popupConfig","_options","cache","showEvent","hideEvent","target","_fixedPosition","closeOnTargetScroll","_isInitialOptionValue","outerWidth","showing","shown","_popupShownHandler","hiding","_popupHidingHandler","hidden","_popupHiddenHandler","contentReady","_contentReadyHandler","_$arrow","remove","_setPopupContentId","focus","content","_preventFocusOnPopup","result","toolbarItems","_getPopupToolbarItems","onPositioned","maxHeight","my","at","optionName","popupOptionValue","buttonsConfig","_popupToolbarItemsConfig","cancelButton","_getCancelButtonConfig","clearButton","_getClearButtonConfig","_applyButtonsLocation","shortcut","onClick","_applyButtonHandler","_cancelButtonHandler","onInitialized","component","registerKeyHandler","close","_resetValue","args","_saveValueChangeEvent","_valueGetter","_currentSelectedItem","_refreshSelected","_refreshPopupVisibility","_updatePopupDimensions","_dimensionChanged","_$searchBox","_renderPopupContent","_renderSearch","isSearchEnabled","_toggleSearchClass","$searchWrapper","$searchBox","currentDevice","searchMode","android","version","isKeyboardListeningEnabled","onDisposing","onFocusIn","onFocusOut","onKeyboardHandled","opts","_keyboardHandler","mode","valueChangeEvent","onValueChanged","_searchHandler","_registerSearchKeyHandlers","insertBefore","_$list","_setSearchPlaceholder","_removeSearch","_selectListItemHandler","$itemElement","get","_selectListItem","itemData","minSearchLength","getFormatter","_setAriaTargetForList","_renderList","_listConfig","tabIndex","indicateLoading","onSelectionChanged","_getSelectionChangedHandler","_selectionChangeHandler","_listContentReadyHandler","_setFocusPolicy","trigger","_focusTarget","_keyboardEventBindingTarget","_listItemClickHandler","currentTarget","selectItem","_searchValue","_renderInputValue","always","_renderPlaceholder","_clean","_setDeprecatedOptions","_deprecatedOptions","since","alias","popupWidth","_optionChanged","_setPopupOption","_invalidate","initialOption","_setListOption","field"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,CAAP,MAAc,kBAAd;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,SACIC,SADJ,QAEO,sBAFP;AAGA,IAAIC,MAAM,GAAGD,SAAS,EAAtB;AACA,SACIE,eADJ,QAEO,uBAFP;AAGA,SACIC,IADJ,QAEO,sBAFP;AAGA,SACIC,gBADJ,QAEO,iBAFP;AAGA,SACIC,IADJ,QAEO,wBAFP;AAGA,SACIC,MADJ,QAEO,sBAFP;AAGA,SACIC,MADJ,QAEO,2BAFP;AAGA,OAAOC,mBAAP,MAAgC,yBAAhC;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,OAAOC,iBAAP,MAA8B,+BAA9B;AACA,SACIC,YADJ,QAEO,uBAFP;AAGA,OAAOC,YAAP,MAAyB,sCAAzB;AACA,SACIC,OADJ,EAEIC,UAFJ,QAGO,UAHP;AAIA,SACIC,IAAI,IAAIC,cADZ,QAEO,iBAFP;AAGA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,SACIC,oBADJ,QAEO,0CAFP;AAGA,SACIC,MADJ,EAEIC,IAFJ,EAGIC,aAHJ,QAIO,yBAJP;AAKA,SACIC,SADJ,QAEO,oBAFP;AAGA,SACIC,eADJ,QAEO,0BAFP;AAGA,IAAIC,YAAY,GAAG,WAAnB;AACA,IAAIC,mBAAmB,GAAG,kBAA1B;AACA,IAAIC,2BAA2B,GAAG,0BAAlC;AACA,IAAIC,kBAAkB,GAAG,iBAAzB;AACA,IAAIC,kBAAkB,GAAG,iBAAzB;AACA,IAAIC,0BAA0B,GAAG,yBAAjC;AACA,IAAIC,kBAAkB,GAAG,iBAAzB;AACA,IAAIC,0BAA0B,GAAG,yBAAjC;AACA,IAAIC,yBAAyB,GAAG,wBAAhC;AACA,IAAIC,mBAAmB,GAAG,wBAA1B;AACA,IAAIC,kBAAkB,GAAG,iBAAzB;AACA,IAAIC,kCAAkC,GAAG,6BAAzC;AACA,IAAIC,sBAAsB,GAAG,qBAA7B;AACA,IAAIC,eAAe,GAAG,cAAtB;AACA,IAAIC,wBAAwB,GAAG,uBAA/B;AACA,IAAIC,uBAAuB,GAAG,sBAA9B;AACA,IAAIC,gCAAgC,GAAG,CAAvC;AACA,IAAIC,4BAA4B,GAAG,CAAnC;AACA,IAAIC,MAAM,GAAG/B,YAAY,CAACgC,OAAb,CAAqB;AAC9BC,EAAAA,cAAc,EAAE,0BAAW;AACvB,WAAOvC,MAAM,CAAC,KAAKwC,QAAL,EAAD,EAAkB;AAC3BC,MAAAA,KAAK,EAAE,eAASC,CAAT,EAAY;AACfA,QAAAA,CAAC,CAACC,cAAF;;AACA,aAAKC,iBAAL;AACH,OAJ0B;AAK3BC,MAAAA,KAAK,EAAE,iBAAW;AACd,aAAKD,iBAAL;AACH;AAP0B,KAAlB,CAAb;AASH,GAX6B;AAY9BE,EAAAA,kBAAkB,EAAE,8BAAW;AAC3B,WAAO9C,MAAM,CAAC,KAAKwC,QAAL,EAAD,EAAkB;AAC3BO,MAAAA,WAAW,EAAE7C,mBAAmB,CAAC8C,MAApB,CAA2B,QAA3B,CADc;AAE3BC,MAAAA,iBAAiB,EAAE/C,mBAAmB,CAAC8C,MAApB,CAA2B,QAA3B,CAFQ;AAG3BE,MAAAA,aAAa,EAAE,IAHY;AAI3BC,MAAAA,oBAAoB,EAAE,IAJK;AAK3BC,MAAAA,gBAAgB,EAAE,IALS;AAM3BC,MAAAA,eAAe,EAAE,KANU;AAO3BC,MAAAA,eAAe,EAAEpD,mBAAmB,CAAC8C,MAApB,CAA2B,OAA3B,CAPU;AAQ3BO,MAAAA,eAAe,EAAErD,mBAAmB,CAAC8C,MAApB,CAA2B,IAA3B,CARU;AAS3BQ,MAAAA,kBAAkB,EAAE,KATO;AAU3BC,MAAAA,kBAAkB,EAAE,IAVO;AAW3BC,MAAAA,eAAe,EAAExD,mBAAmB,CAAC8C,MAApB,CAA2B,wBAA3B,CAXU;AAY3BW,MAAAA,cAAc,EAAEzD,mBAAmB,CAAC8C,MAApB,CAA2B,uBAA3B,CAZW;AAa3BY,MAAAA,cAAc,EAAE1D,mBAAmB,CAAC8C,MAApB,CAA2B,uBAA3B,CAbW;AAc3Ba,MAAAA,eAAe,EAAE3D,mBAAmB,CAAC8C,MAApB,CAA2B,wBAA3B,CAdU;AAe3Bc,MAAAA,QAAQ,EAAE,IAfiB;AAgB3BC,MAAAA,aAAa,EAAE,IAhBY;AAiB3BC,MAAAA,aAAa,EAAE,IAjBY;AAkB3BC,MAAAA,YAAY,EAAE,cAlBa;AAmB3BC,MAAAA,cAAc,EAAEhE,mBAAmB,CAAC8C,MAApB,CAA2B,uBAA3B,CAnBW;AAoB3BmB,MAAAA,OAAO,EAAE,KApBkB;AAqB3BC,MAAAA,aAAa,EAAE,OArBY;AAsB3BC,MAAAA,UAAU,EAAE,KAtBe;AAuB3BC,MAAAA,kBAAkB,EAAE,KAvBO;AAwB3BC,MAAAA,iBAAiB,EAAE,KAxBQ;AAyB3BC,MAAAA,SAAS,EAAE,EAzBgB;AA0B3BC,MAAAA,eAAe,EAAE;AACbC,QAAAA,SAAS,EAAE,IADE;AAEbC,QAAAA,KAAK,EAAE,iBAAW;AACd,iBAAO,KAAKnF,CAAC,CAACG,MAAD,CAAD,CAAUgF,KAAV,EAAZ;AACH,SAJY;AAKbC,QAAAA,MAAM,EAAE,kBAAW;AACf,iBAAO,KAAKpF,CAAC,CAACG,MAAD,CAAD,CAAUiF,MAAV,EAAZ;AACH,SAPY;AAQbC,QAAAA,OAAO,EAAE,IARI;AASbC,QAAAA,mBAAmB,EAAE,KATR;AAUbC,QAAAA,QAAQ,EAAE,KAAK,CAVF;AAWbP,QAAAA,SAAS,EAAE,EAXE;AAYbQ,QAAAA,KAAK,EAAE,EAZM;AAabC,QAAAA,aAAa,EAAE,OAbF;AAcbC,QAAAA,eAAe,EAAE,IAdJ;AAebC,QAAAA,UAAU,EAAE;AAfC,OA1BU;AA2C3BC,MAAAA,gBAAgB,EAAE,KA3CS;AA4C3BC,MAAAA,4BAA4B,EAAE,KA5CH;AA6C3BC,MAAAA,sBAAsB,EAAE;AA7CG,KAAlB,CAAb;AA+CH,GA5D6B;AA6D9BC,EAAAA,oBAAoB,EAAE,gCAAW;AAAA;;AAC7B,QAAIC,SAAS,GAAGjF,OAAO,EAAvB;AACA,WAAO,KAAKiC,QAAL,GAAgBiD,MAAhB,CAAuB,CAAC;AAC3BC,MAAAA,MAAM,EAAE,kBAAW;AACf,eAAO,CAAC9F,eAAR;AACH,OAH0B;AAI3B+F,MAAAA,OAAO,EAAE;AACLlC,QAAAA,kBAAkB,EAAE;AADf;AAJkB,KAAD,EAO3B;AACCiC,MAAAA,MAAM,EAAE,gBAASE,OAAT,EAAkB;AACtB,eAAO,CAACzF,OAAO,CAAC0F,WAAR,EAAD,IAA0B,cAAc1F,OAAO,CAAC2F,IAAR,GAAeC,UAAvD,IAAqE,cAAcH,OAAO,CAACI,QAAlG;AACH,OAHF;AAICL,MAAAA,OAAO,EAAE;AACLtB,QAAAA,UAAU,EAAE,IADP;AAELI,QAAAA,eAAe,EAAE;AACbG,UAAAA,MAAM,EAAE;AADK;AAFZ;AAJV,KAP2B,EAiB3B;AACCc,MAAAA,MAAM,EAAE;AACJM,QAAAA,QAAQ,EAAE,KADN;AAEJC,QAAAA,KAAK,EAAE;AAFH,OADT;AAKCN,MAAAA,OAAO,EAAE;AACLlB,QAAAA,eAAe,EAAE;AACbU,UAAAA,UAAU,EAAE;AADC;AADZ;AALV,KAjB2B,EA2B3B;AACCO,MAAAA,MAAM,EAAE;AACJM,QAAAA,QAAQ,EAAE,KADN;AAEJE,QAAAA,MAAM,EAAE;AAFJ,OADT;AAKCP,MAAAA,OAAO,EAAE;AACLlB,QAAAA,eAAe,EAAE;AACbE,UAAAA,KAAK,EAAE,iBAAW;AACd,mBAAO,KAAKwB,IAAI,CAACC,GAAL,CAAS5G,CAAC,CAACG,MAAD,CAAD,CAAUgF,KAAV,EAAT,EAA4BnF,CAAC,CAACG,MAAD,CAAD,CAAUiF,MAAV,EAA5B,CAAZ;AACH,WAHY;AAIbA,UAAAA,MAAM,EAAE;AAJK,SADZ;AAOLP,QAAAA,UAAU,EAAE,IAPP;AAQLgC,QAAAA,YAAY,EAAE;AART;AALV,KA3B2B,EA0C3B;AACCX,MAAAA,MAAM,EAAE,kBAAW;AACf,eAAO,cAAcvF,OAAO,CAAC2F,IAAR,GAAeC,UAA7B,IAA2C,CAAC5F,OAAO,CAAC0F,WAAR,EAAnD;AACH,OAHF;AAICF,MAAAA,OAAO,EAAE;AACLpB,QAAAA,iBAAiB,EAAE;AADd;AAJV,KA1C2B,EAiD3B;AACCmB,MAAAA,MAAM,EAAE,kBAAW;AACf,eAAOlF,UAAU,CAACgF,SAAD,CAAjB;AACH,OAHF;AAICG,MAAAA,OAAO,EAAE;AACLtB,QAAAA,UAAU,EAAE,KADP;AAELnB,QAAAA,aAAa,EAAE,KAFV;AAGLE,QAAAA,gBAAgB,EAAE,KAHb;AAILgC,QAAAA,gBAAgB,EAAE,IAJb;AAKLC,QAAAA,4BAA4B,EAAE,IALzB;AAMLZ,QAAAA,eAAe,EAAE;AACbK,UAAAA,mBAAmB,EAAE,IADR;AAEbH,UAAAA,KAAK,EAAE;AAAA,mBAAMzD,eAAe,CAAC,KAAI,CAACoF,QAAL,EAAD,CAArB;AAAA,WAFM;AAGb1B,UAAAA,MAAM,EAAE,YAAW;AACf,mBAAO,KAAK2B,eAAL,EAAP;AACH,WAFO,CAENC,IAFM,CAED,IAFC,CAHK;AAMb9B,UAAAA,SAAS,EAAE,KANE;AAObG,UAAAA,OAAO,EAAE;AAPI;AANZ;AAJV,KAjD2B,CAAvB,CAAP;AAsEH,GArI6B;AAsI9B4B,EAAAA,KAAK,EAAE,iBAAW;AACd,SAAKjE,QAAL;;AACA,SAAKkE,YAAL;AACH,GAzI6B;AA0I9BA,EAAAA,YA1I8B,0BA0If;AACX,SAAKlE,QAAL;;AACA,SAAKmE,iBAAL;;AACA,SAAKC,sBAAL;;AACA,SAAKC,sBAAL;AACH,GA/I6B;AAgJ9BD,EAAAA,sBAAsB,EAAE,kCAAW;AAC/B,SAAKE,kBAAL,GAA0B,KAAKC,qBAAL,CAA2B,eAA3B,CAA1B;AACH,GAlJ6B;AAmJ9BF,EAAAA,sBAAsB,EAAE,kCAAW;AAC/B,SAAKG,kBAAL,GAA0B,KAAKD,qBAAL,CAA2B,eAA3B,CAA1B;AACH,GArJ6B;AAsJ9BJ,EAAAA,iBAAiB,EAAE,6BAAW;AAC1B,SAAKM,aAAL,GAAqB,KAAKF,qBAAL,CAA2B,UAA3B,CAArB;AACH,GAxJ6B;AAyJ9BG,EAAAA,cAAc,EAAE,wBAASxE,CAAT,EAAY;AACxB,SAAKuE,aAAL,CAAmBvE,CAAnB;AACH,GA3J6B;AA4J9ByE,EAAAA,mBAAmB,EAAE,6BAASzE,CAAT,EAAY;AAC7B,SAAKsE,kBAAL,CAAwBtE,CAAxB;AACH,GA9J6B;AA+J9B0E,EAAAA,mBAAmB,EAAE,6BAAS1E,CAAT,EAAY;AAC7B,SAAKoE,kBAAL,CAAwBpE,CAAxB;AACH,GAjK6B;AAkK9B2E,EAAAA,cAAc,EAAE,0BAAW;AACvB,SAAK7E,QAAL;;AACA,SAAK8E,gBAAL,CAAsBC,mBAAtB,CAA0C;AACtCC,MAAAA,KAAK,EAAE,IAAI3G,oBAAJ,CAAyB,OAAzB,CAD+B;AAEtCmE,MAAAA,KAAK,EAAE,IAAInE,oBAAJ,CAAyB,OAAzB;AAF+B,KAA1C;AAIH,GAxK6B;AAyK9B4G,EAAAA,WAAW,EAAE,uBAAW;AACpB,SAAKnB,QAAL,GAAgBoB,QAAhB,CAAyBvG,YAAzB,EAAuCwG,WAAvC,CAAmD/F,mBAAnD,EAAwE,KAAKgG,MAAL,CAAY,YAAZ,CAAxE;AACA,SAAKpF,QAAL;AACH,GA5K6B;AA6K9BqF,EAAAA,aAAa,EAAE,yBAAW;AACtB,WAAO,KAAKvB,QAAL,GAAgBwB,IAAhB,CAAqB,MAAMtG,0BAA3B,CAAP;AACH,GA/K6B;AAgL9BuG,EAAAA,kBAAkB,EAAE,8BAAW;AAC3B,WAAO/H,MAAM,CAAC,KAAKwC,QAAL,EAAD,EAAkB;AAC3BwF,MAAAA,QAAQ,EAAE;AADiB,KAAlB,CAAb;AAGH,GApL6B;AAqL9BC,EAAAA,uBAAuB,EAAEpI,IArLK;AAsL9BqI,EAAAA,kBAAkB,EAAE,8BAAW;AAC3B,WAAO,EAAP;AACH,GAxL6B;AAyL9BC,EAAAA,YAAY,EAAE,wBAAW;AAAA;;AACrB,QAAIC,gBAAgB,GAAG,KAAKC,aAAL,CAAmB,YAAM;AAC5C,MAAA,MAAI,CAACC,gBAAL;AACH,KAFsB,CAAvB;;AAGA,SAAKC,OAAL,GAAe/I,CAAC,CAAC,OAAD,CAAD,CAAWkI,QAAX,CAAoBpG,kBAApB,CAAf;AACA7B,IAAAA,YAAY,CAAC+I,EAAb,CAAgB,KAAKD,OAArB,EAA8BlI,YAAY,CAACK,cAAD,EAAiB,KAAK+H,IAAtB,CAA1C,EAAuE,UAAA/F,CAAC,EAAI;AACxE0F,MAAAA,gBAAgB,CAAC;AACbM,QAAAA,KAAK,EAAEhG;AADM,OAAD,CAAhB;AAGH,KAJD;AAKA,QAAIiG,MAAM,GAAGnJ,CAAC,CAAC,OAAD,CAAD,CAAWkI,QAAX,CAAoBnG,kBAApB,CAAb;AACA,SAAKqH,cAAL,GAAsBpJ,CAAC,CAAC,OAAD,CAAD,CAAWkI,QAAX,CAAoBlG,0BAApB,EAAgDqH,MAAhD,CAAuD,KAAKN,OAA5D,EAAqEM,MAArE,CAA4EF,MAA5E,EAAoFG,QAApF,CAA6F,KAAKxC,QAAL,EAA7F,CAAtB;AACA,SAAKsB,MAAL,CAAY,cAAZ,KAA+B,KAAKmB,gBAAL,EAA/B;AACH,GAtM6B;AAuM9BC,EAAAA,kBAvM8B,gCAuMT;AACjB,WAAO,KAAKJ,cAAZ;AACH,GAzM6B;AA0M9BG,EAAAA,gBAAgB,EAAE,4BAAW;AACzB,SAAKE,UAAL,GAAkBhJ,MAAM,EAAxB;AACH,GA5M6B;AA6M9BqI,EAAAA,gBAAgB,EAAE,4BAAW;AACzB,SAAK9F,QAAL;;AACA,QAAI,CAAC,KAAKoF,MAAL,CAAY,4BAAZ,CAAD,IAA8C,KAAKA,MAAL,CAAY,8BAAZ,CAAlD,EAA+F;AAC3F,WAAKsB,iBAAL;AACH;AACJ,GAlN6B;AAmN9BC,EAAAA,kBAAkB,EAAE,4BAAS7C,QAAT,EAAmB8C,KAAnB,EAA0B1G,CAA1B,EAA6B;AAC7C,SAAKF,QAAL,aAAiB6G,SAAjB;;AACA,QAAI,CAAC,KAAKJ,UAAV,EAAsB;AAClB;AACH;;AACD,QAAIK,MAAM,GAAG;AACTC,MAAAA,OAAO,EAAE,KAAK1B,aAAL,EADA;AAETa,MAAAA,KAAK,EAAEhG;AAFE,KAAb;;AAIA,QAAI0G,KAAJ,EAAW;AACP,WAAKH,UAAL,CAAgBO,QAAhB,CAAyBF,MAAzB;AACH,KAFD,MAEO;AACH,WAAKL,UAAL,CAAgBQ,QAAhB,CAAyBH,MAAzB;AACH;AACJ,GAjO6B;AAkO9BI,EAAAA,YAAY,EAAE,wBAAW;AACrB,QAAIC,aAAa,GAAG,KAAKC,oBAAL,CAA0B,eAA1B,CAApB;;AACA,QAAID,aAAa,IAAI,KAAK/B,MAAL,CAAY,eAAZ,CAArB,EAAmD;AAC/C,WAAKiC,oBAAL,CAA0BF,aAA1B;;AACA;AACH;;AACD,QAAIG,YAAY,GAAG,KAAKlC,MAAL,CAAY,cAAZ,CAAnB;;AACA,SAAKmC,YAAL,CAAkB9I,SAAS,CAAC6I,YAAD,CAAT,IAA2BE,MAAM,CAACF,YAAD,CAAjC,IAAmD,KAAKlC,MAAL,CAAY,aAAZ,CAArE;;AACA,SAAKtB,QAAL,GAAgBqB,WAAhB,CAA4B9F,kBAA5B,EAAgD,CAAC,KAAK+F,MAAL,CAAY,cAAZ,CAAjD;AACH,GA3O6B;AA4O9BqC,EAAAA,kBAAkB,EAAE,4BAASC,IAAT,EAAe;AAC/B,QAAI,KAAKC,MAAL,GAAcC,MAAlB,EAA0B;AACtB,WAAK5H,QAAL,CAAc0H,IAAd;AACH,KAFD,MAEO;AACH,WAAKH,YAAL,CAAkBG,IAAlB;AACH;AACJ,GAlP6B;AAmP9BH,EAAAA,YAAY,EAAE,sBAASG,IAAT,EAAe;AACzB,SAAK3B,OAAL,CAAa2B,IAAb,CAAkBA,IAAlB;AACH,GArP6B;AAsP9BL,EAAAA,oBAAoB,EAAE,8BAASQ,QAAT,EAAmB;AACrC,SAAK9B,OAAL,CAAa+B,KAAb;;AACA,QAAIC,IAAI,GAAG,KAAKC,gBAAL,EAAX;;AACAH,IAAAA,QAAQ,CAACpK,MAAT,CAAgB;AACZwK,MAAAA,KAAK,EAAEF,IADK;AAEZG,MAAAA,SAAS,EAAE5K,gBAAgB,CAAC,KAAKyI,OAAN;AAFf,KAAhB;AAIH,GA7P6B;AA8P9BiC,EAAAA,gBAAgB,EAAE,4BAAW;AACzB,WAAO,KAAK5C,MAAL,CAAY,cAAZ,CAAP;AACH,GAhQ6B;AAiQ9B+C,EAAAA,oBAAoB,EAAE,gCAAW;AAC7B,SAAKnI,QAAL,CAAcoI,KAAd,CAAoB,IAApB,EAA0BvB,SAA1B;;AACA,QAAI,KAAKzB,MAAL,CAAY,sBAAZ,CAAJ,EAAyC;AACrC,UAAI,KAAKA,MAAL,CAAY,eAAZ,KAAgC,KAAKiD,UAAL,CAAgBjD,MAAhB,CAAuB,OAAvB,CAApC,EAAqE;AACjE,aAAKiD,UAAL,CAAgBjD,MAAhB,CAAuB,OAAvB,EAAgC,EAAhC;;AACA,aAAKkD,eAAL;AACH;;AACD,WAAKC,KAAL,IAAc,KAAKA,KAAL,CAAWnD,MAAX,CAAkB,gBAAlB,EAAoC,IAApC,CAAd;AACH;;AACD,QAAI,KAAKA,MAAL,CAAY,4BAAZ,KAA6C,KAAKA,MAAL,CAAY,8BAAZ,CAAjD,EAA8F;AAC1F,WAAKoD,MAAL,CAAYpD,MAAZ,CAAmB,UAAnB,EAA+BqD,EAA/B,GAAoCzL,CAAC,CAACG,MAAD,CAArC;AACH;AACJ,GA7Q6B;AA8Q9BuL,EAAAA,qBAAqB,EAAE,iCAAW;AAC9B,QAAIC,aAAa,GAAG,KAAKJ,KAAL,CAAWnD,MAAX,CAAkB,eAAlB,CAApB;;AACA,QAAIwD,SAAS,GAAG,KAAKL,KAAL,CAAWnD,MAAX,CAAkB,OAAlB,CAAhB;;AACA,QAAIyD,UAAU,GAAGD,SAAS,CAAChB,MAA3B;;AACA,QAAI,MAAMiB,UAAV,EAAsB;AAClB,UAAI,KAAKN,KAAL,CAAWnD,MAAX,CAAkB,SAAlB,CAAJ,EAAkC;AAC9B,aAAKmD,KAAL,CAAWO,YAAX,CAAwB;AACpB9D,UAAAA,KAAK,EAAE6D,UAAU,GAAG,CADA;AAEpBE,UAAAA,IAAI,EAAEH,SAAS,CAACC,UAAU,GAAG,CAAd,CAAT,CAA0BG,KAA1B,CAAgCpB,MAAhC,GAAyC;AAF3B,SAAxB;AAIH,OALD,MAKO;AACH,aAAKW,KAAL,CAAWO,YAAX,CAAwBD,UAAU,GAAG,CAArC;AACH;;AACD,WAAKN,KAAL,CAAWO,YAAX,CAAwBH,aAAxB;AACH;AACJ,GA7R6B;AA8R9BM,EAAAA,qBAAqB,EAAE,+BAASC,gBAAT,EAA2B;AAC9C,WAAOA,gBAAgB,CAACC,MAAjB,GAA0BC,GAA1B,GAAgCpM,CAAC,CAAC,KAAK+J,OAAL,EAAD,CAAD,CAAkBoC,MAAlB,GAA2BC,GAAlE;AACH,GAhS6B;AAiS9BC,EAAAA,mBAAmB,EAAE,6BAACC,KAAD,EAAQC,KAAR;AAAA,WAAkB,IAAID,KAAJ,IAAaA,KAAK,GAAGC,KAAK,GAAG,CAA/C;AAAA,GAjSS;AAkS9BC,EAAAA,eAAe,EAAE,2BAAW;AACxB,QAAIC,cAAc,GAAG,KAAKC,iBAAL,GAAyB9B,MAA9C;;AACA,QAAI,MAAM6B,cAAV,EAA0B;AACtB;AACH;;AACD,QAAIP,gBAAgB,GAAGlM,CAAC,CAAC,KAAKuL,KAAL,CAAWxB,OAAX,EAAD,CAAD,CAAwBzB,IAAxB,CAA6B,MAAM7F,wBAAnC,CAAvB;;AACA,QAAIkJ,aAAa,GAAG,KAAKe,iBAAL,GAAyBJ,KAAzB,CAA+BJ,gBAA/B,CAApB;;AACA,QAAIS,mBAAmB,GAAG,CAACT,gBAAgB,CAAC9G,MAAjB,KAA4BpF,CAAC,CAAC,KAAK+J,OAAL,EAAD,CAAD,CAAkB3E,MAAlB,EAA7B,IAA2D,CAArF;AACA,QAAIwH,YAAY,GAAG5M,CAAC,CAAC,KAAKuL,KAAL,CAAWxB,OAAX,EAAD,CAAD,CAAwBoC,MAAxB,GAAiCC,GAApD;AACA,QAAIS,oBAAoB,GAAG,KAAKzE,MAAL,CAAY,wBAAZ,CAA3B;AACA,QAAI0E,WAAW,GAAG,eAAe,OAAOD,oBAAtB,GAA6CA,oBAAoB,EAAjE,GAAsEA,oBAAxF;AACA,QAAIE,YAAY,GAAG/M,CAAC,CAACG,MAAD,CAAD,CAAUiF,MAAV,EAAnB;AACA,QAAI4H,SAAS,GAAG,CAAhB;;AACA,QAAI,CAAC,CAAD,KAAOrB,aAAX,EAA0B;AACtB,UAAI,KAAKU,mBAAL,CAAyBV,aAAzB,EAAwCc,cAAxC,CAAJ,EAA6D;AACzD,aAAKf,qBAAL;;AACA,YAAIuB,eAAe,GAAG,CAACH,WAAW,GAAGZ,gBAAgB,CAAC9G,MAAjB,EAAf,IAA4C,CAA5C,GAAgD,KAAK6G,qBAAL,CAA2BC,gBAA3B,CAAtE;;AACA,aAAKX,KAAL,CAAW2B,QAAX,CAAoB,KAAK3B,KAAL,CAAW4B,SAAX,KAAyBvK,4BAA4B,GAAG,CAAxD,GAA4DqK,eAAhF;;AACAD,QAAAA,SAAS,GAAGL,mBAAmB,GAAG,KAAKV,qBAAL,CAA2BC,gBAA3B,CAAlC;;AACA,YAAIU,YAAY,GAAGI,SAAf,IAA4BrB,aAAa,KAAKc,cAAc,GAAG,CAAnE,EAAsE;AAClE,eAAKlB,KAAL,CAAW2B,QAAX,CAAoB,KAAK3B,KAAL,CAAW4B,SAAX,KAAyB,KAAKlB,qBAAL,CAA2BC,gBAA3B,IAA+C,CAA5F;;AACAc,UAAAA,SAAS,GAAGL,mBAAmB,GAAG,KAAKV,qBAAL,CAA2BC,gBAA3B,CAAlC;AACH;AACJ,OATD,MASO,IAAIP,aAAa,IAAI,CAArB,EAAwB;AAC3B,aAAKJ,KAAL,CAAW2B,QAAX,CAAoB,CAApB;;AACAF,QAAAA,SAAS,GAAGL,mBAAmB,GAAG,KAAKV,qBAAL,CAA2BC,gBAA3B,CAAlC;AACH,OAHM,MAGA,IAAIP,aAAa,IAAIc,cAAc,GAAG,CAAtC,EAAyC;AAC5C,aAAKf,qBAAL;;AACAsB,QAAAA,SAAS,GAAGL,mBAAmB,GAAG,KAAKV,qBAAL,CAA2BC,gBAA3B,CAAlC;AACH;;AACD,UAAIU,YAAY,GAAGI,SAAnB,EAA8B;AAC1B,aAAKtB,qBAAL;;AACAsB,QAAAA,SAAS,GAAGL,mBAAmB,GAAG/J,4BAAlC;AACH;AACJ;;AACD,QAAIwK,YAAY,GAAGN,WAAW,GAAGE,SAAd,GAA0BhN,CAAC,CAAC,KAAK+J,OAAL,EAAD,CAAD,CAAkB3E,MAAlB,EAA7C;;AACA,QAAI2H,YAAY,GAAGH,YAAf,GAA8BQ,YAAlC,EAAgD;AAC5C,WAAK7B,KAAL,CAAW2B,QAAX,CAAoB,KAAK3B,KAAL,CAAW4B,SAAX,KAAyBR,mBAAzB,GAA+CS,YAAnE;;AACAJ,MAAAA,SAAS,GAAGF,WAAW,GAAG9M,CAAC,CAAC,KAAK+J,OAAL,EAAD,CAAD,CAAkB3E,MAAlB,EAAd,GAA2CxC,4BAAvD;AACH;;AACD,WAAOoK,SAAP;AACH,GA3U6B;AA4U9BtD,EAAAA,iBAAiB,EAAE,6BAAW;AAC1B,QAAI,CAAC,KAAKtB,MAAL,CAAY,kBAAZ,CAAL,EAAsC;AAClC;AACH;;AACD,QAAIiF,OAAO,GAAG,KAAK7B,MAAL,CAAY8B,QAAZ,GAAuBC,QAAvB,CAAgCjL,kCAAhC,CAAd;;AACA,QAAI+K,OAAJ,EAAa;AACT;AACH;;AACD,QAAIG,kBAAkB,GAAGxN,CAAC,CAAC,KAAKwL,MAAL,CAAYiC,QAAZ,EAAD,CAAD,CAA0BC,MAA1B,EAAzB;;AACA,QAAIC,WAAW,GAAG,KAAKnB,eAAL,EAAlB;;AACA,QAAIjH,QAAQ,GAAGjE,MAAM,CAACkM,kBAAD,CAArB;AACAjM,IAAAA,IAAI,CAACiM,kBAAD,EAAqB;AACrBpB,MAAAA,GAAG,EAAE7G,QAAQ,CAAC6G,GAAT,GAAeuB;AADC,KAArB,CAAJ;AAGH,GA1V6B;AA2V9BC,EAAAA,wBAAwB,EAAE,oCAAW;AACjC,QAAIC,MAAM,GAAG,KAAKtC,KAAL,CAAWuC,cAAX,GAA4BC,QAA5B,EAAb;;AACA,QAAI/B,KAAK,GAAG,EAAZ;AACA6B,IAAAA,MAAM,CAACtN,IAAP,CAAY,UAACyN,CAAD,EAAIhG,KAAJ,EAAc;AACtBgE,MAAAA,KAAK,CAACiC,IAAN,CAAWjO,CAAC,CAACgI,KAAD,CAAD,CAASM,IAAT,CAAc,MAAM5F,uBAApB,EAA6C,CAA7C,CAAX;AACA,UAAIwL,YAAY,GAAGlO,CAAC,CAACgI,KAAD,CAAD,CAASM,IAAT,CAAc,MAAM9F,eAApB,CAAnB;AACA0L,MAAAA,YAAY,CAAC3N,IAAb,CAAkB,UAACyN,CAAD,EAAIjC,IAAJ,EAAa;AAC3BC,QAAAA,KAAK,CAACiC,IAAN,CAAWlC,IAAX;AACH,OAFD;AAGH,KAND;AAOA,WAAO/L,CAAC,CAACgM,KAAD,CAAR;AACH,GAtW6B;AAuW9BmC,EAAAA,oBAAoB,EAAE,8BAASxJ,OAAT,EAAkB;AACpC,QAAIiH,SAAS,GAAGjH,OAAO,GAAG,KAAKiJ,wBAAL,EAAH,GAAqC,KAAKlB,iBAAL,EAA5D;AACA,QAAIR,gBAAgB,GAAGlM,CAAC,CAAC,MAAMyC,wBAAP,CAAxB;AACA,QAAIkJ,aAAa,GAAGC,SAAS,CAACU,KAAV,CAAgBJ,gBAAhB,CAApB;AACA,QAAIkC,UAAU,GAAG,CAAjB;AACA,QAAIC,gBAAgB,GAAG,EAAvB;;AACA,QAAI,MAAMzC,SAAS,CAAChB,MAApB,EAA4B;AACxBwD,MAAAA,UAAU,IAAIxL,4BAAd;AACH,KAFD,MAEO,IAAIgJ,SAAS,CAAChB,MAAV,GAAmBjI,gCAAvB,EAAyD;AAC5DiJ,MAAAA,SAAS,CAACrL,IAAV,CAAe,UAACyN,CAAD,EAAIjC,IAAJ,EAAa;AACxBqC,QAAAA,UAAU,IAAIpO,CAAC,CAAC+L,IAAD,CAAD,CAAQuC,WAAR,EAAd;AACH,OAFD;AAGH,KAJM,MAIA;AACH,UAAI3C,aAAa,IAAI,CAArB,EAAwB;AACpB0C,QAAAA,gBAAgB,GAAGzC,SAAS,CAAC2C,KAAV,CAAgB,CAAhB,EAAmB5L,gCAAnB,CAAnB;AACH,OAFD,MAEO,IAAI,KAAK0J,mBAAL,CAAyBV,aAAzB,EAAwCC,SAAS,CAAChB,MAAlD,CAAJ,EAA+D;AAClEyD,QAAAA,gBAAgB,GAAGzC,SAAS,CAAC2C,KAAV,CAAgB5C,aAAa,GAAG,CAAhC,EAAmCA,aAAa,GAAG,CAAnD,CAAnB;AACH,OAFM,MAEA;AACH0C,QAAAA,gBAAgB,GAAGzC,SAAS,CAAC2C,KAAV,CAAgB3C,SAAS,CAAChB,MAAV,GAAmBjI,gCAAnC,EAAqEiJ,SAAS,CAAChB,MAA/E,CAAnB;AACH;;AACDyD,MAAAA,gBAAgB,CAAC9N,IAAjB,CAAsB,UAACyN,CAAD,EAAIjC,IAAJ,EAAa;AAC/BqC,QAAAA,UAAU,IAAIpO,CAAC,CAAC+L,IAAD,CAAD,CAAQuC,WAAR,EAAd;AACH,OAFD;AAGH;;AACD,WAAOF,UAAU,IAAIzJ,OAAO,GAAG/B,4BAAH,GAAkC,IAAIA,4BAAjD,CAAjB;AACH,GAhY6B;AAiY9BmE,EAAAA,eAAe,EAAE,2BAAW;AACxB,QAAI,KAAKwE,KAAL,IAAc,KAAKA,KAAL,CAAWiD,YAAX,EAAlB,EAA6C;AACzC,aAAO,KAAKL,oBAAL,CAA0B,KAAK/F,MAAL,CAAY,SAAZ,CAA1B,KAAqD,KAAKqG,eAAL,GAAuB,KAAKA,eAAL,CAAqBH,WAArB,EAAvB,GAA4D,CAAjH,KAAuH,KAAK9C,MAAL,CAAYkD,QAAZ,GAAuB,KAAKlD,MAAL,CAAYkD,QAAZ,CAAqBJ,WAArB,EAAvB,GAA4D,CAAnL,KAAyL,KAAK9C,MAAL,CAAYmD,OAAZ,GAAsB,KAAKnD,MAAL,CAAYmD,OAAZ,CAAoBL,WAApB,EAAtB,GAA0D,CAAnP,CAAP;AACH,KAFD,MAEO;AACH,aAAO,MAAP;AACH;AACJ,GAvY6B;AAwY9BM,EAAAA,YAAY,EAAE,wBAAW;AACrB,QAAI,KAAKxG,MAAL,CAAY,YAAZ,KAA6B,CAAC,KAAKA,MAAL,CAAY,4BAAZ,CAAlC,EAA6E;AACzE,UAAI,KAAKA,MAAL,CAAY,8BAAZ,CAAJ,EAAiD;AAC7C,aAAKpF,QAAL;AACH,OAFD,MAEO;AACH,aAAK6L,cAAL;AACH;AACJ,KAND,MAMO;AACH,WAAK7L,QAAL;AACH;;AACD,SAAK8L,OAAL,CAAa5G,QAAb,CAAsBjG,kBAAtB;;AACA,SAAKuJ,MAAL,CAAY8B,QAAZ,GAAuBpF,QAAvB,CAAgChG,0BAAhC;AACH,GApZ6B;AAqZ9B2M,EAAAA,cAAc,EAAE,0BAAW;AACvB,SAAKrD,MAAL,GAAc,KAAKuD,gBAAL,CAAsB,KAAKD,OAA3B,EAAoC3N,OAApC,EAA6CX,MAAM,CAAC,KAAKwO,YAAL,EAAD,EAAsB,KAAKC,QAAL,CAAcC,KAAd,CAAoB,iBAApB,CAAtB,EAA8D;AAC3HC,MAAAA,SAAS,EAAE,IADgH;AAE3HC,MAAAA,SAAS,EAAE,IAFgH;AAG3HC,MAAAA,MAAM,EAAE,KAAKvI,QAAL,EAHmH;AAI3HwI,MAAAA,cAAc,EAAE,KAJ2G;AAK3H3J,MAAAA,UAAU,EAAE,KAL+G;AAM3HN,MAAAA,OAAO,EAAE,KANkH;AAO3HkK,MAAAA,mBAAmB,EAAE,IAPsG;AAQ3HpK,MAAAA,KAAK,EAAE,KAAKqK,qBAAL,CAA2B,uBAA3B,IAAsD,YAAW;AACpE,eAAO,KAAK1I,QAAL,GAAgB2I,UAAhB,EAAP;AACH,OAF4D,CAE3DzI,IAF2D,CAEtD,IAFsD,CAAtD,GAEQ,KAAKgI,YAAL,GAAoB7J;AAVwF,KAA9D,CAAnD,CAAd;;AAYA,SAAKqG,MAAL,CAAYxC,EAAZ,CAAe;AACX0G,MAAAA,OAAO,EAAE,KAAKvE,oBAAL,CAA0BnE,IAA1B,CAA+B,IAA/B,CADE;AAEX2I,MAAAA,KAAK,EAAE,KAAKC,kBAAL,CAAwB5I,IAAxB,CAA6B,IAA7B,CAFI;AAGX6I,MAAAA,MAAM,EAAE,KAAKC,mBAAL,CAAyB9I,IAAzB,CAA8B,IAA9B,CAHG;AAIX+I,MAAAA,MAAM,EAAE,KAAKC,mBAAL,CAAyBhJ,IAAzB,CAA8B,IAA9B,CAJG;AAKXiJ,MAAAA,YAAY,EAAE,KAAKC,oBAAL,CAA0BlJ,IAA1B,CAA+B,IAA/B;AALH,KAAf;;AAOA,QAAI,KAAKoB,MAAL,CAAY,8BAAZ,CAAJ,EAAiD;AAC7C,WAAKoD,MAAL,CAAY2E,OAAZ,CAAoBC,MAApB;AACH;;AACD,SAAKC,kBAAL,CAAwB,KAAK7E,MAAL,CAAYiC,QAAZ,EAAxB;;AACA,SAAKyC,oBAAL;AACH,GA9a6B;AA+a9BJ,EAAAA,mBAAmB,EAAE,+BAAW;AAC5B,SAAK9M,QAAL;AACA,SAAKoF,MAAL,CAAY,mBAAZ,KAAoC,KAAKkI,KAAL,EAApC;AACH,GAlb6B;AAmb9BN,EAAAA,mBAAmB,EAAE,+BAAW;AAC5B,SAAKhN,QAAL;;AACA,QAAI,KAAKoF,MAAL,CAAY,8BAAZ,CAAJ,EAAiD;AAC7C5G,MAAAA,aAAa,CAACxB,CAAC,CAAC,KAAKwL,MAAL,CAAY+E,OAAZ,EAAD,CAAD,CAAyB7C,MAAzB,EAAD,CAAb;AACH;AACJ,GAxb6B;AAyb9B8C,EAAAA,oBAAoB,EAAEnQ,IAzbQ;AA0b9B2O,EAAAA,YAAY,EAAE,wBAAW;AAAA;;AACrB,QAAIyB,MAAM,GAAGjQ,MAAM,CAAC,KAAKwC,QAAL,EAAD,EAAkB;AACjC0N,MAAAA,YAAY,EAAE,KAAKC,qBAAL,EADmB;AAEjCpB,MAAAA,mBAAmB,EAAE,KAFY;AAGjCqB,MAAAA,YAAY,EAAE,IAHmB;AAIjCC,MAAAA,SAAS,EAAE,qBAAW;AAClB,eAAO7Q,CAAC,CAACG,MAAD,CAAD,CAAUiF,MAAV,EAAP;AACH,OANgC;AAOjCF,MAAAA,SAAS,EAAE,KAAKkD,MAAL,CAAY,2BAAZ,CAPsB;AAQjC5C,MAAAA,KAAK,EAAE,KAAK4C,MAAL,CAAY,uBAAZ,CAR0B;AASjC3C,MAAAA,aAAa,EAAE,KAAK2E,oBAAL,CAA0B,+BAA1B,CATkB;AAUjC1E,MAAAA,eAAe,EAAE,KAAK0C,MAAL,CAAY,iCAAZ,CAVgB;AAWjCzC,MAAAA,UAAU,EAAE,KAAKyC,MAAL,CAAY,4BAAZ,CAXqB;AAYjC/C,MAAAA,OAAO,EAAE,KAAK+C,MAAL,CAAY,yBAAZ,CAZwB;AAajC9C,MAAAA,mBAAmB,EAAE,KAAK8C,MAAL,CAAY,qCAAZ;AAbY,KAAlB,CAAnB;AAeA,WAAOqI,MAAM,CAACzL,SAAd;AACA,WAAOyL,MAAM,CAAClL,QAAd;;AACA,QAAI,KAAK6C,MAAL,CAAY,8BAAZ,CAAJ,EAAiD;AAC7CqI,MAAAA,MAAM,CAAClL,QAAP,GAAkB,KAAK6C,MAAL,CAAY,kBAAZ,IAAkC;AAChD0I,QAAAA,EAAE,EAAE,UAD4C;AAEhDC,QAAAA,EAAE,EAAE,UAF4C;AAGhDtF,QAAAA,EAAE,EAAE,KAAK1B,OAAL;AAH4C,OAAlC,GAId;AACA+G,QAAAA,EAAE,EAAE,UADJ;AAEAC,QAAAA,EAAE,EAAE,aAFJ;AAGAtF,QAAAA,EAAE,EAAE,KAAK1B,OAAL;AAHJ,OAJJ;AASA0G,MAAAA,MAAM,CAAClB,mBAAP,GAA6B,IAA7B;AACH;;AACDhP,IAAAA,IAAI,CAAC,CAAC,UAAD,EAAa,WAAb,EAA0B,OAA1B,EAAmC,QAAnC,CAAD,EAA+C,UAACyN,CAAD,EAAIgD,UAAJ,EAAmB;AAClE,UAAIC,gBAAgB,GAAG,MAAI,CAAC7I,MAAL,CAAY,mBAAmBnC,MAAnB,CAA0B+K,UAA1B,CAAZ,CAAvB;;AACA,UAAI,KAAK,CAAL,KAAWC,gBAAf,EAAiC;AAC7BR,QAAAA,MAAM,CAACO,UAAD,CAAN,GAAqBC,gBAArB;AACH;AACJ,KALG,CAAJ;AAMA,WAAOR,MAAP;AACH,GA/d6B;AAge9BE,EAAAA,qBAAqB,EAAE,iCAAW;AAC9B,QAAIO,aAAa,GAAG,iBAAiB,KAAK9I,MAAL,CAAY,gBAAZ,CAAjB,GAAiD,KAAK+I,wBAAL,EAAjD,GAAmF,EAAvG;;AACA,QAAIC,YAAY,GAAG,KAAKC,sBAAL,EAAnB;;AACA,QAAID,YAAJ,EAAkB;AACdF,MAAAA,aAAa,CAACjD,IAAd,CAAmBmD,YAAnB;AACH;;AACD,QAAIE,WAAW,GAAG,KAAKC,qBAAL,EAAlB;;AACA,QAAID,WAAJ,EAAiB;AACbJ,MAAAA,aAAa,CAACjD,IAAd,CAAmBqD,WAAnB;AACH;;AACD,WAAO,KAAKE,qBAAL,CAA2BN,aAA3B,CAAP;AACH,GA3e6B;AA4e9BC,EAAAA,wBAAwB,EAAE,oCAAW;AACjC,WAAO,CAAC;AACJM,MAAAA,QAAQ,EAAE,MADN;AAEJtL,MAAAA,OAAO,EAAE;AACLuL,QAAAA,OAAO,EAAE,KAAKC,mBAAL,CAAyB3K,IAAzB,CAA8B,IAA9B,CADJ;AAEL0D,QAAAA,IAAI,EAAE,KAAKtC,MAAL,CAAY,iBAAZ;AAFD;AAFL,KAAD,CAAP;AAOH,GApf6B;AAqf9BiJ,EAAAA,sBAAsB,EAAE,kCAAW;AAAA;;AAC/B,WAAO,KAAKjJ,MAAL,CAAY,kBAAZ,IAAkC;AACrCqJ,MAAAA,QAAQ,EAAE,QAD2B;AAErCC,MAAAA,OAAO,EAAE,KAAKE,oBAAL,CAA0B5K,IAA1B,CAA+B,IAA/B,CAF4B;AAGrCb,MAAAA,OAAO,EAAE;AACL0L,QAAAA,aAAa,EAAE,uBAAA3O,CAAC,EAAI;AAChBA,UAAAA,CAAC,CAAC4O,SAAF,CAAYC,kBAAZ,CAA+B,QAA/B,EAAyC,MAAI,CAACC,KAAL,CAAWhL,IAAX,CAAgB,MAAhB,CAAzC;AACH,SAHI;AAIL0D,QAAAA,IAAI,EAAE,KAAKtC,MAAL,CAAY,kBAAZ;AAJD;AAH4B,KAAlC,GASH,IATJ;AAUH,GAhgB6B;AAigB9BmJ,EAAAA,qBAAqB,EAAE,iCAAW;AAC9B,WAAO,KAAKnJ,MAAL,CAAY,iBAAZ,IAAiC;AACpCqJ,MAAAA,QAAQ,EAAE,OAD0B;AAEpCC,MAAAA,OAAO,EAAE,KAAKO,WAAL,CAAiBjL,IAAjB,CAAsB,IAAtB,CAF2B;AAGpCb,MAAAA,OAAO,EAAE;AACLuE,QAAAA,IAAI,EAAE,KAAKtC,MAAL,CAAY,iBAAZ;AADD;AAH2B,KAAjC,GAMH,IANJ;AAOH,GAzgB6B;AA0gB9BuJ,EAAAA,mBAAmB,EAAE,6BAASO,IAAT,EAAe;AAChC,QAAIA,IAAJ,EAAU;AACN,WAAKC,qBAAL,CAA2BD,IAAI,CAAChJ,KAAhC;AACH;;AACD,SAAKd,MAAL,CAAY,OAAZ,EAAqB,KAAKgK,YAAL,CAAkB,KAAKC,oBAAL,EAAlB,CAArB;AACA,SAAKrP,QAAL;AACH,GAhhB6B;AAihB9B4O,EAAAA,oBAAoB,EAAE,gCAAW;AAC7B,SAAKU,gBAAL;;AACA,SAAKtP,QAAL;AACH,GAphB6B;AAqhB9BuP,EAAAA,uBAAuB,EAAE,mCAAW;AAChC,QAAI,KAAKnK,MAAL,CAAY,QAAZ,CAAJ,EAA2B;AACvB,WAAKoK,sBAAL;AACH;AACJ,GAzhB6B;AA0hB9BC,EAAAA,iBAAiB,EAAE,6BAAW;AAC1B,QAAI,KAAKrK,MAAL,CAAY,YAAZ,KAA6B,CAAC,KAAKA,MAAL,CAAY,uBAAZ,CAAlC,EAAwE;AACpE,WAAKA,MAAL,CAAY,uBAAZ,EAAqC,KAAKtB,QAAL,GAAgB3B,KAAhB,EAArC;AACH;;AACD,SAAKqG,MAAL,IAAe,KAAKgH,sBAAL,EAAf;AACH,GA/hB6B;AAgiB9B7H,EAAAA,MAAM,EAAE,kBAAW;AACf,WAAO,KAAK+H,WAAL,IAAoB,KAAK1P,QAAL,EAA3B;AACH,GAliB6B;AAmiB9B2P,EAAAA,mBAAmB,EAAE,+BAAW;AAC5B,SAAK3P,QAAL;;AACA,SAAK4P,aAAL;AACH,GAtiB6B;AAuiB9BA,EAAAA,aAAa,EAAE,yBAAW;AAAA;;AACtB,QAAIC,eAAe,GAAG,KAAKzK,MAAL,CAAY,eAAZ,CAAtB;;AACA,SAAK0K,kBAAL,CAAwBD,eAAxB;;AACA,QAAIA,eAAJ,EAAqB;AACjB,UAAIE,cAAc,GAAG,KAAKtE,eAAL,GAAuBzO,CAAC,CAAC,OAAD,CAAD,CAAWkI,QAAX,CAAoBrG,2BAApB,CAA5C;AACA,UAAImR,UAAU,GAAG,KAAKN,WAAL,GAAmB1S,CAAC,CAAC,OAAD,CAAD,CAAWkI,QAAX,CAAoBtG,mBAApB,EAAyC0H,QAAzC,CAAkDyJ,cAAlD,CAApC;AACA,UAAIE,aAAa,GAAGtS,OAAO,CAACI,OAAR,EAApB;AACA,UAAImS,UAAU,GAAGD,aAAa,CAACE,OAAd,IAAyBF,aAAa,CAACG,OAAd,CAAsB,CAAtB,KAA4B,CAArD,GAAyD,MAAzD,GAAkE,QAAnF;AACA,UAAIC,0BAA0B,GAAG,KAAjC;AACA,WAAKhI,UAAL,GAAkB,KAAK0D,gBAAL,CAAsBiE,UAAtB,EAAkC5R,OAAlC,EAA2C;AACzDkS,QAAAA,WAAW,EAAE;AAAA,iBAAMD,0BAA0B,GAAG,KAAnC;AAAA,SAD4C;AAEzDE,QAAAA,SAAS,EAAE;AAAA,iBAAMF,0BAA0B,GAAG,IAAnC;AAAA,SAF8C;AAGzDG,QAAAA,UAAU,EAAE;AAAA,iBAAMH,0BAA0B,GAAG,KAAnC;AAAA,SAH6C;AAIzDI,QAAAA,iBAAiB,EAAE,2BAAAC,IAAI;AAAA,iBAAIL,0BAA0B,IAAI,MAAI,CAAC9H,KAAL,CAAWoI,gBAAX,CAA4BD,IAA5B,CAAlC;AAAA,SAJkC;AAKzDE,QAAAA,IAAI,EAAEV,UALmD;AAMzDrP,QAAAA,eAAe,EAAE,IANwC;AAOzDgQ,QAAAA,gBAAgB,EAAE,KAAKzL,MAAL,CAAY,kBAAZ,CAPuC;AAQzD0L,QAAAA,cAAc,EAAE,KAAKC,cAAL,CAAoB/M,IAApB,CAAyB,IAAzB;AARyC,OAA3C,CAAlB;;AAUA,WAAKgN,0BAAL;;AACAjB,MAAAA,cAAc,CAACkB,YAAf,CAA4B,KAAKC,MAAjC;;AACA,WAAKC,qBAAL;AACH;AACJ,GA9jB6B;AA+jB9BC,EAAAA,aAAa,EAAE,yBAAW;AACtB,SAAK3F,eAAL,IAAwB,KAAKA,eAAL,CAAqB2B,MAArB,EAAxB;AACA,WAAO,KAAK3B,eAAZ;AACA,SAAKiE,WAAL,IAAoB,KAAKA,WAAL,CAAiBtC,MAAjB,EAApB;AACA,WAAO,KAAKsC,WAAZ;AACA,WAAO,KAAKrH,UAAZ;AACH,GArkB6B;AAskB9BgJ,EAAAA,sBAAsB,EAAE,gCAASnR,CAAT,EAAY;AAChC,QAAIoR,YAAY,GAAGtU,CAAC,CAAC,KAAKuL,KAAL,CAAWnD,MAAX,CAAkB,gBAAlB,CAAD,CAApB;;AACA,QAAI,CAACkM,YAAY,CAAC1J,MAAlB,EAA0B;AACtB;AACH;;AACD1H,IAAAA,CAAC,CAACC,cAAF;AACAD,IAAAA,CAAC,CAACmM,MAAF,GAAWiF,YAAY,CAACC,GAAb,CAAiB,CAAjB,CAAX;;AACA,SAAKpC,qBAAL,CAA2BjP,CAA3B;;AACA,SAAKsR,eAAL,CAAqBtR,CAAC,CAACuR,QAAvB,EAAiCH,YAAjC;AACH,GA/kB6B;AAglB9BN,EAAAA,0BAA0B,EAAE,sCAAW;AACnC,SAAK3I,UAAL,CAAgB0G,kBAAhB,CAAmC,QAAnC,EAA6C,KAAKC,KAAL,CAAWhL,IAAX,CAAgB,IAAhB,CAA7C;;AACA,SAAKqE,UAAL,CAAgB0G,kBAAhB,CAAmC,OAAnC,EAA4C,KAAKsC,sBAAL,CAA4BrN,IAA5B,CAAiC,IAAjC,CAA5C;;AACA,SAAKqE,UAAL,CAAgB0G,kBAAhB,CAAmC,OAAnC,EAA4C,KAAKsC,sBAAL,CAA4BrN,IAA5B,CAAiC,IAAjC,CAA5C;;AACA,SAAKqE,UAAL,CAAgB0G,kBAAhB,CAAmC,KAAnC,EAA0C1R,IAA1C;;AACA,SAAKgL,UAAL,CAAgB0G,kBAAhB,CAAmC,MAAnC,EAA2C1R,IAA3C;AACH,GAtlB6B;AAulB9ByS,EAAAA,kBAAkB,EAAE,4BAASD,eAAT,EAA0B;AAC1C,QAAI,KAAKrH,MAAT,EAAiB;AACb,WAAKA,MAAL,CAAY8B,QAAZ,GAAuBnF,WAAvB,CAAmChG,yBAAnC,EAA8D0Q,eAA9D;AACH;AACJ,GA3lB6B;AA4lB9BsB,EAAAA,qBAAqB,EAAE,iCAAW;AAC9B,QAAI,CAAC,KAAKzB,WAAV,EAAuB;AACnB;AACH;;AACD,QAAIgC,eAAe,GAAG,KAAKtM,MAAL,CAAY,iBAAZ,CAAtB;AACA,QAAI7E,WAAW,GAAG,KAAK6E,MAAL,CAAY,mBAAZ,CAAlB;;AACA,QAAIsM,eAAe,IAAInR,WAAW,KAAK7C,mBAAmB,CAAC8C,MAApB,CAA2B,QAA3B,CAAvC,EAA6E;AACzED,MAAAA,WAAW,GAAG7C,mBAAmB,CAACiU,YAApB,CAAiC,4BAAjC,EAA+DD,eAA/D,CAAd;AACH;;AACD,SAAKrJ,UAAL,CAAgBjD,MAAhB,CAAuB,aAAvB,EAAsC7E,WAAtC;AACH,GAtmB6B;AAumB9BqR,EAAAA,qBAAqB,EAAEvU,IAvmBO;AAwmB9BwU,EAAAA,WAAW,EAAE,uBAAW;AAAA;;AACpB,SAAK7R,QAAL;;AACA,SAAKuI,KAAL,CAAWwG,kBAAX,CAA8B,QAA9B,EAAwC,YAAM;AAC1C,MAAA,MAAI,CAACC,KAAL;AACH,KAFD;AAGH,GA7mB6B;AA8mB9B8C,EAAAA,WAAW,EAAE,uBAAW;AACpB,WAAOtU,MAAM,CAAC,KAAKwC,QAAL,EAAD,EAAkB;AAC3B+R,MAAAA,QAAQ,EAAE,CADiB;AAE3BpQ,MAAAA,OAAO,EAAE,KAAKyD,MAAL,CAAY,SAAZ,CAFkB;AAG3BxD,MAAAA,aAAa,EAAE,KAAKwF,oBAAL,CAA0B,eAA1B,CAHY;AAI3BpG,MAAAA,kBAAkB,EAAE,KAAKoE,MAAL,CAAY,oBAAZ,CAJO;AAK3BnE,MAAAA,kBAAkB,EAAE,KAAKmE,MAAL,CAAY,oBAAZ,CALO;AAM3BlE,MAAAA,eAAe,EAAE,KAAKkE,MAAL,CAAY,iBAAZ,CANU;AAO3BjE,MAAAA,cAAc,EAAE,KAAKiE,MAAL,CAAY,gBAAZ,CAPW;AAQ3BhE,MAAAA,cAAc,EAAE,KAAKgE,MAAL,CAAY,gBAAZ,CARW;AAS3B/D,MAAAA,eAAe,EAAE,KAAK+D,MAAL,CAAY,iBAAZ,CATU;AAU3B9D,MAAAA,QAAQ,EAAE,KAAKoD,cAAL,CAAoBV,IAApB,CAAyB,IAAzB,CAViB;AAW3BzC,MAAAA,aAAa,EAAE,KAAKoD,mBAAL,CAAyBX,IAAzB,CAA8B,IAA9B,CAXY;AAY3BxC,MAAAA,aAAa,EAAE,KAAKoD,mBAAL,CAAyBZ,IAAzB,CAA8B,IAA9B,CAZY;AAa3BvC,MAAAA,YAAY,EAAE,KAAK2D,MAAL,CAAY,cAAZ,CAba;AAc3B1D,MAAAA,cAAc,EAAE,KAAK0D,MAAL,CAAY,gBAAZ,CAdW;AAe3B4M,MAAAA,eAAe,EAAE,KAAK5M,MAAL,CAAY,eAAZ,CAfU;AAgB3B6M,MAAAA,kBAAkB,EAAE,KAAKC,2BAAL;AAhBO,KAAlB,CAAb;AAkBH,GAjoB6B;AAkoB9BA,EAAAA,2BAA2B,EAAE,uCAAW;AACpC,WAAO,KAAK9M,MAAL,CAAY,uBAAZ,IAAuC,KAAK+M,uBAAL,CAA6BnO,IAA7B,CAAkC,IAAlC,CAAvC,GAAiF3G,IAAxF;AACH,GApoB6B;AAqoB9B+U,EAAAA,wBAAwB,EAAE,oCAAW;AACjC,SAAKpS,QAAL,aAAiB6G,SAAjB;;AACA,SAAKyI,gBAAL;AACH,GAxoB6B;AAyoB9B+C,EAAAA,eAAe,EAAE,2BAAW;AACxB,QAAI,CAAC,KAAKjN,MAAL,CAAY,mBAAZ,CAAL,EAAuC;AACnC;AACH;;AACD,QAAI,KAAKA,MAAL,CAAY,eAAZ,CAAJ,EAAkC;AAC9B,WAAKiD,UAAL,CAAgBiF,KAAhB;AACH,KAFD,MAEO;AACHrQ,MAAAA,YAAY,CAACqV,OAAb,CAAqB,KAAKpB,MAA1B,EAAkC,OAAlC;AACH;AACJ,GAlpB6B;AAmpB9BqB,EAAAA,YAAY,EAAE,wBAAW;AACrB,WAAO,KAAKxM,OAAZ;AACH,GArpB6B;AAspB9ByM,EAAAA,2BAA2B,EAAE,uCAAW;AACpC,WAAO,KAAKzM,OAAZ;AACH,GAxpB6B;AAypB9B0M,EAAAA,qBAAqB,EAAE,+BAASvS,CAAT,EAAY;AAC/B,SAAKiP,qBAAL,CAA2BjP,CAAC,CAACgG,KAA7B;;AACA,SAAKsL,eAAL,CAAqBtR,CAAC,CAACuR,QAAvB,EAAiCvR,CAAC,CAACgG,KAAF,CAAQwM,aAAzC;AACH,GA5pB6B;AA6pB9BlB,EAAAA,eAAe,EAAE,yBAASC,QAAT,EAAmBpF,MAAnB,EAA2B;AACxC,SAAK9D,KAAL,CAAWoK,UAAX,CAAsBtG,MAAtB;;AACA,QAAI,gBAAgB,KAAKjH,MAAL,CAAY,gBAAZ,CAApB,EAAmD;AAC/C,WAAKuJ,mBAAL;AACH;AACJ,GAlqB6B;AAmqB9BU,EAAAA,oBAAoB,EAAE,gCAAW;AAC7B,WAAO,KAAKjK,MAAL,CAAY,SAAZ,IAAyB,KAAKmD,KAAL,CAAWnD,MAAX,CAAkB,kBAAlB,EAAsC4D,KAAtC,CAA4C,CAA5C,CAAzB,GAA0E,KAAKT,KAAL,CAAWnD,MAAX,CAAkB,kBAAlB,CAAjF;AACH,GArqB6B;AAsqB9B6J,EAAAA,WAAW,EAAE,qBAAS/O,CAAT,EAAY;AACrB,SAAKiP,qBAAL,CAA2BjP,CAAC,CAACgG,KAA7B;;AACA,SAAKd,MAAL,CAAY,OAAZ,EAAqB,IAArB;AACA,SAAKA,MAAL,CAAY,QAAZ,EAAsB,KAAtB;AACH,GA1qB6B;AA2qB9BwN,EAAAA,YAAY,EAAE,wBAAW;AACrB,WAAO,KAAKxN,MAAL,CAAY,eAAZ,KAAgC,KAAKiD,UAArC,GAAkD,KAAKA,UAAL,CAAgBjD,MAAhB,CAAuB,OAAvB,CAAlD,GAAoF,EAA3F;AACH,GA7qB6B;AA8qB9ByN,EAAAA,iBAAiB,EAAE,6BAAW;AAAA;;AAC1B,WAAO,KAAK7S,QAAL,GAAgB8S,MAAhB,CAAuB,YAAM;AAChC,MAAA,MAAI,CAACxD,gBAAL;AACH,KAFM,CAAP;AAGH,GAlrB6B;AAmrB9ByD,EAAAA,kBAAkB,EAAE,8BAAW;AAC3B,QAAI,MAAM,KAAKjP,QAAL,GAAgBwB,IAAhB,CAAqB,MAAM/F,sBAA3B,EAAmDqI,MAA7D,EAAqE;AACjE;AACH;;AACD,SAAK5H,QAAL;AACH,GAxrB6B;AAyrB9BgT,EAAAA,MAAM,EAAE,kBAAW;AACf,SAAK5M,cAAL,CAAoBgH,MAApB;;AACA,SAAKsC,WAAL,GAAmB,IAAnB;AACA,WAAO,KAAKjJ,UAAZ;AACA,SAAKzG,QAAL;AACH,GA9rB6B;AA+rB9BiT,EAAAA,qBAAqB,EAAE,iCAAW;AAC9B,SAAKjT,QAAL;AACAxC,IAAAA,MAAM,CAAC,KAAK0V,kBAAN,EAA0B;AAC5B1Q,MAAAA,KAAK,EAAE;AACH2Q,QAAAA,KAAK,EAAE,MADJ;AAEHC,QAAAA,KAAK,EAAE;AAFJ,OADqB;AAK5B3Q,MAAAA,aAAa,EAAE;AACX0Q,QAAAA,KAAK,EAAE,MADI;AAEXC,QAAAA,KAAK,EAAE;AAFI,OALa;AAS5B1Q,MAAAA,eAAe,EAAE;AACbyQ,QAAAA,KAAK,EAAE,MADM;AAEbC,QAAAA,KAAK,EAAE;AAFM,OATW;AAa5BzQ,MAAAA,UAAU,EAAE;AACRwQ,QAAAA,KAAK,EAAE,MADC;AAERC,QAAAA,KAAK,EAAE;AAFC,OAbgB;AAiB5BC,MAAAA,UAAU,EAAE;AACRF,QAAAA,KAAK,EAAE,MADC;AAERC,QAAAA,KAAK,EAAE;AAFC,OAjBgB;AAqB5BtJ,MAAAA,WAAW,EAAE;AACTqJ,QAAAA,KAAK,EAAE,MADE;AAETC,QAAAA,KAAK,EAAE;AAFE,OArBe;AAyB5B/Q,MAAAA,OAAO,EAAE;AACL8Q,QAAAA,KAAK,EAAE,MADF;AAELC,QAAAA,KAAK,EAAE;AAFF,OAzBmB;AA6B5B9Q,MAAAA,mBAAmB,EAAE;AACjB6Q,QAAAA,KAAK,EAAE,MADU;AAEjBC,QAAAA,KAAK,EAAE;AAFU,OA7BO;AAiC5B7Q,MAAAA,QAAQ,EAAE;AACN4Q,QAAAA,KAAK,EAAE,MADD;AAENC,QAAAA,KAAK,EAAE;AAFD,OAjCkB;AAqC5BpR,MAAAA,SAAS,EAAE;AACPmR,QAAAA,KAAK,EAAE,MADA;AAEPC,QAAAA,KAAK,EAAE;AAFA;AArCiB,KAA1B,CAAN;AA0CH,GA3uB6B;AA4uB9BE,EAAAA,cAAc,EAAE,wBAASpE,IAAT,EAAe;AAC3B,QAAIjR,IAAI,GAAGiR,IAAI,CAACjR,IAAhB;AACA,QAAI2I,KAAK,GAAGsI,IAAI,CAACtI,KAAjB;;AACA,YAAQ3I,IAAR;AACI,WAAK,YAAL;AACI,aAAK+B,QAAL,aAAiB6G,SAAjB;;AACA,aAAKK,YAAL;;AACA;;AACJ,WAAK,eAAL;AACI,YAAI,KAAKsB,MAAT,EAAiB;AACb,eAAK4I,aAAL;;AACA,eAAKxB,aAAL;AACH;;AACD;;AACJ,WAAK,mBAAL;AACI,aAAKuB,qBAAL;;AACA;;AACJ,WAAK,iBAAL;AACI,aAAKA,qBAAL;;AACA,aAAKnR,QAAL,aAAiB6G,SAAjB;AACA;;AACJ,WAAK,OAAL;AACA,WAAK,eAAL;AACA,WAAK,iBAAL;AACA,WAAK,SAAL;AACA,WAAK,WAAL;AACA,WAAK,UAAL;AACA,WAAK,qBAAL;AACA,WAAK,YAAL;AACI,aAAK0M,eAAL,CAAqBtV,IAArB,EAA2B2I,KAA3B;;AACA;;AACJ,WAAK,YAAL;AACA,WAAK,aAAL;AACI,aAAK4M,WAAL;;AACA;;AACJ,WAAK,iBAAL;AACA,WAAK,iBAAL;AACA,WAAK,kBAAL;AACI,aAAKD,eAAL,CAAqB,cAArB,EAAqC,KAAK5F,qBAAL,EAArC;;AACA;;AACJ,WAAK,gBAAL;AACI,aAAK3N,QAAL,aAAiB6G,SAAjB;AACA;;AACJ,WAAK,YAAL;AACI,aAAK0M,eAAL,CAAqB,OAArB,EAA8B,WAAW3M,KAAX,GAAmB,KAAK6M,aAAL,CAAmB,iBAAnB,EAAsCtR,KAAzD,GAAiEyE,KAA/F;;AACA;;AACJ,WAAK,aAAL;AACI,aAAK2M,eAAL,CAAqB,QAArB,EAA+B,WAAW3M,KAAX,GAAmB,KAAK6M,aAAL,CAAmB,iBAAnB,EAAsCrR,MAAzD,GAAkEwE,KAAjG;;AACA;;AACJ,WAAK,eAAL;AACI,aAAKxC,sBAAL;;AACA;;AACJ,WAAK,eAAL;AACI,aAAKC,sBAAL;;AACA;;AACJ,WAAK,oBAAL;AACA,WAAK,oBAAL;AACA,WAAK,iBAAL;AACA,WAAK,gBAAL;AACA,WAAK,gBAAL;AACA,WAAK,iBAAL;AACA,WAAK,gBAAL;AACA,WAAK,SAAL;AACA,WAAK,eAAL;AACI,aAAKqP,cAAL,CAAoBzV,IAApB;;AACA;;AACJ,WAAK,UAAL;AACI,aAAKkG,iBAAL;;AACA;;AACJ,WAAK,cAAL;AACI,aAAKuP,cAAL,CAAoB,cAApB,EAAoC,KAAKtO,MAAL,CAAY,cAAZ,CAApC;;AACA;;AACJ,WAAK,sBAAL;AACA,WAAK,8BAAL;AACI;;AACJ,WAAK,kBAAL;AACI,YAAI,KAAKA,MAAL,CAAY,8BAAZ,CAAJ,EAAiD;AAC7C,eAAKA,MAAL,CAAY,0BAAZ,EAAwC,KAAK,CAA7C;;AACA,eAAKwG,YAAL;AACH;;AACD;;AACJ;AACI,aAAK5L,QAAL,aAAiB6G,SAAjB;AA/ER;AAiFH,GAh0B6B;AAi0B9ByG,EAAAA,KAAK,EAAE,iBAAW;AACd,SAAKlI,MAAL,CAAY,QAAZ,IAAwB,KAAKiN,eAAL,EAAxB,GAAiDpV,YAAY,CAACqV,OAAb,CAAqB,KAAKC,YAAL,EAArB,EAA0C,OAA1C,CAAjD;AACH,GAn0B6B;AAo0B9BoB,EAAAA,KAAK,EAAE,iBAAW;AACd,WAAO,KAAK5N,OAAZ;AACH;AAt0B6B,CAArB,CAAb;AAw0BAnI,iBAAiB,CAAC,UAAD,EAAaiC,MAAb,CAAjB;AACA,eAAeA,MAAf","sourcesContent":["/**\r\n * DevExtreme (esm/ui/lookup.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    nativeScrolling\r\n} from \"../core/utils/support\";\r\nimport {\r\n    noop\r\n} from \"../core/utils/common\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    render\r\n} from \"./widget/utils.ink_ripple\";\r\nimport messageLocalization from \"../localization/message\";\r\nimport devices from \"../core/devices\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    addNamespace\r\n} from \"../events/utils/index\";\r\nimport DropDownList from \"./drop_down_editor/ui.drop_down_list\";\r\nimport {\r\n    current,\r\n    isMaterial\r\n} from \"./themes\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../events/click\";\r\nimport Popover from \"./popover\";\r\nimport TextBox from \"./text_box\";\r\nimport {\r\n    ChildDefaultTemplate\r\n} from \"../core/templates/child_default_template\";\r\nimport {\r\n    locate,\r\n    move,\r\n    resetPosition\r\n} from \"../animation/translator\";\r\nimport {\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport {\r\n    getElementWidth\r\n} from \"./drop_down_editor/utils\";\r\nvar LOOKUP_CLASS = \"dx-lookup\";\r\nvar LOOKUP_SEARCH_CLASS = \"dx-lookup-search\";\r\nvar LOOKUP_SEARCH_WRAPPER_CLASS = \"dx-lookup-search-wrapper\";\r\nvar LOOKUP_FIELD_CLASS = \"dx-lookup-field\";\r\nvar LOOKUP_ARROW_CLASS = \"dx-lookup-arrow\";\r\nvar LOOKUP_FIELD_WRAPPER_CLASS = \"dx-lookup-field-wrapper\";\r\nvar LOOKUP_POPUP_CLASS = \"dx-lookup-popup\";\r\nvar LOOKUP_POPUP_WRAPPER_CLASS = \"dx-lookup-popup-wrapper\";\r\nvar LOOKUP_POPUP_SEARCH_CLASS = \"dx-lookup-popup-search\";\r\nvar LOOKUP_POPOVER_MODE = \"dx-lookup-popover-mode\";\r\nvar LOOKUP_EMPTY_CLASS = \"dx-lookup-empty\";\r\nvar LOOKUP_POPOVER_FLIP_VERTICAL_CLASS = \"dx-popover-flipped-vertical\";\r\nvar TEXTEDITOR_INPUT_CLASS = \"dx-texteditor-input\";\r\nvar LIST_ITEM_CLASS = \"dx-list-item\";\r\nvar LIST_ITEM_SELECTED_CLASS = \"dx-list-item-selected\";\r\nvar GROUP_LIST_HEADER_CLASS = \"dx-list-group-header\";\r\nvar MATERIAL_LOOKUP_LIST_ITEMS_COUNT = 5;\r\nvar MATERIAL_LOOKUP_LIST_PADDING = 8;\r\nvar Lookup = DropDownList.inherit({\r\n    _supportedKeys: function() {\r\n        return extend(this.callBase(), {\r\n            space: function(e) {\r\n                e.preventDefault();\r\n                this._validatedOpening()\r\n            },\r\n            enter: function() {\r\n                this._validatedOpening()\r\n            }\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            placeholder: messageLocalization.format(\"Select\"),\r\n            searchPlaceholder: messageLocalization.format(\"Search\"),\r\n            searchEnabled: true,\r\n            cleanSearchOnOpening: true,\r\n            showCancelButton: true,\r\n            showClearButton: false,\r\n            clearButtonText: messageLocalization.format(\"Clear\"),\r\n            applyButtonText: messageLocalization.format(\"OK\"),\r\n            pullRefreshEnabled: false,\r\n            useNativeScrolling: true,\r\n            pullingDownText: messageLocalization.format(\"dxList-pullingDownText\"),\r\n            pulledDownText: messageLocalization.format(\"dxList-pulledDownText\"),\r\n            refreshingText: messageLocalization.format(\"dxList-refreshingText\"),\r\n            pageLoadingText: messageLocalization.format(\"dxList-pageLoadingText\"),\r\n            onScroll: null,\r\n            onPullRefresh: null,\r\n            onPageLoading: null,\r\n            pageLoadMode: \"scrollBottom\",\r\n            nextButtonText: messageLocalization.format(\"dxList-nextButtonText\"),\r\n            grouped: false,\r\n            groupTemplate: \"group\",\r\n            usePopover: false,\r\n            showDropDownButton: false,\r\n            focusStateEnabled: false,\r\n            animation: {},\r\n            dropDownOptions: {\r\n                showTitle: true,\r\n                width: function() {\r\n                    return .8 * $(window).width()\r\n                },\r\n                height: function() {\r\n                    return .8 * $(window).height()\r\n                },\r\n                shading: true,\r\n                closeOnOutsideClick: false,\r\n                position: void 0,\r\n                animation: {},\r\n                title: \"\",\r\n                titleTemplate: \"title\",\r\n                onTitleRendered: null,\r\n                fullScreen: false\r\n            },\r\n            dropDownCentered: false,\r\n            _scrollToSelectedItemEnabled: false,\r\n            useHiddenSubmitElement: true\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        var themeName = current();\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return !nativeScrolling\r\n            },\r\n            options: {\r\n                useNativeScrolling: false\r\n            }\r\n        }, {\r\n            device: function(_device) {\r\n                return !devices.isSimulator() && \"desktop\" === devices.real().deviceType && \"generic\" === _device.platform\r\n            },\r\n            options: {\r\n                usePopover: true,\r\n                dropDownOptions: {\r\n                    height: \"auto\"\r\n                }\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"ios\",\r\n                phone: true\r\n            },\r\n            options: {\r\n                dropDownOptions: {\r\n                    fullScreen: true\r\n                }\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"ios\",\r\n                tablet: true\r\n            },\r\n            options: {\r\n                dropDownOptions: {\r\n                    width: function() {\r\n                        return .4 * Math.min($(window).width(), $(window).height())\r\n                    },\r\n                    height: \"auto\"\r\n                },\r\n                usePopover: true,\r\n                useInkRipple: false\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return isMaterial(themeName)\r\n            },\r\n            options: {\r\n                usePopover: false,\r\n                searchEnabled: false,\r\n                showCancelButton: false,\r\n                dropDownCentered: true,\r\n                _scrollToSelectedItemEnabled: true,\r\n                dropDownOptions: {\r\n                    closeOnOutsideClick: true,\r\n                    width: () => getElementWidth(this.$element()),\r\n                    height: function() {\r\n                        return this._getPopupHeight()\r\n                    }.bind(this),\r\n                    showTitle: false,\r\n                    shading: false\r\n                }\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initActions()\r\n    },\r\n    _initActions() {\r\n        this.callBase();\r\n        this._initScrollAction();\r\n        this._initPageLoadingAction();\r\n        this._initPullRefreshAction()\r\n    },\r\n    _initPageLoadingAction: function() {\r\n        this._pageLoadingAction = this._createActionByOption(\"onPageLoading\")\r\n    },\r\n    _initPullRefreshAction: function() {\r\n        this._pullRefreshAction = this._createActionByOption(\"onPullRefresh\")\r\n    },\r\n    _initScrollAction: function() {\r\n        this._scrollAction = this._createActionByOption(\"onScroll\")\r\n    },\r\n    _scrollHandler: function(e) {\r\n        this._scrollAction(e)\r\n    },\r\n    _pullRefreshHandler: function(e) {\r\n        this._pullRefreshAction(e)\r\n    },\r\n    _pageLoadingHandler: function(e) {\r\n        this._pageLoadingAction(e)\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            group: new ChildDefaultTemplate(\"group\"),\r\n            title: new ChildDefaultTemplate(\"title\")\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this.$element().addClass(LOOKUP_CLASS).toggleClass(LOOKUP_POPOVER_MODE, this.option(\"usePopover\"));\r\n        this.callBase()\r\n    },\r\n    _inputWrapper: function() {\r\n        return this.$element().find(\".\" + LOOKUP_FIELD_WRAPPER_CLASS)\r\n    },\r\n    _dataSourceOptions: function() {\r\n        return extend(this.callBase(), {\r\n            paginate: true\r\n        })\r\n    },\r\n    _fireContentReadyAction: noop,\r\n    _popupWrapperClass: function() {\r\n        return \"\"\r\n    },\r\n    _renderInput: function() {\r\n        var fieldClickAction = this._createAction(() => {\r\n            this._toggleOpenState()\r\n        });\r\n        this._$field = $(\"<div>\").addClass(LOOKUP_FIELD_CLASS);\r\n        eventsEngine.on(this._$field, addNamespace(clickEventName, this.NAME), e => {\r\n            fieldClickAction({\r\n                event: e\r\n            })\r\n        });\r\n        var $arrow = $(\"<div>\").addClass(LOOKUP_ARROW_CLASS);\r\n        this._$fieldWrapper = $(\"<div>\").addClass(LOOKUP_FIELD_WRAPPER_CLASS).append(this._$field).append($arrow).appendTo(this.$element());\r\n        this.option(\"useInkRipple\") && this._renderInkRipple()\r\n    },\r\n    _getInputContainer() {\r\n        return this._$fieldWrapper\r\n    },\r\n    _renderInkRipple: function() {\r\n        this._inkRipple = render()\r\n    },\r\n    _toggleOpenState: function() {\r\n        this.callBase();\r\n        if (!this.option(\"dropDownOptions.fullScreen\") && this.option(\"_scrollToSelectedItemEnabled\")) {\r\n            this._setPopupPosition()\r\n        }\r\n    },\r\n    _toggleActiveState: function($element, value, e) {\r\n        this.callBase(...arguments);\r\n        if (!this._inkRipple) {\r\n            return\r\n        }\r\n        var config = {\r\n            element: this._inputWrapper(),\r\n            event: e\r\n        };\r\n        if (value) {\r\n            this._inkRipple.showWave(config)\r\n        } else {\r\n            this._inkRipple.hideWave(config)\r\n        }\r\n    },\r\n    _renderField: function() {\r\n        var fieldTemplate = this._getTemplateByOption(\"fieldTemplate\");\r\n        if (fieldTemplate && this.option(\"fieldTemplate\")) {\r\n            this._renderFieldTemplate(fieldTemplate);\r\n            return\r\n        }\r\n        var displayValue = this.option(\"displayValue\");\r\n        this._updateField(isDefined(displayValue) && String(displayValue) || this.option(\"placeholder\"));\r\n        this.$element().toggleClass(LOOKUP_EMPTY_CLASS, !this.option(\"selectedItem\"))\r\n    },\r\n    _renderDisplayText: function(text) {\r\n        if (this._input().length) {\r\n            this.callBase(text)\r\n        } else {\r\n            this._updateField(text)\r\n        }\r\n    },\r\n    _updateField: function(text) {\r\n        this._$field.text(text)\r\n    },\r\n    _renderFieldTemplate: function(template) {\r\n        this._$field.empty();\r\n        var data = this._fieldRenderData();\r\n        template.render({\r\n            model: data,\r\n            container: getPublicElement(this._$field)\r\n        })\r\n    },\r\n    _fieldRenderData: function() {\r\n        return this.option(\"selectedItem\")\r\n    },\r\n    _popupShowingHandler: function() {\r\n        this.callBase.apply(this, arguments);\r\n        if (this.option(\"cleanSearchOnOpening\")) {\r\n            if (this.option(\"searchEnabled\") && this._searchBox.option(\"value\")) {\r\n                this._searchBox.option(\"value\", \"\");\r\n                this._searchCanceled()\r\n            }\r\n            this._list && this._list.option(\"focusedElement\", null)\r\n        }\r\n        if (this.option(\"dropDownOptions.fullScreen\") && this.option(\"_scrollToSelectedItemEnabled\")) {\r\n            this._popup.option(\"position\").of = $(window)\r\n        }\r\n    },\r\n    _scrollToSelectedItem: function() {\r\n        var selectedIndex = this._list.option(\"selectedIndex\");\r\n        var listItems = this._list.option(\"items\");\r\n        var itemsCount = listItems.length;\r\n        if (0 !== itemsCount) {\r\n            if (this._list.option(\"grouped\")) {\r\n                this._list.scrollToItem({\r\n                    group: itemsCount - 1,\r\n                    item: listItems[itemsCount - 1].items.length - 1\r\n                })\r\n            } else {\r\n                this._list.scrollToItem(itemsCount - 1)\r\n            }\r\n            this._list.scrollToItem(selectedIndex)\r\n        }\r\n    },\r\n    _getDifferenceOffsets: function(selectedListItem) {\r\n        return selectedListItem.offset().top - $(this.element()).offset().top\r\n    },\r\n    _isCenteringEnabled: (index, count) => 1 < index && index < count - 2,\r\n    _getPopupOffset: function() {\r\n        var listItemsCount = this._listItemElements().length;\r\n        if (0 === listItemsCount) {\r\n            return\r\n        }\r\n        var selectedListItem = $(this._list.element()).find(\".\" + LIST_ITEM_SELECTED_CLASS);\r\n        var selectedIndex = this._listItemElements().index(selectedListItem);\r\n        var differenceOfHeights = (selectedListItem.height() - $(this.element()).height()) / 2;\r\n        var lookupOffset = $(this._list.element()).offset().top;\r\n        var dropDownHeightOption = this.option(\"dropDownOptions.height\");\r\n        var popupHeight = \"function\" === typeof dropDownHeightOption ? dropDownHeightOption() : dropDownHeightOption;\r\n        var windowHeight = $(window).height();\r\n        var offsetTop = 0;\r\n        if (-1 !== selectedIndex) {\r\n            if (this._isCenteringEnabled(selectedIndex, listItemsCount)) {\r\n                this._scrollToSelectedItem();\r\n                var scrollOffsetTop = (popupHeight - selectedListItem.height()) / 2 - this._getDifferenceOffsets(selectedListItem);\r\n                this._list.scrollTo(this._list.scrollTop() + MATERIAL_LOOKUP_LIST_PADDING / 2 - scrollOffsetTop);\r\n                offsetTop = differenceOfHeights + this._getDifferenceOffsets(selectedListItem);\r\n                if (lookupOffset < offsetTop && selectedIndex !== listItemsCount - 3) {\r\n                    this._list.scrollTo(this._list.scrollTop() + this._getDifferenceOffsets(selectedListItem) / 2);\r\n                    offsetTop = differenceOfHeights + this._getDifferenceOffsets(selectedListItem)\r\n                }\r\n            } else if (selectedIndex <= 1) {\r\n                this._list.scrollTo(0);\r\n                offsetTop = differenceOfHeights + this._getDifferenceOffsets(selectedListItem)\r\n            } else if (selectedIndex >= listItemsCount - 2) {\r\n                this._scrollToSelectedItem();\r\n                offsetTop = differenceOfHeights + this._getDifferenceOffsets(selectedListItem)\r\n            }\r\n            if (lookupOffset < offsetTop) {\r\n                this._scrollToSelectedItem();\r\n                offsetTop = differenceOfHeights + MATERIAL_LOOKUP_LIST_PADDING\r\n            }\r\n        }\r\n        var offsetBottom = popupHeight - offsetTop - $(this.element()).height();\r\n        if (windowHeight - lookupOffset < offsetBottom) {\r\n            this._list.scrollTo(this._list.scrollTop() + differenceOfHeights - offsetBottom);\r\n            offsetTop = popupHeight - $(this.element()).height() - MATERIAL_LOOKUP_LIST_PADDING\r\n        }\r\n        return offsetTop\r\n    },\r\n    _setPopupPosition: function() {\r\n        if (!this.option(\"dropDownCentered\")) {\r\n            return\r\n        }\r\n        var flipped = this._popup.$wrapper().hasClass(LOOKUP_POPOVER_FLIP_VERTICAL_CLASS);\r\n        if (flipped) {\r\n            return\r\n        }\r\n        var popupContentParent = $(this._popup.$content()).parent();\r\n        var popupOffset = this._getPopupOffset();\r\n        var position = locate(popupContentParent);\r\n        move(popupContentParent, {\r\n            top: position.top - popupOffset\r\n        })\r\n    },\r\n    _listItemGroupedElements: function() {\r\n        var groups = this._list._itemContainer().children();\r\n        var items = [];\r\n        groups.each((_, group) => {\r\n            items.push($(group).find(\".\" + GROUP_LIST_HEADER_CLASS)[0]);\r\n            var groupedItems = $(group).find(\".\" + LIST_ITEM_CLASS);\r\n            groupedItems.each((_, item) => {\r\n                items.push(item)\r\n            })\r\n        });\r\n        return $(items)\r\n    },\r\n    _calculateListHeight: function(grouped) {\r\n        var listItems = grouped ? this._listItemGroupedElements() : this._listItemElements();\r\n        var selectedListItem = $(\".\" + LIST_ITEM_SELECTED_CLASS);\r\n        var selectedIndex = listItems.index(selectedListItem);\r\n        var listHeight = 0;\r\n        var requireListItems = [];\r\n        if (0 === listItems.length) {\r\n            listHeight += MATERIAL_LOOKUP_LIST_PADDING\r\n        } else if (listItems.length < MATERIAL_LOOKUP_LIST_ITEMS_COUNT) {\r\n            listItems.each((_, item) => {\r\n                listHeight += $(item).outerHeight()\r\n            })\r\n        } else {\r\n            if (selectedIndex <= 1) {\r\n                requireListItems = listItems.slice(0, MATERIAL_LOOKUP_LIST_ITEMS_COUNT)\r\n            } else if (this._isCenteringEnabled(selectedIndex, listItems.length)) {\r\n                requireListItems = listItems.slice(selectedIndex - 2, selectedIndex + 3)\r\n            } else {\r\n                requireListItems = listItems.slice(listItems.length - MATERIAL_LOOKUP_LIST_ITEMS_COUNT, listItems.length)\r\n            }\r\n            requireListItems.each((_, item) => {\r\n                listHeight += $(item).outerHeight()\r\n            })\r\n        }\r\n        return listHeight + (grouped ? MATERIAL_LOOKUP_LIST_PADDING : 2 * MATERIAL_LOOKUP_LIST_PADDING)\r\n    },\r\n    _getPopupHeight: function() {\r\n        if (this._list && this._list.itemElements()) {\r\n            return this._calculateListHeight(this.option(\"grouped\")) + (this._$searchWrapper ? this._$searchWrapper.outerHeight() : 0) + (this._popup._$bottom ? this._popup._$bottom.outerHeight() : 0) + (this._popup._$title ? this._popup._$title.outerHeight() : 0)\r\n        } else {\r\n            return \"auto\"\r\n        }\r\n    },\r\n    _renderPopup: function() {\r\n        if (this.option(\"usePopover\") && !this.option(\"dropDownOptions.fullScreen\")) {\r\n            if (this.option(\"_scrollToSelectedItemEnabled\")) {\r\n                this.callBase()\r\n            } else {\r\n                this._renderPopover()\r\n            }\r\n        } else {\r\n            this.callBase()\r\n        }\r\n        this._$popup.addClass(LOOKUP_POPUP_CLASS);\r\n        this._popup.$wrapper().addClass(LOOKUP_POPUP_WRAPPER_CLASS)\r\n    },\r\n    _renderPopover: function() {\r\n        this._popup = this._createComponent(this._$popup, Popover, extend(this._popupConfig(), this._options.cache(\"dropDownOptions\"), {\r\n            showEvent: null,\r\n            hideEvent: null,\r\n            target: this.$element(),\r\n            _fixedPosition: false,\r\n            fullScreen: false,\r\n            shading: false,\r\n            closeOnTargetScroll: true,\r\n            width: this._isInitialOptionValue(\"dropDownOptions.width\") ? function() {\r\n                return this.$element().outerWidth()\r\n            }.bind(this) : this._popupConfig().width\r\n        }));\r\n        this._popup.on({\r\n            showing: this._popupShowingHandler.bind(this),\r\n            shown: this._popupShownHandler.bind(this),\r\n            hiding: this._popupHidingHandler.bind(this),\r\n            hidden: this._popupHiddenHandler.bind(this),\r\n            contentReady: this._contentReadyHandler.bind(this)\r\n        });\r\n        if (this.option(\"_scrollToSelectedItemEnabled\")) {\r\n            this._popup._$arrow.remove()\r\n        }\r\n        this._setPopupContentId(this._popup.$content());\r\n        this._contentReadyHandler()\r\n    },\r\n    _popupHidingHandler: function() {\r\n        this.callBase();\r\n        this.option(\"focusStateEnabled\") && this.focus()\r\n    },\r\n    _popupHiddenHandler: function() {\r\n        this.callBase();\r\n        if (this.option(\"_scrollToSelectedItemEnabled\")) {\r\n            resetPosition($(this._popup.content()).parent())\r\n        }\r\n    },\r\n    _preventFocusOnPopup: noop,\r\n    _popupConfig: function() {\r\n        var result = extend(this.callBase(), {\r\n            toolbarItems: this._getPopupToolbarItems(),\r\n            closeOnTargetScroll: false,\r\n            onPositioned: null,\r\n            maxHeight: function() {\r\n                return $(window).height()\r\n            },\r\n            showTitle: this.option(\"dropDownOptions.showTitle\"),\r\n            title: this.option(\"dropDownOptions.title\"),\r\n            titleTemplate: this._getTemplateByOption(\"dropDownOptions.titleTemplate\"),\r\n            onTitleRendered: this.option(\"dropDownOptions.onTitleRendered\"),\r\n            fullScreen: this.option(\"dropDownOptions.fullScreen\"),\r\n            shading: this.option(\"dropDownOptions.shading\"),\r\n            closeOnOutsideClick: this.option(\"dropDownOptions.closeOnOutsideClick\")\r\n        });\r\n        delete result.animation;\r\n        delete result.position;\r\n        if (this.option(\"_scrollToSelectedItemEnabled\")) {\r\n            result.position = this.option(\"dropDownCentered\") ? {\r\n                my: \"left top\",\r\n                at: \"left top\",\r\n                of: this.element()\r\n            } : {\r\n                my: \"left top\",\r\n                at: \"left bottom\",\r\n                of: this.element()\r\n            };\r\n            result.closeOnTargetScroll = true\r\n        }\r\n        each([\"position\", \"animation\", \"width\", \"height\"], (_, optionName) => {\r\n            var popupOptionValue = this.option(\"dropDownOptions.\".concat(optionName));\r\n            if (void 0 !== popupOptionValue) {\r\n                result[optionName] = popupOptionValue\r\n            }\r\n        });\r\n        return result\r\n    },\r\n    _getPopupToolbarItems: function() {\r\n        var buttonsConfig = \"useButtons\" === this.option(\"applyValueMode\") ? this._popupToolbarItemsConfig() : [];\r\n        var cancelButton = this._getCancelButtonConfig();\r\n        if (cancelButton) {\r\n            buttonsConfig.push(cancelButton)\r\n        }\r\n        var clearButton = this._getClearButtonConfig();\r\n        if (clearButton) {\r\n            buttonsConfig.push(clearButton)\r\n        }\r\n        return this._applyButtonsLocation(buttonsConfig)\r\n    },\r\n    _popupToolbarItemsConfig: function() {\r\n        return [{\r\n            shortcut: \"done\",\r\n            options: {\r\n                onClick: this._applyButtonHandler.bind(this),\r\n                text: this.option(\"applyButtonText\")\r\n            }\r\n        }]\r\n    },\r\n    _getCancelButtonConfig: function() {\r\n        return this.option(\"showCancelButton\") ? {\r\n            shortcut: \"cancel\",\r\n            onClick: this._cancelButtonHandler.bind(this),\r\n            options: {\r\n                onInitialized: e => {\r\n                    e.component.registerKeyHandler(\"escape\", this.close.bind(this))\r\n                },\r\n                text: this.option(\"cancelButtonText\")\r\n            }\r\n        } : null\r\n    },\r\n    _getClearButtonConfig: function() {\r\n        return this.option(\"showClearButton\") ? {\r\n            shortcut: \"clear\",\r\n            onClick: this._resetValue.bind(this),\r\n            options: {\r\n                text: this.option(\"clearButtonText\")\r\n            }\r\n        } : null\r\n    },\r\n    _applyButtonHandler: function(args) {\r\n        if (args) {\r\n            this._saveValueChangeEvent(args.event)\r\n        }\r\n        this.option(\"value\", this._valueGetter(this._currentSelectedItem()));\r\n        this.callBase()\r\n    },\r\n    _cancelButtonHandler: function() {\r\n        this._refreshSelected();\r\n        this.callBase()\r\n    },\r\n    _refreshPopupVisibility: function() {\r\n        if (this.option(\"opened\")) {\r\n            this._updatePopupDimensions()\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        if (this.option(\"usePopover\") && !this.option(\"dropDownOptions.width\")) {\r\n            this.option(\"dropDownOptions.width\", this.$element().width())\r\n        }\r\n        this._popup && this._updatePopupDimensions()\r\n    },\r\n    _input: function() {\r\n        return this._$searchBox || this.callBase()\r\n    },\r\n    _renderPopupContent: function() {\r\n        this.callBase();\r\n        this._renderSearch()\r\n    },\r\n    _renderSearch: function() {\r\n        var isSearchEnabled = this.option(\"searchEnabled\");\r\n        this._toggleSearchClass(isSearchEnabled);\r\n        if (isSearchEnabled) {\r\n            var $searchWrapper = this._$searchWrapper = $(\"<div>\").addClass(LOOKUP_SEARCH_WRAPPER_CLASS);\r\n            var $searchBox = this._$searchBox = $(\"<div>\").addClass(LOOKUP_SEARCH_CLASS).appendTo($searchWrapper);\r\n            var currentDevice = devices.current();\r\n            var searchMode = currentDevice.android && currentDevice.version[0] >= 5 ? \"text\" : \"search\";\r\n            var isKeyboardListeningEnabled = false;\r\n            this._searchBox = this._createComponent($searchBox, TextBox, {\r\n                onDisposing: () => isKeyboardListeningEnabled = false,\r\n                onFocusIn: () => isKeyboardListeningEnabled = true,\r\n                onFocusOut: () => isKeyboardListeningEnabled = false,\r\n                onKeyboardHandled: opts => isKeyboardListeningEnabled && this._list._keyboardHandler(opts),\r\n                mode: searchMode,\r\n                showClearButton: true,\r\n                valueChangeEvent: this.option(\"valueChangeEvent\"),\r\n                onValueChanged: this._searchHandler.bind(this)\r\n            });\r\n            this._registerSearchKeyHandlers();\r\n            $searchWrapper.insertBefore(this._$list);\r\n            this._setSearchPlaceholder()\r\n        }\r\n    },\r\n    _removeSearch: function() {\r\n        this._$searchWrapper && this._$searchWrapper.remove();\r\n        delete this._$searchWrapper;\r\n        this._$searchBox && this._$searchBox.remove();\r\n        delete this._$searchBox;\r\n        delete this._searchBox\r\n    },\r\n    _selectListItemHandler: function(e) {\r\n        var $itemElement = $(this._list.option(\"focusedElement\"));\r\n        if (!$itemElement.length) {\r\n            return\r\n        }\r\n        e.preventDefault();\r\n        e.target = $itemElement.get(0);\r\n        this._saveValueChangeEvent(e);\r\n        this._selectListItem(e.itemData, $itemElement)\r\n    },\r\n    _registerSearchKeyHandlers: function() {\r\n        this._searchBox.registerKeyHandler(\"escape\", this.close.bind(this));\r\n        this._searchBox.registerKeyHandler(\"enter\", this._selectListItemHandler.bind(this));\r\n        this._searchBox.registerKeyHandler(\"space\", this._selectListItemHandler.bind(this));\r\n        this._searchBox.registerKeyHandler(\"end\", noop);\r\n        this._searchBox.registerKeyHandler(\"home\", noop)\r\n    },\r\n    _toggleSearchClass: function(isSearchEnabled) {\r\n        if (this._popup) {\r\n            this._popup.$wrapper().toggleClass(LOOKUP_POPUP_SEARCH_CLASS, isSearchEnabled)\r\n        }\r\n    },\r\n    _setSearchPlaceholder: function() {\r\n        if (!this._$searchBox) {\r\n            return\r\n        }\r\n        var minSearchLength = this.option(\"minSearchLength\");\r\n        var placeholder = this.option(\"searchPlaceholder\");\r\n        if (minSearchLength && placeholder === messageLocalization.format(\"Search\")) {\r\n            placeholder = messageLocalization.getFormatter(\"dxLookup-searchPlaceholder\")(minSearchLength)\r\n        }\r\n        this._searchBox.option(\"placeholder\", placeholder)\r\n    },\r\n    _setAriaTargetForList: noop,\r\n    _renderList: function() {\r\n        this.callBase();\r\n        this._list.registerKeyHandler(\"escape\", () => {\r\n            this.close()\r\n        })\r\n    },\r\n    _listConfig: function() {\r\n        return extend(this.callBase(), {\r\n            tabIndex: 0,\r\n            grouped: this.option(\"grouped\"),\r\n            groupTemplate: this._getTemplateByOption(\"groupTemplate\"),\r\n            pullRefreshEnabled: this.option(\"pullRefreshEnabled\"),\r\n            useNativeScrolling: this.option(\"useNativeScrolling\"),\r\n            pullingDownText: this.option(\"pullingDownText\"),\r\n            pulledDownText: this.option(\"pulledDownText\"),\r\n            refreshingText: this.option(\"refreshingText\"),\r\n            pageLoadingText: this.option(\"pageLoadingText\"),\r\n            onScroll: this._scrollHandler.bind(this),\r\n            onPullRefresh: this._pullRefreshHandler.bind(this),\r\n            onPageLoading: this._pageLoadingHandler.bind(this),\r\n            pageLoadMode: this.option(\"pageLoadMode\"),\r\n            nextButtonText: this.option(\"nextButtonText\"),\r\n            indicateLoading: this.option(\"searchEnabled\"),\r\n            onSelectionChanged: this._getSelectionChangedHandler()\r\n        })\r\n    },\r\n    _getSelectionChangedHandler: function() {\r\n        return this.option(\"showSelectionControls\") ? this._selectionChangeHandler.bind(this) : noop\r\n    },\r\n    _listContentReadyHandler: function() {\r\n        this.callBase(...arguments);\r\n        this._refreshSelected()\r\n    },\r\n    _setFocusPolicy: function() {\r\n        if (!this.option(\"focusStateEnabled\")) {\r\n            return\r\n        }\r\n        if (this.option(\"searchEnabled\")) {\r\n            this._searchBox.focus()\r\n        } else {\r\n            eventsEngine.trigger(this._$list, \"focus\")\r\n        }\r\n    },\r\n    _focusTarget: function() {\r\n        return this._$field\r\n    },\r\n    _keyboardEventBindingTarget: function() {\r\n        return this._$field\r\n    },\r\n    _listItemClickHandler: function(e) {\r\n        this._saveValueChangeEvent(e.event);\r\n        this._selectListItem(e.itemData, e.event.currentTarget)\r\n    },\r\n    _selectListItem: function(itemData, target) {\r\n        this._list.selectItem(target);\r\n        if (\"instantly\" === this.option(\"applyValueMode\")) {\r\n            this._applyButtonHandler()\r\n        }\r\n    },\r\n    _currentSelectedItem: function() {\r\n        return this.option(\"grouped\") ? this._list.option(\"selectedItems[0]\").items[0] : this._list.option(\"selectedItems[0]\")\r\n    },\r\n    _resetValue: function(e) {\r\n        this._saveValueChangeEvent(e.event);\r\n        this.option(\"value\", null);\r\n        this.option(\"opened\", false)\r\n    },\r\n    _searchValue: function() {\r\n        return this.option(\"searchEnabled\") && this._searchBox ? this._searchBox.option(\"value\") : \"\"\r\n    },\r\n    _renderInputValue: function() {\r\n        return this.callBase().always(() => {\r\n            this._refreshSelected()\r\n        })\r\n    },\r\n    _renderPlaceholder: function() {\r\n        if (0 === this.$element().find(\".\" + TEXTEDITOR_INPUT_CLASS).length) {\r\n            return\r\n        }\r\n        this.callBase()\r\n    },\r\n    _clean: function() {\r\n        this._$fieldWrapper.remove();\r\n        this._$searchBox = null;\r\n        delete this._inkRipple;\r\n        this.callBase()\r\n    },\r\n    _setDeprecatedOptions: function() {\r\n        this.callBase();\r\n        extend(this._deprecatedOptions, {\r\n            title: {\r\n                since: \"20.1\",\r\n                alias: \"dropDownOptions.title\"\r\n            },\r\n            titleTemplate: {\r\n                since: \"20.1\",\r\n                alias: \"dropDownOptions.titleTemplate\"\r\n            },\r\n            onTitleRendered: {\r\n                since: \"20.1\",\r\n                alias: \"dropDownOptions.onTitleRendered\"\r\n            },\r\n            fullScreen: {\r\n                since: \"20.1\",\r\n                alias: \"dropDownOptions.fullScreen\"\r\n            },\r\n            popupWidth: {\r\n                since: \"20.1\",\r\n                alias: \"dropDownOptions.width\"\r\n            },\r\n            popupHeight: {\r\n                since: \"20.1\",\r\n                alias: \"dropDownOptions.height\"\r\n            },\r\n            shading: {\r\n                since: \"20.1\",\r\n                alias: \"dropDownOptions.shading\"\r\n            },\r\n            closeOnOutsideClick: {\r\n                since: \"20.1\",\r\n                alias: \"dropDownOptions.closeOnOutsideClick\"\r\n            },\r\n            position: {\r\n                since: \"20.1\",\r\n                alias: \"dropDownOptions.position\"\r\n            },\r\n            animation: {\r\n                since: \"20.1\",\r\n                alias: \"dropDownOptions.animation\"\r\n            }\r\n        })\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        var value = args.value;\r\n        switch (name) {\r\n            case \"dataSource\":\r\n                this.callBase(...arguments);\r\n                this._renderField();\r\n                break;\r\n            case \"searchEnabled\":\r\n                if (this._popup) {\r\n                    this._removeSearch();\r\n                    this._renderSearch()\r\n                }\r\n                break;\r\n            case \"searchPlaceholder\":\r\n                this._setSearchPlaceholder();\r\n                break;\r\n            case \"minSearchLength\":\r\n                this._setSearchPlaceholder();\r\n                this.callBase(...arguments);\r\n                break;\r\n            case \"title\":\r\n            case \"titleTemplate\":\r\n            case \"onTitleRendered\":\r\n            case \"shading\":\r\n            case \"animation\":\r\n            case \"position\":\r\n            case \"closeOnOutsideClick\":\r\n            case \"fullScreen\":\r\n                this._setPopupOption(name, value);\r\n                break;\r\n            case \"usePopover\":\r\n            case \"placeholder\":\r\n                this._invalidate();\r\n                break;\r\n            case \"clearButtonText\":\r\n            case \"showClearButton\":\r\n            case \"showCancelButton\":\r\n                this._setPopupOption(\"toolbarItems\", this._getPopupToolbarItems());\r\n                break;\r\n            case \"applyValueMode\":\r\n                this.callBase(...arguments);\r\n                break;\r\n            case \"popupWidth\":\r\n                this._setPopupOption(\"width\", \"auto\" === value ? this.initialOption(\"dropDownOptions\").width : value);\r\n                break;\r\n            case \"popupHeight\":\r\n                this._setPopupOption(\"height\", \"auto\" === value ? this.initialOption(\"dropDownOptions\").height : value);\r\n                break;\r\n            case \"onPageLoading\":\r\n                this._initPageLoadingAction();\r\n                break;\r\n            case \"onPullRefresh\":\r\n                this._initPullRefreshAction();\r\n                break;\r\n            case \"pullRefreshEnabled\":\r\n            case \"useNativeScrolling\":\r\n            case \"pullingDownText\":\r\n            case \"pulledDownText\":\r\n            case \"refreshingText\":\r\n            case \"pageLoadingText\":\r\n            case \"nextButtonText\":\r\n            case \"grouped\":\r\n            case \"groupTemplate\":\r\n                this._setListOption(name);\r\n                break;\r\n            case \"onScroll\":\r\n                this._initScrollAction();\r\n                break;\r\n            case \"pageLoadMode\":\r\n                this._setListOption(\"pageLoadMode\", this.option(\"pageLoadMode\"));\r\n                break;\r\n            case \"cleanSearchOnOpening\":\r\n            case \"_scrollToSelectedItemEnabled\":\r\n                break;\r\n            case \"dropDownCentered\":\r\n                if (this.option(\"_scrollToSelectedItemEnabled\")) {\r\n                    this.option(\"dropDownOptions.position\", void 0);\r\n                    this._renderPopup()\r\n                }\r\n                break;\r\n            default:\r\n                this.callBase(...arguments)\r\n        }\r\n    },\r\n    focus: function() {\r\n        this.option(\"opened\") ? this._setFocusPolicy() : eventsEngine.trigger(this._focusTarget(), \"focus\")\r\n    },\r\n    field: function() {\r\n        return this._$field\r\n    }\r\n});\r\nregisterComponent(\"dxLookup\", Lookup);\r\nexport default Lookup;\r\n"]},"metadata":{},"sourceType":"module"}