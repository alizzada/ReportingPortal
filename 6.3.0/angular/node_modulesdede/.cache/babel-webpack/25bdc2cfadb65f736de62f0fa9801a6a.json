{"ast":null,"code":"import _classCallCheck from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\n/**\r\n * DevExtreme (esm/ui/box.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../core/renderer\";\nimport eventsEngine from \"../events/core/events_engine\";\nimport registerComponent from \"../core/component_registrator\";\nimport { extend } from \"../core/utils/extend\";\nimport { noop } from \"../core/utils/common\";\nimport { hasWindow } from \"../core/utils/window\";\nimport { dasherize } from \"../core/utils/inflector\";\nimport { isDefined } from \"../core/utils/type\";\nimport { normalizeStyleProp, styleProp, stylePropPrefix } from \"../core/utils/style\";\nimport { each } from \"../core/utils/iterator\";\nimport browser from \"../core/utils/browser\";\nimport CollectionWidgetItem from \"./collection/item\";\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\nvar BOX_CLASS = \"dx-box\";\nvar BOX_SELECTOR = \".dx-box\";\nvar BOX_ITEM_CLASS = \"dx-box-item\";\nvar BOX_ITEM_DATA_KEY = \"dxBoxItemData\";\nvar MINSIZE_MAP = {\n  row: \"minWidth\",\n  col: \"minHeight\"\n};\nvar MAXSIZE_MAP = {\n  row: \"maxWidth\",\n  col: \"maxHeight\"\n};\nvar SHRINK = 1;\nvar FLEX_JUSTIFY_CONTENT_MAP = {\n  start: \"flex-start\",\n  end: \"flex-end\",\n  center: \"center\",\n  \"space-between\": \"space-between\",\n  \"space-around\": \"space-around\"\n};\nvar FLEX_ALIGN_ITEMS_MAP = {\n  start: \"flex-start\",\n  end: \"flex-end\",\n  center: \"center\",\n  stretch: \"stretch\"\n};\nvar FLEX_DIRECTION_MAP = {\n  row: \"row\",\n  col: \"column\"\n};\n\nvar setFlexProp = function setFlexProp(element, prop, value) {\n  value = normalizeStyleProp(prop, value);\n  element.style[styleProp(prop)] = value;\n\n  if (!hasWindow()) {\n    if (\"\" === value || !isDefined(value)) {\n      return;\n    }\n\n    var cssName = dasherize(prop);\n    var styleExpr = cssName + \": \" + value + \";\";\n\n    if (!element.attributes.style) {\n      element.setAttribute(\"style\", styleExpr);\n    } else if (element.attributes.style.value.indexOf(styleExpr) < 0) {\n      element.attributes.style.value += \" \" + styleExpr;\n    }\n  }\n};\n\nvar BOX_EVENTNAMESPACE = \"dxBox\";\nvar UPDATE_EVENT = \"dxupdate.\" + BOX_EVENTNAMESPACE;\nvar FALLBACK_BOX_ITEM = \"dx-box-fallback-item\";\nvar FALLBACK_WRAP_MAP = {\n  row: \"nowrap\",\n  col: \"normal\"\n};\nvar FALLBACK_MAIN_SIZE_MAP = {\n  row: \"width\",\n  col: \"height\"\n};\nvar FALLBACK_CROSS_SIZE_MAP = {\n  row: \"height\",\n  col: \"width\"\n};\nvar FALLBACK_PRE_MARGIN_MAP = {\n  row: \"marginLeft\",\n  col: \"marginTop\"\n};\nvar FALLBACK_POST_MARGIN_MAP = {\n  row: \"marginRight\",\n  col: \"marginBottom\"\n};\nvar FALLBACK_CROSS_PRE_MARGIN_MAP = {\n  row: \"marginTop\",\n  col: \"marginLeft\"\n};\nvar FALLBACK_CROSS_POST_MARGIN_MAP = {\n  row: \"marginBottom\",\n  col: \"marginRight\"\n};\nvar MARGINS_RTL_FLIP_MAP = {\n  marginLeft: \"marginRight\",\n  marginRight: \"marginLeft\"\n};\n\nvar BoxItem = /*#__PURE__*/function (_CollectionWidgetItem) {\n  _inherits(BoxItem, _CollectionWidgetItem);\n\n  var _super = _createSuper(BoxItem);\n\n  function BoxItem() {\n    _classCallCheck(this, BoxItem);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(BoxItem, [{\n    key: \"_renderVisible\",\n    value: function _renderVisible(value, oldValue) {\n      _get(_getPrototypeOf(BoxItem.prototype), \"_renderVisible\", this).call(this, value);\n\n      if (isDefined(oldValue)) {\n        this._options.fireItemStateChangedAction({\n          name: \"visible\",\n          state: value,\n          oldState: oldValue\n        });\n      }\n    }\n  }]);\n\n  return BoxItem;\n}(CollectionWidgetItem);\n\nvar FlexLayoutStrategy = /*#__PURE__*/function () {\n  function FlexLayoutStrategy($element, option) {\n    _classCallCheck(this, FlexLayoutStrategy);\n\n    this._$element = $element;\n    this._option = option;\n    this.initSize = noop;\n    this.update = noop;\n  }\n\n  _createClass(FlexLayoutStrategy, [{\n    key: \"renderBox\",\n    value: function renderBox() {\n      this._$element.css({\n        display: stylePropPrefix(\"flexDirection\") + \"flex\"\n      });\n\n      setFlexProp(this._$element.get(0), \"flexDirection\", FLEX_DIRECTION_MAP[this._option(\"direction\")]);\n    }\n  }, {\n    key: \"renderAlign\",\n    value: function renderAlign() {\n      this._$element.css({\n        justifyContent: this._normalizedAlign()\n      });\n    }\n  }, {\n    key: \"_normalizedAlign\",\n    value: function _normalizedAlign() {\n      var align = this._option(\"align\");\n\n      return align in FLEX_JUSTIFY_CONTENT_MAP ? FLEX_JUSTIFY_CONTENT_MAP[align] : align;\n    }\n  }, {\n    key: \"renderCrossAlign\",\n    value: function renderCrossAlign() {\n      this._$element.css({\n        alignItems: this._normalizedCrossAlign()\n      });\n    }\n  }, {\n    key: \"_normalizedCrossAlign\",\n    value: function _normalizedCrossAlign() {\n      var crossAlign = this._option(\"crossAlign\");\n\n      return crossAlign in FLEX_ALIGN_ITEMS_MAP ? FLEX_ALIGN_ITEMS_MAP[crossAlign] : crossAlign;\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems($items) {\n      var flexPropPrefix = stylePropPrefix(\"flexDirection\");\n\n      var direction = this._option(\"direction\");\n\n      each($items, function () {\n        var $item = $(this);\n        var item = $item.data(BOX_ITEM_DATA_KEY);\n        $item.css({\n          display: flexPropPrefix + \"flex\"\n        }).css(MAXSIZE_MAP[direction], item.maxSize || \"none\").css(MINSIZE_MAP[direction], item.minSize || \"0\");\n        setFlexProp($item.get(0), \"flexBasis\", item.baseSize || 0);\n        setFlexProp($item.get(0), \"flexGrow\", item.ratio);\n        setFlexProp($item.get(0), \"flexShrink\", isDefined(item.shrink) ? item.shrink : SHRINK);\n        $item.children().each(function (_, itemContent) {\n          $(itemContent).css({\n            width: \"auto\",\n            height: \"auto\",\n            display: stylePropPrefix(\"flexDirection\") + \"flex\",\n            flexBasis: 0\n          });\n          setFlexProp(itemContent, \"flexGrow\", 1);\n          setFlexProp(itemContent, \"flexDirection\", $(itemContent)[0].style.flexDirection || \"column\");\n        });\n      });\n    }\n  }]);\n\n  return FlexLayoutStrategy;\n}();\n\nvar FallbackLayoutStrategy = /*#__PURE__*/function () {\n  function FallbackLayoutStrategy($element, option) {\n    _classCallCheck(this, FallbackLayoutStrategy);\n\n    this._$element = $element;\n    this._option = option;\n  }\n\n  _createClass(FallbackLayoutStrategy, [{\n    key: \"renderBox\",\n    value: function renderBox() {\n      this._$element.css({\n        fontSize: 0,\n        whiteSpace: FALLBACK_WRAP_MAP[this._option(\"direction\")],\n        verticalAlign: \"top\"\n      });\n\n      eventsEngine.off(this._$element, UPDATE_EVENT);\n      eventsEngine.on(this._$element, UPDATE_EVENT, this.update.bind(this));\n    }\n  }, {\n    key: \"renderAlign\",\n    value: function renderAlign() {\n      var $items = this._$items;\n\n      if (!$items) {\n        return;\n      }\n\n      var align = this._option(\"align\");\n\n      var totalItemSize = this.totalItemSize;\n\n      var direction = this._option(\"direction\");\n\n      var boxSize = this._$element[FALLBACK_MAIN_SIZE_MAP[direction]]();\n\n      var freeSpace = boxSize - totalItemSize;\n      var shift = 0;\n\n      this._setItemsMargins($items, direction, 0);\n\n      switch (align) {\n        case \"start\":\n          break;\n\n        case \"end\":\n          shift = freeSpace;\n          $items.first().css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), shift);\n          break;\n\n        case \"center\":\n          shift = .5 * freeSpace;\n          $items.first().css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), shift);\n          $items.last().css(this._chooseMarginSide(FALLBACK_POST_MARGIN_MAP[direction]), shift);\n          break;\n\n        case \"space-between\":\n          shift = .5 * freeSpace / ($items.length - 1);\n\n          this._setItemsMargins($items, direction, shift);\n\n          $items.first().css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), 0);\n          $items.last().css(this._chooseMarginSide(FALLBACK_POST_MARGIN_MAP[direction]), 0);\n          break;\n\n        case \"space-around\":\n          shift = .5 * freeSpace / $items.length;\n\n          this._setItemsMargins($items, direction, shift);\n\n      }\n    }\n  }, {\n    key: \"_setItemsMargins\",\n    value: function _setItemsMargins($items, direction, shift) {\n      $items.css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), shift).css(this._chooseMarginSide(FALLBACK_POST_MARGIN_MAP[direction]), shift);\n    }\n  }, {\n    key: \"renderCrossAlign\",\n    value: function renderCrossAlign() {\n      var $items = this._$items;\n\n      if (!$items) {\n        return;\n      }\n\n      var crossAlign = this._option(\"crossAlign\");\n\n      var direction = this._option(\"direction\");\n\n      var size = this._$element[FALLBACK_CROSS_SIZE_MAP[direction]]();\n\n      var that = this;\n\n      switch (crossAlign) {\n        case \"start\":\n          break;\n\n        case \"end\":\n          each($items, function () {\n            var $item = $(this);\n            var itemSize = $item[FALLBACK_CROSS_SIZE_MAP[direction]]();\n            var shift = size - itemSize;\n            $item.css(that._chooseMarginSide(FALLBACK_CROSS_PRE_MARGIN_MAP[direction]), shift);\n          });\n          break;\n\n        case \"center\":\n          each($items, function () {\n            var $item = $(this);\n            var itemSize = $item[FALLBACK_CROSS_SIZE_MAP[direction]]();\n            var shift = .5 * (size - itemSize);\n            $item.css(that._chooseMarginSide(FALLBACK_CROSS_PRE_MARGIN_MAP[direction]), shift).css(that._chooseMarginSide(FALLBACK_CROSS_POST_MARGIN_MAP[direction]), shift);\n          });\n          break;\n\n        case \"stretch\":\n          $items.css(that._chooseMarginSide(FALLBACK_CROSS_PRE_MARGIN_MAP[direction]), 0).css(that._chooseMarginSide(FALLBACK_CROSS_POST_MARGIN_MAP[direction]), 0).css(FALLBACK_CROSS_SIZE_MAP[direction], \"100%\");\n      }\n    }\n  }, {\n    key: \"_chooseMarginSide\",\n    value: function _chooseMarginSide(value) {\n      if (!this._option(\"rtlEnabled\")) {\n        return value;\n      }\n\n      return MARGINS_RTL_FLIP_MAP[value] || value;\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems($items) {\n      var _this = this;\n\n      this._$items = $items;\n\n      var direction = this._option(\"direction\");\n\n      var totalRatio = 0;\n      var totalWeightedShrink = 0;\n      var totalBaseSize = 0;\n      each($items, function (_, item) {\n        var $item = $(item);\n        $item.css({\n          display: \"inline-block\",\n          verticalAlign: \"top\"\n        });\n        $item[FALLBACK_MAIN_SIZE_MAP[direction]](\"auto\");\n        $item.removeClass(FALLBACK_BOX_ITEM);\n        var itemData = $item.data(BOX_ITEM_DATA_KEY);\n        var ratio = itemData.ratio || 0;\n\n        var size = _this._baseSize($item);\n\n        var shrink = isDefined(itemData.shrink) ? itemData.shrink : SHRINK;\n        totalRatio += ratio;\n        totalWeightedShrink += shrink * size;\n        totalBaseSize += size;\n      });\n      var freeSpaceSize = this._boxSize() - totalBaseSize;\n\n      var itemSize = function itemSize($item) {\n        var itemData = $item.data(BOX_ITEM_DATA_KEY);\n\n        var size = _this._baseSize($item);\n\n        var factor = freeSpaceSize >= 0 ? itemData.ratio || 0 : (isDefined(itemData.shrink) ? itemData.shrink : SHRINK) * size;\n        var totalFactor = freeSpaceSize >= 0 ? totalRatio : totalWeightedShrink;\n        var shift = totalFactor ? Math.round(freeSpaceSize * factor / totalFactor) : 0;\n        return size + shift;\n      };\n\n      var totalItemSize = 0;\n      each($items, function (_, item) {\n        var $item = $(item);\n        var itemData = $(item).data(BOX_ITEM_DATA_KEY);\n        var size = itemSize($item);\n        totalItemSize += size;\n        $item.css(MAXSIZE_MAP[direction], itemData.maxSize || \"none\").css(MINSIZE_MAP[direction], itemData.minSize || \"0\").css(FALLBACK_MAIN_SIZE_MAP[direction], size);\n        $item.addClass(FALLBACK_BOX_ITEM);\n      });\n      this.totalItemSize = totalItemSize;\n    }\n  }, {\n    key: \"_baseSize\",\n    value: function _baseSize(item) {\n      var itemData = $(item).data(BOX_ITEM_DATA_KEY);\n      return null == itemData.baseSize ? 0 : \"auto\" === itemData.baseSize ? this._contentSize(item) : this._parseSize(itemData.baseSize);\n    }\n  }, {\n    key: \"_contentSize\",\n    value: function _contentSize(item) {\n      return $(item)[FALLBACK_MAIN_SIZE_MAP[this._option(\"direction\")]]();\n    }\n  }, {\n    key: \"_parseSize\",\n    value: function _parseSize(size) {\n      return String(size).match(/.+%$/) ? .01 * parseFloat(size) * this._boxSizeValue : size;\n    }\n  }, {\n    key: \"_boxSize\",\n    value: function _boxSize(value) {\n      if (!arguments.length) {\n        this._boxSizeValue = this._boxSizeValue || this._totalBaseSize();\n        return this._boxSizeValue;\n      }\n\n      this._boxSizeValue = value;\n    }\n  }, {\n    key: \"_totalBaseSize\",\n    value: function _totalBaseSize() {\n      var _this2 = this;\n\n      var result = 0;\n      each(this._$items, function (_, item) {\n        result += _this2._baseSize(item);\n      });\n      return result;\n    }\n  }, {\n    key: \"initSize\",\n    value: function initSize() {\n      this._boxSize(this._$element[FALLBACK_MAIN_SIZE_MAP[this._option(\"direction\")]]());\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (!this._$items || this._$element.is(\":hidden\")) {\n        return;\n      }\n\n      this._$items.detach();\n\n      this.initSize();\n\n      this._$element.append(this._$items);\n\n      this.renderItems(this._$items);\n      this.renderAlign();\n      this.renderCrossAlign();\n\n      var element = this._$element.get(0);\n\n      this._$items.find(BOX_SELECTOR).each(function () {\n        if (element === $(this).parent().closest(BOX_SELECTOR).get(0)) {\n          eventsEngine.triggerHandler(this, UPDATE_EVENT);\n        }\n      });\n    }\n  }]);\n\n  return FallbackLayoutStrategy;\n}();\n\nvar Box = /*#__PURE__*/function (_CollectionWidget) {\n  _inherits(Box, _CollectionWidget);\n\n  var _super2 = _createSuper(Box);\n\n  function Box() {\n    _classCallCheck(this, Box);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(Box, [{\n    key: \"_getDefaultOptions\",\n    value: function _getDefaultOptions() {\n      return extend(_get(_getPrototypeOf(Box.prototype), \"_getDefaultOptions\", this).call(this), {\n        direction: \"row\",\n        align: \"start\",\n        crossAlign: \"stretch\",\n        activeStateEnabled: false,\n        focusStateEnabled: false,\n        onItemStateChanged: void 0,\n        _layoutStrategy: \"flex\",\n        _queue: void 0\n      });\n    }\n  }, {\n    key: \"_defaultOptionsRules\",\n    value: function _defaultOptionsRules() {\n      return _get(_getPrototypeOf(Box.prototype), \"_defaultOptionsRules\", this).call(this).concat([{\n        device: function device() {\n          return browser.msie;\n        },\n        options: {\n          _layoutStrategy: \"fallback\"\n        }\n      }]);\n    }\n  }, {\n    key: \"_itemClass\",\n    value: function _itemClass() {\n      return BOX_ITEM_CLASS;\n    }\n  }, {\n    key: \"_itemDataKey\",\n    value: function _itemDataKey() {\n      return BOX_ITEM_DATA_KEY;\n    }\n  }, {\n    key: \"_itemElements\",\n    value: function _itemElements() {\n      return this._itemContainer().children(this._itemSelector());\n    }\n  }, {\n    key: \"_init\",\n    value: function _init() {\n      _get(_getPrototypeOf(Box.prototype), \"_init\", this).call(this);\n\n      this.$element().addClass(\"\".concat(BOX_CLASS, \"-\").concat(this.option(\"_layoutStrategy\")));\n\n      this._initLayout();\n\n      this._initBoxQueue();\n    }\n  }, {\n    key: \"_initLayout\",\n    value: function _initLayout() {\n      this._layout = \"fallback\" === this.option(\"_layoutStrategy\") ? new FallbackLayoutStrategy(this.$element(), this.option.bind(this)) : new FlexLayoutStrategy(this.$element(), this.option.bind(this));\n    }\n  }, {\n    key: \"_initBoxQueue\",\n    value: function _initBoxQueue() {\n      this._queue = this.option(\"_queue\") || [];\n    }\n  }, {\n    key: \"_queueIsNotEmpty\",\n    value: function _queueIsNotEmpty() {\n      return this.option(\"_queue\") ? false : !!this._queue.length;\n    }\n  }, {\n    key: \"_pushItemToQueue\",\n    value: function _pushItemToQueue($item, config) {\n      this._queue.push({\n        $item: $item,\n        config: config\n      });\n    }\n  }, {\n    key: \"_shiftItemFromQueue\",\n    value: function _shiftItemFromQueue() {\n      return this._queue.shift();\n    }\n  }, {\n    key: \"_initMarkup\",\n    value: function _initMarkup() {\n      this.$element().addClass(BOX_CLASS);\n\n      this._layout.renderBox();\n\n      _get(_getPrototypeOf(Box.prototype), \"_initMarkup\", this).call(this);\n\n      this._renderAlign();\n\n      this._renderActions();\n    }\n  }, {\n    key: \"_renderActions\",\n    value: function _renderActions() {\n      this._onItemStateChanged = this._createActionByOption(\"onItemStateChanged\");\n    }\n  }, {\n    key: \"_renderAlign\",\n    value: function _renderAlign() {\n      this._layout.renderAlign();\n\n      this._layout.renderCrossAlign();\n    }\n  }, {\n    key: \"_renderItems\",\n    value: function _renderItems(items) {\n      var _this3 = this;\n\n      this._layout.initSize();\n\n      _get(_getPrototypeOf(Box.prototype), \"_renderItems\", this).call(this, items);\n\n      while (this._queueIsNotEmpty()) {\n        var item = this._shiftItemFromQueue();\n\n        this._createComponent(item.$item, Box, extend({\n          _layoutStrategy: this.option(\"_layoutStrategy\"),\n          itemTemplate: this.option(\"itemTemplate\"),\n          itemHoldTimeout: this.option(\"itemHoldTimeout\"),\n          onItemHold: this.option(\"onItemHold\"),\n          onItemClick: this.option(\"onItemClick\"),\n          onItemContextMenu: this.option(\"onItemContextMenu\"),\n          onItemRendered: this.option(\"onItemRendered\"),\n          _queue: this._queue\n        }, item.config));\n      }\n\n      this._layout.renderItems(this._itemElements());\n\n      clearTimeout(this._updateTimer);\n      this._updateTimer = setTimeout(function () {\n        if (!_this3._isUpdated) {\n          _this3._layout.update();\n        }\n\n        _this3._isUpdated = false;\n        _this3._updateTimer = null;\n      });\n    }\n  }, {\n    key: \"_renderItemContent\",\n    value: function _renderItemContent(args) {\n      var $itemNode = args.itemData && args.itemData.node;\n\n      if ($itemNode) {\n        return this._renderItemContentByNode(args, $itemNode);\n      }\n\n      return _get(_getPrototypeOf(Box.prototype), \"_renderItemContent\", this).call(this, args);\n    }\n  }, {\n    key: \"_postprocessRenderItem\",\n    value: function _postprocessRenderItem(args) {\n      var boxConfig = args.itemData.box;\n\n      if (!boxConfig) {\n        return;\n      }\n\n      this._pushItemToQueue(args.itemContent, boxConfig);\n    }\n  }, {\n    key: \"_createItemByTemplate\",\n    value: function _createItemByTemplate(itemTemplate, args) {\n      if (args.itemData.box) {\n        return itemTemplate.source ? itemTemplate.source() : $();\n      }\n\n      return _get(_getPrototypeOf(Box.prototype), \"_createItemByTemplate\", this).call(this, itemTemplate, args);\n    }\n  }, {\n    key: \"_visibilityChanged\",\n    value: function _visibilityChanged(visible) {\n      if (visible) {\n        this._dimensionChanged();\n      }\n    }\n  }, {\n    key: \"_dimensionChanged\",\n    value: function _dimensionChanged() {\n      if (this._updateTimer) {\n        return;\n      }\n\n      this._isUpdated = true;\n\n      this._layout.update();\n    }\n  }, {\n    key: \"_dispose\",\n    value: function _dispose() {\n      clearTimeout(this._updateTimer);\n\n      _get(_getPrototypeOf(Box.prototype), \"_dispose\", this).apply(this, arguments);\n    }\n  }, {\n    key: \"_itemOptionChanged\",\n    value: function _itemOptionChanged(item, property, value, oldValue) {\n      if (\"visible\" === property) {\n        this._onItemStateChanged({\n          name: property,\n          state: value,\n          oldState: false !== oldValue\n        });\n      }\n\n      _get(_getPrototypeOf(Box.prototype), \"_itemOptionChanged\", this).call(this, item, property, value);\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function _optionChanged(args) {\n      switch (args.name) {\n        case \"_layoutStrategy\":\n        case \"_queue\":\n        case \"direction\":\n          this._invalidate();\n\n          break;\n\n        case \"align\":\n          this._layout.renderAlign();\n\n          break;\n\n        case \"crossAlign\":\n          this._layout.renderCrossAlign();\n\n          break;\n\n        default:\n          _get(_getPrototypeOf(Box.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }, {\n    key: \"_itemOptions\",\n    value: function _itemOptions() {\n      var _this4 = this;\n\n      var options = _get(_getPrototypeOf(Box.prototype), \"_itemOptions\", this).call(this);\n\n      options.fireItemStateChangedAction = function (e) {\n        _this4._onItemStateChanged(e);\n      };\n\n      return options;\n    }\n  }, {\n    key: \"repaint\",\n    value: function repaint() {\n      this._dimensionChanged();\n    }\n  }]);\n\n  return Box;\n}(CollectionWidget);\n\nBox.ItemClass = BoxItem;\nregisterComponent(\"dxBox\", Box);\nexport default Box;","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/ui/box.js"],"names":["$","eventsEngine","registerComponent","extend","noop","hasWindow","dasherize","isDefined","normalizeStyleProp","styleProp","stylePropPrefix","each","browser","CollectionWidgetItem","CollectionWidget","BOX_CLASS","BOX_SELECTOR","BOX_ITEM_CLASS","BOX_ITEM_DATA_KEY","MINSIZE_MAP","row","col","MAXSIZE_MAP","SHRINK","FLEX_JUSTIFY_CONTENT_MAP","start","end","center","FLEX_ALIGN_ITEMS_MAP","stretch","FLEX_DIRECTION_MAP","setFlexProp","element","prop","value","style","cssName","styleExpr","attributes","setAttribute","indexOf","BOX_EVENTNAMESPACE","UPDATE_EVENT","FALLBACK_BOX_ITEM","FALLBACK_WRAP_MAP","FALLBACK_MAIN_SIZE_MAP","FALLBACK_CROSS_SIZE_MAP","FALLBACK_PRE_MARGIN_MAP","FALLBACK_POST_MARGIN_MAP","FALLBACK_CROSS_PRE_MARGIN_MAP","FALLBACK_CROSS_POST_MARGIN_MAP","MARGINS_RTL_FLIP_MAP","marginLeft","marginRight","BoxItem","oldValue","_options","fireItemStateChangedAction","name","state","oldState","FlexLayoutStrategy","$element","option","_$element","_option","initSize","update","css","display","get","justifyContent","_normalizedAlign","align","alignItems","_normalizedCrossAlign","crossAlign","$items","flexPropPrefix","direction","$item","item","data","maxSize","minSize","baseSize","ratio","shrink","children","_","itemContent","width","height","flexBasis","flexDirection","FallbackLayoutStrategy","fontSize","whiteSpace","verticalAlign","off","on","bind","_$items","totalItemSize","boxSize","freeSpace","shift","_setItemsMargins","first","_chooseMarginSide","last","length","size","that","itemSize","totalRatio","totalWeightedShrink","totalBaseSize","removeClass","itemData","_baseSize","freeSpaceSize","_boxSize","factor","totalFactor","Math","round","addClass","_contentSize","_parseSize","String","match","parseFloat","_boxSizeValue","arguments","_totalBaseSize","result","is","detach","append","renderItems","renderAlign","renderCrossAlign","find","parent","closest","triggerHandler","Box","activeStateEnabled","focusStateEnabled","onItemStateChanged","_layoutStrategy","_queue","concat","device","msie","options","_itemContainer","_itemSelector","_initLayout","_initBoxQueue","_layout","config","push","renderBox","_renderAlign","_renderActions","_onItemStateChanged","_createActionByOption","items","_queueIsNotEmpty","_shiftItemFromQueue","_createComponent","itemTemplate","itemHoldTimeout","onItemHold","onItemClick","onItemContextMenu","onItemRendered","_itemElements","clearTimeout","_updateTimer","setTimeout","_isUpdated","args","$itemNode","node","_renderItemContentByNode","boxConfig","box","_pushItemToQueue","source","visible","_dimensionChanged","apply","property","_invalidate","e","ItemClass"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/box.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    noop\r\n} from \"../core/utils/common\";\r\nimport {\r\n    hasWindow\r\n} from \"../core/utils/window\";\r\nimport {\r\n    dasherize\r\n} from \"../core/utils/inflector\";\r\nimport {\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport {\r\n    normalizeStyleProp,\r\n    styleProp,\r\n    stylePropPrefix\r\n} from \"../core/utils/style\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport browser from \"../core/utils/browser\";\r\nimport CollectionWidgetItem from \"./collection/item\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\r\nvar BOX_CLASS = \"dx-box\";\r\nvar BOX_SELECTOR = \".dx-box\";\r\nvar BOX_ITEM_CLASS = \"dx-box-item\";\r\nvar BOX_ITEM_DATA_KEY = \"dxBoxItemData\";\r\nvar MINSIZE_MAP = {\r\n    row: \"minWidth\",\r\n    col: \"minHeight\"\r\n};\r\nvar MAXSIZE_MAP = {\r\n    row: \"maxWidth\",\r\n    col: \"maxHeight\"\r\n};\r\nvar SHRINK = 1;\r\nvar FLEX_JUSTIFY_CONTENT_MAP = {\r\n    start: \"flex-start\",\r\n    end: \"flex-end\",\r\n    center: \"center\",\r\n    \"space-between\": \"space-between\",\r\n    \"space-around\": \"space-around\"\r\n};\r\nvar FLEX_ALIGN_ITEMS_MAP = {\r\n    start: \"flex-start\",\r\n    end: \"flex-end\",\r\n    center: \"center\",\r\n    stretch: \"stretch\"\r\n};\r\nvar FLEX_DIRECTION_MAP = {\r\n    row: \"row\",\r\n    col: \"column\"\r\n};\r\nvar setFlexProp = (element, prop, value) => {\r\n    value = normalizeStyleProp(prop, value);\r\n    element.style[styleProp(prop)] = value;\r\n    if (!hasWindow()) {\r\n        if (\"\" === value || !isDefined(value)) {\r\n            return\r\n        }\r\n        var cssName = dasherize(prop);\r\n        var styleExpr = cssName + \": \" + value + \";\";\r\n        if (!element.attributes.style) {\r\n            element.setAttribute(\"style\", styleExpr)\r\n        } else if (element.attributes.style.value.indexOf(styleExpr) < 0) {\r\n            element.attributes.style.value += \" \" + styleExpr\r\n        }\r\n    }\r\n};\r\nvar BOX_EVENTNAMESPACE = \"dxBox\";\r\nvar UPDATE_EVENT = \"dxupdate.\" + BOX_EVENTNAMESPACE;\r\nvar FALLBACK_BOX_ITEM = \"dx-box-fallback-item\";\r\nvar FALLBACK_WRAP_MAP = {\r\n    row: \"nowrap\",\r\n    col: \"normal\"\r\n};\r\nvar FALLBACK_MAIN_SIZE_MAP = {\r\n    row: \"width\",\r\n    col: \"height\"\r\n};\r\nvar FALLBACK_CROSS_SIZE_MAP = {\r\n    row: \"height\",\r\n    col: \"width\"\r\n};\r\nvar FALLBACK_PRE_MARGIN_MAP = {\r\n    row: \"marginLeft\",\r\n    col: \"marginTop\"\r\n};\r\nvar FALLBACK_POST_MARGIN_MAP = {\r\n    row: \"marginRight\",\r\n    col: \"marginBottom\"\r\n};\r\nvar FALLBACK_CROSS_PRE_MARGIN_MAP = {\r\n    row: \"marginTop\",\r\n    col: \"marginLeft\"\r\n};\r\nvar FALLBACK_CROSS_POST_MARGIN_MAP = {\r\n    row: \"marginBottom\",\r\n    col: \"marginRight\"\r\n};\r\nvar MARGINS_RTL_FLIP_MAP = {\r\n    marginLeft: \"marginRight\",\r\n    marginRight: \"marginLeft\"\r\n};\r\nclass BoxItem extends CollectionWidgetItem {\r\n    _renderVisible(value, oldValue) {\r\n        super._renderVisible(value);\r\n        if (isDefined(oldValue)) {\r\n            this._options.fireItemStateChangedAction({\r\n                name: \"visible\",\r\n                state: value,\r\n                oldState: oldValue\r\n            })\r\n        }\r\n    }\r\n}\r\nclass FlexLayoutStrategy {\r\n    constructor($element, option) {\r\n        this._$element = $element;\r\n        this._option = option;\r\n        this.initSize = noop;\r\n        this.update = noop\r\n    }\r\n    renderBox() {\r\n        this._$element.css({\r\n            display: stylePropPrefix(\"flexDirection\") + \"flex\"\r\n        });\r\n        setFlexProp(this._$element.get(0), \"flexDirection\", FLEX_DIRECTION_MAP[this._option(\"direction\")])\r\n    }\r\n    renderAlign() {\r\n        this._$element.css({\r\n            justifyContent: this._normalizedAlign()\r\n        })\r\n    }\r\n    _normalizedAlign() {\r\n        var align = this._option(\"align\");\r\n        return align in FLEX_JUSTIFY_CONTENT_MAP ? FLEX_JUSTIFY_CONTENT_MAP[align] : align\r\n    }\r\n    renderCrossAlign() {\r\n        this._$element.css({\r\n            alignItems: this._normalizedCrossAlign()\r\n        })\r\n    }\r\n    _normalizedCrossAlign() {\r\n        var crossAlign = this._option(\"crossAlign\");\r\n        return crossAlign in FLEX_ALIGN_ITEMS_MAP ? FLEX_ALIGN_ITEMS_MAP[crossAlign] : crossAlign\r\n    }\r\n    renderItems($items) {\r\n        var flexPropPrefix = stylePropPrefix(\"flexDirection\");\r\n        var direction = this._option(\"direction\");\r\n        each($items, (function() {\r\n            var $item = $(this);\r\n            var item = $item.data(BOX_ITEM_DATA_KEY);\r\n            $item.css({\r\n                display: flexPropPrefix + \"flex\"\r\n            }).css(MAXSIZE_MAP[direction], item.maxSize || \"none\").css(MINSIZE_MAP[direction], item.minSize || \"0\");\r\n            setFlexProp($item.get(0), \"flexBasis\", item.baseSize || 0);\r\n            setFlexProp($item.get(0), \"flexGrow\", item.ratio);\r\n            setFlexProp($item.get(0), \"flexShrink\", isDefined(item.shrink) ? item.shrink : SHRINK);\r\n            $item.children().each((_, itemContent) => {\r\n                $(itemContent).css({\r\n                    width: \"auto\",\r\n                    height: \"auto\",\r\n                    display: stylePropPrefix(\"flexDirection\") + \"flex\",\r\n                    flexBasis: 0\r\n                });\r\n                setFlexProp(itemContent, \"flexGrow\", 1);\r\n                setFlexProp(itemContent, \"flexDirection\", $(itemContent)[0].style.flexDirection || \"column\")\r\n            })\r\n        }))\r\n    }\r\n}\r\nclass FallbackLayoutStrategy {\r\n    constructor($element, option) {\r\n        this._$element = $element;\r\n        this._option = option\r\n    }\r\n    renderBox() {\r\n        this._$element.css({\r\n            fontSize: 0,\r\n            whiteSpace: FALLBACK_WRAP_MAP[this._option(\"direction\")],\r\n            verticalAlign: \"top\"\r\n        });\r\n        eventsEngine.off(this._$element, UPDATE_EVENT);\r\n        eventsEngine.on(this._$element, UPDATE_EVENT, this.update.bind(this))\r\n    }\r\n    renderAlign() {\r\n        var $items = this._$items;\r\n        if (!$items) {\r\n            return\r\n        }\r\n        var align = this._option(\"align\");\r\n        var totalItemSize = this.totalItemSize;\r\n        var direction = this._option(\"direction\");\r\n        var boxSize = this._$element[FALLBACK_MAIN_SIZE_MAP[direction]]();\r\n        var freeSpace = boxSize - totalItemSize;\r\n        var shift = 0;\r\n        this._setItemsMargins($items, direction, 0);\r\n        switch (align) {\r\n            case \"start\":\r\n                break;\r\n            case \"end\":\r\n                shift = freeSpace;\r\n                $items.first().css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), shift);\r\n                break;\r\n            case \"center\":\r\n                shift = .5 * freeSpace;\r\n                $items.first().css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), shift);\r\n                $items.last().css(this._chooseMarginSide(FALLBACK_POST_MARGIN_MAP[direction]), shift);\r\n                break;\r\n            case \"space-between\":\r\n                shift = .5 * freeSpace / ($items.length - 1);\r\n                this._setItemsMargins($items, direction, shift);\r\n                $items.first().css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), 0);\r\n                $items.last().css(this._chooseMarginSide(FALLBACK_POST_MARGIN_MAP[direction]), 0);\r\n                break;\r\n            case \"space-around\":\r\n                shift = .5 * freeSpace / $items.length;\r\n                this._setItemsMargins($items, direction, shift)\r\n        }\r\n    }\r\n    _setItemsMargins($items, direction, shift) {\r\n        $items.css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), shift).css(this._chooseMarginSide(FALLBACK_POST_MARGIN_MAP[direction]), shift)\r\n    }\r\n    renderCrossAlign() {\r\n        var $items = this._$items;\r\n        if (!$items) {\r\n            return\r\n        }\r\n        var crossAlign = this._option(\"crossAlign\");\r\n        var direction = this._option(\"direction\");\r\n        var size = this._$element[FALLBACK_CROSS_SIZE_MAP[direction]]();\r\n        var that = this;\r\n        switch (crossAlign) {\r\n            case \"start\":\r\n                break;\r\n            case \"end\":\r\n                each($items, (function() {\r\n                    var $item = $(this);\r\n                    var itemSize = $item[FALLBACK_CROSS_SIZE_MAP[direction]]();\r\n                    var shift = size - itemSize;\r\n                    $item.css(that._chooseMarginSide(FALLBACK_CROSS_PRE_MARGIN_MAP[direction]), shift)\r\n                }));\r\n                break;\r\n            case \"center\":\r\n                each($items, (function() {\r\n                    var $item = $(this);\r\n                    var itemSize = $item[FALLBACK_CROSS_SIZE_MAP[direction]]();\r\n                    var shift = .5 * (size - itemSize);\r\n                    $item.css(that._chooseMarginSide(FALLBACK_CROSS_PRE_MARGIN_MAP[direction]), shift).css(that._chooseMarginSide(FALLBACK_CROSS_POST_MARGIN_MAP[direction]), shift)\r\n                }));\r\n                break;\r\n            case \"stretch\":\r\n                $items.css(that._chooseMarginSide(FALLBACK_CROSS_PRE_MARGIN_MAP[direction]), 0).css(that._chooseMarginSide(FALLBACK_CROSS_POST_MARGIN_MAP[direction]), 0).css(FALLBACK_CROSS_SIZE_MAP[direction], \"100%\")\r\n        }\r\n    }\r\n    _chooseMarginSide(value) {\r\n        if (!this._option(\"rtlEnabled\")) {\r\n            return value\r\n        }\r\n        return MARGINS_RTL_FLIP_MAP[value] || value\r\n    }\r\n    renderItems($items) {\r\n        this._$items = $items;\r\n        var direction = this._option(\"direction\");\r\n        var totalRatio = 0;\r\n        var totalWeightedShrink = 0;\r\n        var totalBaseSize = 0;\r\n        each($items, (_, item) => {\r\n            var $item = $(item);\r\n            $item.css({\r\n                display: \"inline-block\",\r\n                verticalAlign: \"top\"\r\n            });\r\n            $item[FALLBACK_MAIN_SIZE_MAP[direction]](\"auto\");\r\n            $item.removeClass(FALLBACK_BOX_ITEM);\r\n            var itemData = $item.data(BOX_ITEM_DATA_KEY);\r\n            var ratio = itemData.ratio || 0;\r\n            var size = this._baseSize($item);\r\n            var shrink = isDefined(itemData.shrink) ? itemData.shrink : SHRINK;\r\n            totalRatio += ratio;\r\n            totalWeightedShrink += shrink * size;\r\n            totalBaseSize += size\r\n        });\r\n        var freeSpaceSize = this._boxSize() - totalBaseSize;\r\n        var itemSize = $item => {\r\n            var itemData = $item.data(BOX_ITEM_DATA_KEY);\r\n            var size = this._baseSize($item);\r\n            var factor = freeSpaceSize >= 0 ? itemData.ratio || 0 : (isDefined(itemData.shrink) ? itemData.shrink : SHRINK) * size;\r\n            var totalFactor = freeSpaceSize >= 0 ? totalRatio : totalWeightedShrink;\r\n            var shift = totalFactor ? Math.round(freeSpaceSize * factor / totalFactor) : 0;\r\n            return size + shift\r\n        };\r\n        var totalItemSize = 0;\r\n        each($items, (_, item) => {\r\n            var $item = $(item);\r\n            var itemData = $(item).data(BOX_ITEM_DATA_KEY);\r\n            var size = itemSize($item);\r\n            totalItemSize += size;\r\n            $item.css(MAXSIZE_MAP[direction], itemData.maxSize || \"none\").css(MINSIZE_MAP[direction], itemData.minSize || \"0\").css(FALLBACK_MAIN_SIZE_MAP[direction], size);\r\n            $item.addClass(FALLBACK_BOX_ITEM)\r\n        });\r\n        this.totalItemSize = totalItemSize\r\n    }\r\n    _baseSize(item) {\r\n        var itemData = $(item).data(BOX_ITEM_DATA_KEY);\r\n        return null == itemData.baseSize ? 0 : \"auto\" === itemData.baseSize ? this._contentSize(item) : this._parseSize(itemData.baseSize)\r\n    }\r\n    _contentSize(item) {\r\n        return $(item)[FALLBACK_MAIN_SIZE_MAP[this._option(\"direction\")]]()\r\n    }\r\n    _parseSize(size) {\r\n        return String(size).match(/.+%$/) ? .01 * parseFloat(size) * this._boxSizeValue : size\r\n    }\r\n    _boxSize(value) {\r\n        if (!arguments.length) {\r\n            this._boxSizeValue = this._boxSizeValue || this._totalBaseSize();\r\n            return this._boxSizeValue\r\n        }\r\n        this._boxSizeValue = value\r\n    }\r\n    _totalBaseSize() {\r\n        var result = 0;\r\n        each(this._$items, (_, item) => {\r\n            result += this._baseSize(item)\r\n        });\r\n        return result\r\n    }\r\n    initSize() {\r\n        this._boxSize(this._$element[FALLBACK_MAIN_SIZE_MAP[this._option(\"direction\")]]())\r\n    }\r\n    update() {\r\n        if (!this._$items || this._$element.is(\":hidden\")) {\r\n            return\r\n        }\r\n        this._$items.detach();\r\n        this.initSize();\r\n        this._$element.append(this._$items);\r\n        this.renderItems(this._$items);\r\n        this.renderAlign();\r\n        this.renderCrossAlign();\r\n        var element = this._$element.get(0);\r\n        this._$items.find(BOX_SELECTOR).each((function() {\r\n            if (element === $(this).parent().closest(BOX_SELECTOR).get(0)) {\r\n                eventsEngine.triggerHandler(this, UPDATE_EVENT)\r\n            }\r\n        }))\r\n    }\r\n}\r\nclass Box extends CollectionWidget {\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            direction: \"row\",\r\n            align: \"start\",\r\n            crossAlign: \"stretch\",\r\n            activeStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            onItemStateChanged: void 0,\r\n            _layoutStrategy: \"flex\",\r\n            _queue: void 0\r\n        })\r\n    }\r\n    _defaultOptionsRules() {\r\n        return super._defaultOptionsRules().concat([{\r\n            device: function() {\r\n                return browser.msie\r\n            },\r\n            options: {\r\n                _layoutStrategy: \"fallback\"\r\n            }\r\n        }])\r\n    }\r\n    _itemClass() {\r\n        return BOX_ITEM_CLASS\r\n    }\r\n    _itemDataKey() {\r\n        return BOX_ITEM_DATA_KEY\r\n    }\r\n    _itemElements() {\r\n        return this._itemContainer().children(this._itemSelector())\r\n    }\r\n    _init() {\r\n        super._init();\r\n        this.$element().addClass(\"\".concat(BOX_CLASS, \"-\").concat(this.option(\"_layoutStrategy\")));\r\n        this._initLayout();\r\n        this._initBoxQueue()\r\n    }\r\n    _initLayout() {\r\n        this._layout = \"fallback\" === this.option(\"_layoutStrategy\") ? new FallbackLayoutStrategy(this.$element(), this.option.bind(this)) : new FlexLayoutStrategy(this.$element(), this.option.bind(this))\r\n    }\r\n    _initBoxQueue() {\r\n        this._queue = this.option(\"_queue\") || []\r\n    }\r\n    _queueIsNotEmpty() {\r\n        return this.option(\"_queue\") ? false : !!this._queue.length\r\n    }\r\n    _pushItemToQueue($item, config) {\r\n        this._queue.push({\r\n            $item: $item,\r\n            config: config\r\n        })\r\n    }\r\n    _shiftItemFromQueue() {\r\n        return this._queue.shift()\r\n    }\r\n    _initMarkup() {\r\n        this.$element().addClass(BOX_CLASS);\r\n        this._layout.renderBox();\r\n        super._initMarkup();\r\n        this._renderAlign();\r\n        this._renderActions()\r\n    }\r\n    _renderActions() {\r\n        this._onItemStateChanged = this._createActionByOption(\"onItemStateChanged\")\r\n    }\r\n    _renderAlign() {\r\n        this._layout.renderAlign();\r\n        this._layout.renderCrossAlign()\r\n    }\r\n    _renderItems(items) {\r\n        this._layout.initSize();\r\n        super._renderItems(items);\r\n        while (this._queueIsNotEmpty()) {\r\n            var item = this._shiftItemFromQueue();\r\n            this._createComponent(item.$item, Box, extend({\r\n                _layoutStrategy: this.option(\"_layoutStrategy\"),\r\n                itemTemplate: this.option(\"itemTemplate\"),\r\n                itemHoldTimeout: this.option(\"itemHoldTimeout\"),\r\n                onItemHold: this.option(\"onItemHold\"),\r\n                onItemClick: this.option(\"onItemClick\"),\r\n                onItemContextMenu: this.option(\"onItemContextMenu\"),\r\n                onItemRendered: this.option(\"onItemRendered\"),\r\n                _queue: this._queue\r\n            }, item.config))\r\n        }\r\n        this._layout.renderItems(this._itemElements());\r\n        clearTimeout(this._updateTimer);\r\n        this._updateTimer = setTimeout(() => {\r\n            if (!this._isUpdated) {\r\n                this._layout.update()\r\n            }\r\n            this._isUpdated = false;\r\n            this._updateTimer = null\r\n        })\r\n    }\r\n    _renderItemContent(args) {\r\n        var $itemNode = args.itemData && args.itemData.node;\r\n        if ($itemNode) {\r\n            return this._renderItemContentByNode(args, $itemNode)\r\n        }\r\n        return super._renderItemContent(args)\r\n    }\r\n    _postprocessRenderItem(args) {\r\n        var boxConfig = args.itemData.box;\r\n        if (!boxConfig) {\r\n            return\r\n        }\r\n        this._pushItemToQueue(args.itemContent, boxConfig)\r\n    }\r\n    _createItemByTemplate(itemTemplate, args) {\r\n        if (args.itemData.box) {\r\n            return itemTemplate.source ? itemTemplate.source() : $()\r\n        }\r\n        return super._createItemByTemplate(itemTemplate, args)\r\n    }\r\n    _visibilityChanged(visible) {\r\n        if (visible) {\r\n            this._dimensionChanged()\r\n        }\r\n    }\r\n    _dimensionChanged() {\r\n        if (this._updateTimer) {\r\n            return\r\n        }\r\n        this._isUpdated = true;\r\n        this._layout.update()\r\n    }\r\n    _dispose() {\r\n        clearTimeout(this._updateTimer);\r\n        super._dispose.apply(this, arguments)\r\n    }\r\n    _itemOptionChanged(item, property, value, oldValue) {\r\n        if (\"visible\" === property) {\r\n            this._onItemStateChanged({\r\n                name: property,\r\n                state: value,\r\n                oldState: false !== oldValue\r\n            })\r\n        }\r\n        super._itemOptionChanged(item, property, value)\r\n    }\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"_layoutStrategy\":\r\n            case \"_queue\":\r\n            case \"direction\":\r\n                this._invalidate();\r\n                break;\r\n            case \"align\":\r\n                this._layout.renderAlign();\r\n                break;\r\n            case \"crossAlign\":\r\n                this._layout.renderCrossAlign();\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n    _itemOptions() {\r\n        var options = super._itemOptions();\r\n        options.fireItemStateChangedAction = e => {\r\n            this._onItemStateChanged(e)\r\n        };\r\n        return options\r\n    }\r\n    repaint() {\r\n        this._dimensionChanged()\r\n    }\r\n}\r\nBox.ItemClass = BoxItem;\r\nregisterComponent(\"dxBox\", Box);\r\nexport default Box;\r\n"]},"metadata":{},"sourceType":"module"}