{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/funnel/tooltip.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { noop } from \"../../core/utils/common\";\nimport { plugin as pluginTooltip } from \"../core/tooltip\";\n\nfunction getCoords(coords, figureCoords, renderer) {\n  var offset = renderer.getRootOffset();\n  return coords || figureCoords && [(figureCoords[0] + figureCoords[2]) / 2 + offset.left, (figureCoords[1] + figureCoords[5]) / 2 + offset.top] || [-1e3, -1e3];\n}\n\nexport var plugin = {\n  name: \"funnel-tooltip\",\n  init: noop,\n  dispose: noop,\n  extenders: {\n    _buildNodes: function _buildNodes() {\n      this.hideTooltip();\n    },\n    _change_TILING: function _change_TILING() {\n      if (this._tooltipIndex >= 0) {\n        this._moveTooltip(this._items[this._tooltipIndex]);\n      }\n    }\n  },\n  members: {\n    hideTooltip: function hideTooltip() {\n      if (this._tooltipIndex >= 0) {\n        this._tooltipIndex = -1;\n\n        this._tooltip.hide();\n      }\n    },\n    _moveTooltip: function _moveTooltip(item, coords) {\n      var xy = getCoords(coords, item.coords, this._renderer);\n\n      this._tooltip.move(xy[0], xy[1], 0);\n    },\n    _showTooltip: function _showTooltip(index, coords) {\n      var that = this;\n      var tooltip = that._tooltip;\n      var item = that._items[index];\n\n      if (that._tooltipIndex === index) {\n        that._moveTooltip(item, coords);\n\n        return;\n      }\n\n      var callback = function callback(result) {\n        if (void 0 === result) {\n          return;\n        }\n\n        if (!result) {\n          tooltip.hide();\n        }\n\n        that._tooltipIndex = result ? index : -1;\n      };\n\n      var xy = getCoords(coords, item.coords, this._renderer);\n      callback(tooltip.show({\n        value: item.value,\n        valueText: tooltip.formatValue(item.value),\n        percentText: tooltip.formatValue(item.percent, \"percent\"),\n        percent: item.percent,\n        item: item\n      }, {\n        x: xy[0],\n        y: xy[1],\n        offset: 0\n      }, {\n        item: item\n      }, void 0, callback));\n    }\n  },\n  customize: function customize(constructor) {\n    constructor.addPlugin(pluginTooltip);\n  }\n};","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/viz/funnel/tooltip.js"],"names":["noop","plugin","pluginTooltip","getCoords","coords","figureCoords","renderer","offset","getRootOffset","left","top","name","init","dispose","extenders","_buildNodes","hideTooltip","_change_TILING","_tooltipIndex","_moveTooltip","_items","members","_tooltip","hide","item","xy","_renderer","move","_showTooltip","index","that","tooltip","callback","result","show","value","valueText","formatValue","percentText","percent","x","y","customize","constructor","addPlugin"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/viz/funnel/tooltip.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    plugin as pluginTooltip\r\n} from \"../core/tooltip\";\r\n\r\nfunction getCoords(coords, figureCoords, renderer) {\r\n    var offset = renderer.getRootOffset();\r\n    return coords || figureCoords && [(figureCoords[0] + figureCoords[2]) / 2 + offset.left, (figureCoords[1] + figureCoords[5]) / 2 + offset.top] || [-1e3, -1e3]\r\n}\r\nexport var plugin = {\r\n    name: \"funnel-tooltip\",\r\n    init: noop,\r\n    dispose: noop,\r\n    extenders: {\r\n        _buildNodes: function() {\r\n            this.hideTooltip()\r\n        },\r\n        _change_TILING: function() {\r\n            if (this._tooltipIndex >= 0) {\r\n                this._moveTooltip(this._items[this._tooltipIndex])\r\n            }\r\n        }\r\n    },\r\n    members: {\r\n        hideTooltip: function() {\r\n            if (this._tooltipIndex >= 0) {\r\n                this._tooltipIndex = -1;\r\n                this._tooltip.hide()\r\n            }\r\n        },\r\n        _moveTooltip: function(item, coords) {\r\n            var xy = getCoords(coords, item.coords, this._renderer);\r\n            this._tooltip.move(xy[0], xy[1], 0)\r\n        },\r\n        _showTooltip: function(index, coords) {\r\n            var that = this;\r\n            var tooltip = that._tooltip;\r\n            var item = that._items[index];\r\n            if (that._tooltipIndex === index) {\r\n                that._moveTooltip(item, coords);\r\n                return\r\n            }\r\n            var callback = result => {\r\n                if (void 0 === result) {\r\n                    return\r\n                }\r\n                if (!result) {\r\n                    tooltip.hide()\r\n                }\r\n                that._tooltipIndex = result ? index : -1\r\n            };\r\n            var xy = getCoords(coords, item.coords, this._renderer);\r\n            callback(tooltip.show({\r\n                value: item.value,\r\n                valueText: tooltip.formatValue(item.value),\r\n                percentText: tooltip.formatValue(item.percent, \"percent\"),\r\n                percent: item.percent,\r\n                item: item\r\n            }, {\r\n                x: xy[0],\r\n                y: xy[1],\r\n                offset: 0\r\n            }, {\r\n                item: item\r\n            }, void 0, callback))\r\n        }\r\n    },\r\n    customize: function(constructor) {\r\n        constructor.addPlugin(pluginTooltip)\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}