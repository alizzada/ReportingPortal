{"ast":null,"code":"import _classCallCheck from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\n/**\r\n * DevExtreme (esm/ui/speed_dial_action/speed_dial_main_item.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport config from \"../../core/config\";\nimport { extend } from \"../../core/utils/extend\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport errors from \"../widget/ui.errors\";\nimport swatchContainer from \"../widget/swatch_container\";\nimport SpeedDialItem from \"./speed_dial_item\";\nimport { isMaterial } from \"../themes\";\nvar getSwatchContainer = swatchContainer.getSwatchContainer;\nvar FAB_MAIN_CLASS = \"dx-fa-button-main\";\nvar FAB_MAIN_CLASS_WITH_LABEL = \"dx-fa-button-with-label\";\nvar FAB_CLOSE_ICON_CLASS = \"dx-fa-button-icon-close\";\nvar INVISIBLE_STATE_CLASS = \"dx-state-invisible\";\nvar speedDialMainItem = null;\n\nvar modifyActionOptions = function modifyActionOptions(action) {\n  return extend({}, action._options.silent(), {\n    onInitialized: null,\n    onDisposing: null\n  });\n};\n\nvar SpeedDialMainItem = /*#__PURE__*/function (_SpeedDialItem) {\n  _inherits(SpeedDialMainItem, _SpeedDialItem);\n\n  var _super = _createSuper(SpeedDialMainItem);\n\n  function SpeedDialMainItem() {\n    _classCallCheck(this, SpeedDialMainItem);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SpeedDialMainItem, [{\n    key: \"_getDefaultOptions\",\n    value: function _getDefaultOptions() {\n      return extend(_get(_getPrototypeOf(SpeedDialMainItem.prototype), \"_getDefaultOptions\", this).call(this), extend({\n        icon: \"add\",\n        closeIcon: \"close\",\n        position: {\n          at: \"right bottom\",\n          my: \"right bottom\",\n          offset: {\n            x: -16,\n            y: -16\n          }\n        },\n        maxSpeedDialActionCount: 5,\n        hint: \"\",\n        label: \"\",\n        direction: \"auto\",\n        actions: [],\n        activeStateEnabled: true,\n        hoverStateEnabled: true,\n        indent: 55,\n        childIndent: 40,\n        childOffset: 9,\n        callOverlayRenderShading: true,\n        closeOnOutsideClick: true\n      }, config().floatingActionButtonConfig, {\n        shading: false\n      }));\n    }\n  }, {\n    key: \"_defaultOptionsRules\",\n    value: function _defaultOptionsRules() {\n      return _get(_getPrototypeOf(SpeedDialMainItem.prototype), \"_defaultOptionsRules\", this).call(this).concat([{\n        device: function device() {\n          return isMaterial();\n        },\n        options: {\n          indent: 72,\n          childIndent: 56,\n          childOffset: 8\n        }\n      }]);\n    }\n  }, {\n    key: \"_render\",\n    value: function _render() {\n      this.$element().addClass(FAB_MAIN_CLASS);\n\n      _get(_getPrototypeOf(SpeedDialMainItem.prototype), \"_render\", this).call(this);\n\n      this._moveToContainer();\n\n      this._renderCloseIcon();\n\n      this._renderClick();\n    }\n  }, {\n    key: \"_renderLabel\",\n    value: function _renderLabel() {\n      _get(_getPrototypeOf(SpeedDialMainItem.prototype), \"_renderLabel\", this).call(this);\n\n      this.$element().toggleClass(FAB_MAIN_CLASS_WITH_LABEL, !!this._$label);\n    }\n  }, {\n    key: \"_renderCloseIcon\",\n    value: function _renderCloseIcon() {\n      this._$closeIcon = this._renderButtonIcon(this._$closeIcon, this._options.silent(\"closeIcon\"), FAB_CLOSE_ICON_CLASS);\n\n      this._$closeIcon.addClass(INVISIBLE_STATE_CLASS);\n    }\n  }, {\n    key: \"_renderClick\",\n    value: function _renderClick() {\n      this._clickAction = 1 === this._getVisibleActions().length ? this._getActionComponent()._createActionByOption(\"onClick\") : this._createAction(this._clickHandler.bind(this));\n\n      this._setClickAction();\n    }\n  }, {\n    key: \"_getVisibleActions\",\n    value: function _getVisibleActions(actions) {\n      var currentActions = actions || this.option(\"actions\");\n      return currentActions.filter(function (action) {\n        return action.option(\"visible\");\n      });\n    }\n  }, {\n    key: \"_getCurrentOptions\",\n    value: function _getCurrentOptions(actions) {\n      var visibleActions = speedDialMainItem._getVisibleActions(actions);\n\n      return 1 === visibleActions.length ? extend(visibleActions[0]._options.silent(), {\n        position: this._getPosition()\n      }) : extend(this._getDefaultOptions(), {\n        visible: 0 !== visibleActions.length\n      });\n    }\n  }, {\n    key: \"_clickHandler\",\n    value: function _clickHandler() {\n      var actions = this._actionItems.filter(function (action) {\n        return action.option(\"actionVisible\");\n      }).sort(function (action, nextAction) {\n        return action.option(\"index\") - nextAction.option(\"index\");\n      });\n\n      if (1 === actions.length) {\n        return;\n      }\n\n      var lastActionIndex = actions.length - 1;\n\n      for (var i = 0; i < actions.length; i++) {\n        actions[i].option(\"animation\", this._getActionAnimation(actions[i], i, lastActionIndex));\n        actions[i].option(\"position\", this._getActionPosition(actions, i));\n\n        actions[i]._$wrapper.css(\"position\", this._$wrapper.css(\"position\"));\n\n        actions[i].toggle();\n      }\n\n      if (config().floatingActionButtonConfig.shading) {\n        this._isShadingShown = !this.option(\"shading\");\n        this.option(\"shading\", this._isShadingShown);\n      }\n\n      this._$icon.toggleClass(INVISIBLE_STATE_CLASS);\n\n      this._$closeIcon.toggleClass(INVISIBLE_STATE_CLASS);\n    }\n  }, {\n    key: \"_updateZIndexStackPosition\",\n    value: function _updateZIndexStackPosition() {\n      _get(_getPrototypeOf(SpeedDialMainItem.prototype), \"_updateZIndexStackPosition\", this).call(this);\n\n      var overlayStack = this._overlayStack();\n\n      overlayStack.push(this);\n    }\n  }, {\n    key: \"_renderActions\",\n    value: function _renderActions() {\n      var _this = this;\n\n      var actions = this.option(\"actions\");\n\n      if (this._actionItems && this._actionItems.length) {\n        this._actionItems.forEach(function (actionItem) {\n          actionItem.dispose();\n          actionItem.$element().remove();\n        });\n\n        this._actionItems = [];\n      }\n\n      this._actionItems = [];\n\n      if (1 === actions.length) {\n        return;\n      }\n\n      for (var i = 0; i < actions.length; i++) {\n        var action = actions[i];\n        var $actionElement = $(\"<div>\").appendTo(getSwatchContainer(action.$element()));\n        eventsEngine.off($actionElement, \"click\");\n        eventsEngine.on($actionElement, \"click\", function () {\n          _this._clickHandler();\n        });\n\n        action._options.silent(\"actionComponent\", action);\n\n        action._options.silent(\"parentPosition\", this._getPosition());\n\n        action._options.silent(\"actionVisible\", action._options.silent(\"visible\"));\n\n        this._actionItems.push(this._createComponent($actionElement, SpeedDialItem, extend({}, modifyActionOptions(action), {\n          visible: false\n        })));\n      }\n    }\n  }, {\n    key: \"_getActionAnimation\",\n    value: function _getActionAnimation(action, index, lastActionIndex) {\n      action._options.silent(\"animation.show.delay\", 30 * index);\n\n      action._options.silent(\"animation.hide.delay\", 30 * (lastActionIndex - index));\n\n      return action._options.silent(\"animation\");\n    }\n  }, {\n    key: \"_getDirectionIndex\",\n    value: function _getDirectionIndex(actions, direction) {\n      if (\"auto\" === direction) {\n        var contentHeight = this.$content().height();\n        var actionsHeight = this.initialOption(\"indent\") + this.initialOption(\"childIndent\") * actions.length - contentHeight;\n        var offsetTop = this.$content().offset().top;\n\n        if (actionsHeight < offsetTop) {\n          return -1;\n        } else {\n          var offsetBottom = this._getContainer().height() - contentHeight - offsetTop;\n          return offsetTop >= offsetBottom ? -1 : 1;\n        }\n      }\n\n      return \"down\" !== direction ? -1 : 1;\n    }\n  }, {\n    key: \"_getActionPosition\",\n    value: function _getActionPosition(actions, index) {\n      var action = actions[index];\n      var actionOffsetXValue = this.initialOption(\"childOffset\");\n      var actionOffsetX = action._options.silent(\"label\") && !this._$label ? this._isPositionLeft(this._getPosition()) ? actionOffsetXValue : -actionOffsetXValue : 0;\n      var actionOffsetYValue = this.initialOption(\"indent\") + this.initialOption(\"childIndent\") * index;\n      var actionOffsetY = this._getDirectionIndex(actions, this.option(\"direction\")) * actionOffsetYValue;\n      var actionPositionAtMy = action._options.silent(\"label\") ? this._isPositionLeft(this._getPosition()) ? \"left\" : \"right\" : \"center\";\n      return {\n        of: this.$content(),\n        at: actionPositionAtMy,\n        my: actionPositionAtMy,\n        offset: {\n          x: actionOffsetX,\n          y: actionOffsetY\n        }\n      };\n    }\n  }, {\n    key: \"_outsideClickHandler\",\n    value: function _outsideClickHandler(e) {\n      if (this._isShadingShown) {\n        var isShadingClick = $(e.target)[0] === this._$wrapper[0];\n\n        if (isShadingClick) {\n          e.preventDefault();\n\n          this._clickHandler();\n        }\n      }\n    }\n  }, {\n    key: \"_setPosition\",\n    value: function _setPosition() {\n      if (this.option(\"visible\")) {\n        this._hide();\n\n        this._show();\n      }\n    }\n  }, {\n    key: \"_getPosition\",\n    value: function _getPosition() {\n      return this._getDefaultOptions().position;\n    }\n  }, {\n    key: \"_getInkRippleContainer\",\n    value: function _getInkRippleContainer() {\n      return this.$content();\n    }\n  }, {\n    key: \"_optionChanged\",\n    value: function _optionChanged(args) {\n      switch (args.name) {\n        case \"actions\":\n          if (this._isVisible()) {\n            this._renderIcon();\n\n            this._renderLabel();\n          }\n\n          this._renderCloseIcon();\n\n          this._renderClick();\n\n          this._renderActions();\n\n          break;\n\n        case \"maxSpeedDialActionCount\":\n          this._renderActions();\n\n          break;\n\n        case \"closeIcon\":\n          this._renderCloseIcon();\n\n          break;\n\n        case \"position\":\n          this._setPosition();\n\n          break;\n\n        case \"label\":\n          if (this._isVisible()) {\n            this._renderLabel();\n          }\n\n          this._setPosition();\n\n          break;\n\n        case \"icon\":\n          if (this._isVisible()) {\n            this._renderIcon();\n          }\n\n          break;\n\n        default:\n          _get(_getPrototypeOf(SpeedDialMainItem.prototype), \"_optionChanged\", this).call(this, args);\n\n      }\n    }\n  }]);\n\n  return SpeedDialMainItem;\n}(SpeedDialItem);\n\nexport function initAction(newAction) {\n  newAction._options.silent(\"onInitializing\", null);\n\n  var isActionExist = false;\n\n  if (!speedDialMainItem) {\n    var $fabMainElement = $(\"<div>\").appendTo(getSwatchContainer(newAction.$element()));\n    speedDialMainItem = newAction._createComponent($fabMainElement, SpeedDialMainItem, extend({}, modifyActionOptions(newAction), {\n      actions: [newAction]\n    }));\n  } else {\n    var savedActions = speedDialMainItem.option(\"actions\");\n    savedActions.forEach(function (action) {\n      if (action._options.silent(\"id\") === newAction._options.silent(\"id\")) {\n        isActionExist = true;\n        return newAction;\n      }\n    });\n    speedDialMainItem._options.silent(\"position\"), true;\n\n    if (!isActionExist) {\n      if (speedDialMainItem._getVisibleActions(savedActions).length >= speedDialMainItem.option(\"maxSpeedDialActionCount\")) {\n        newAction.dispose();\n        errors.log(\"W1014\");\n        return;\n      }\n\n      savedActions.push(newAction);\n      speedDialMainItem.option(extend(speedDialMainItem._getCurrentOptions(savedActions), {\n        actions: savedActions\n      }));\n    } else if (1 === savedActions.length) {\n      speedDialMainItem.option(extend({}, modifyActionOptions(savedActions[0]), {\n        actions: savedActions,\n        position: speedDialMainItem._getPosition()\n      }));\n    } else {\n      speedDialMainItem.option(extend(speedDialMainItem._getCurrentOptions(savedActions), {\n        actions: savedActions\n      }));\n    }\n  }\n}\nexport function disposeAction(actionId) {\n  if (!speedDialMainItem) {\n    return;\n  }\n\n  var savedActions = speedDialMainItem.option(\"actions\");\n  var savedActionsCount = savedActions.length;\n  savedActions = savedActions.filter(function (action) {\n    return action._options.silent(\"id\") !== actionId;\n  });\n\n  if (savedActionsCount === savedActions.length) {\n    return;\n  }\n\n  if (!savedActions.length) {\n    speedDialMainItem.dispose();\n    speedDialMainItem.$element().remove();\n    speedDialMainItem = null;\n  } else if (1 === savedActions.length) {\n    speedDialMainItem.option(extend({}, modifyActionOptions(savedActions[0]), {\n      actions: savedActions\n    }));\n  } else {\n    speedDialMainItem.option({\n      actions: savedActions\n    });\n  }\n}\nexport function repaint() {\n  if (!speedDialMainItem) {\n    return;\n  }\n\n  var visibleActions = speedDialMainItem._getVisibleActions();\n\n  var icon = 1 === visibleActions.length ? visibleActions[0].option(\"icon\") : speedDialMainItem._getDefaultOptions().icon;\n  var label = 1 === visibleActions.length ? visibleActions[0].option(\"label\") : speedDialMainItem._getDefaultOptions().label;\n  speedDialMainItem.option({\n    actions: speedDialMainItem.option(\"actions\"),\n    icon: icon,\n    closeIcon: speedDialMainItem._getDefaultOptions().closeIcon,\n    position: speedDialMainItem._getPosition(),\n    label: label,\n    maxSpeedDialActionCount: speedDialMainItem._getDefaultOptions().maxSpeedDialActionCount,\n    direction: speedDialMainItem._getDefaultOptions().direction\n  });\n}","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/ui/speed_dial_action/speed_dial_main_item.js"],"names":["$","config","extend","eventsEngine","errors","swatchContainer","SpeedDialItem","isMaterial","getSwatchContainer","FAB_MAIN_CLASS","FAB_MAIN_CLASS_WITH_LABEL","FAB_CLOSE_ICON_CLASS","INVISIBLE_STATE_CLASS","speedDialMainItem","modifyActionOptions","action","_options","silent","onInitialized","onDisposing","SpeedDialMainItem","icon","closeIcon","position","at","my","offset","x","y","maxSpeedDialActionCount","hint","label","direction","actions","activeStateEnabled","hoverStateEnabled","indent","childIndent","childOffset","callOverlayRenderShading","closeOnOutsideClick","floatingActionButtonConfig","shading","concat","device","options","$element","addClass","_moveToContainer","_renderCloseIcon","_renderClick","toggleClass","_$label","_$closeIcon","_renderButtonIcon","_clickAction","_getVisibleActions","length","_getActionComponent","_createActionByOption","_createAction","_clickHandler","bind","_setClickAction","currentActions","option","filter","visibleActions","_getPosition","_getDefaultOptions","visible","_actionItems","sort","nextAction","lastActionIndex","i","_getActionAnimation","_getActionPosition","_$wrapper","css","toggle","_isShadingShown","_$icon","overlayStack","_overlayStack","push","forEach","actionItem","dispose","remove","$actionElement","appendTo","off","on","_createComponent","index","contentHeight","$content","height","actionsHeight","initialOption","offsetTop","top","offsetBottom","_getContainer","actionOffsetXValue","actionOffsetX","_isPositionLeft","actionOffsetYValue","actionOffsetY","_getDirectionIndex","actionPositionAtMy","of","e","isShadingClick","target","preventDefault","_hide","_show","args","name","_isVisible","_renderIcon","_renderLabel","_renderActions","_setPosition","initAction","newAction","isActionExist","$fabMainElement","savedActions","log","_getCurrentOptions","disposeAction","actionId","savedActionsCount","repaint"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/speed_dial_action/speed_dial_main_item.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport config from \"../../core/config\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport swatchContainer from \"../widget/swatch_container\";\r\nimport SpeedDialItem from \"./speed_dial_item\";\r\nimport {\r\n    isMaterial\r\n} from \"../themes\";\r\nvar {\r\n    getSwatchContainer: getSwatchContainer\r\n} = swatchContainer;\r\nvar FAB_MAIN_CLASS = \"dx-fa-button-main\";\r\nvar FAB_MAIN_CLASS_WITH_LABEL = \"dx-fa-button-with-label\";\r\nvar FAB_CLOSE_ICON_CLASS = \"dx-fa-button-icon-close\";\r\nvar INVISIBLE_STATE_CLASS = \"dx-state-invisible\";\r\nvar speedDialMainItem = null;\r\nvar modifyActionOptions = action => extend({}, action._options.silent(), {\r\n    onInitialized: null,\r\n    onDisposing: null\r\n});\r\nclass SpeedDialMainItem extends SpeedDialItem {\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), extend({\r\n            icon: \"add\",\r\n            closeIcon: \"close\",\r\n            position: {\r\n                at: \"right bottom\",\r\n                my: \"right bottom\",\r\n                offset: {\r\n                    x: -16,\r\n                    y: -16\r\n                }\r\n            },\r\n            maxSpeedDialActionCount: 5,\r\n            hint: \"\",\r\n            label: \"\",\r\n            direction: \"auto\",\r\n            actions: [],\r\n            activeStateEnabled: true,\r\n            hoverStateEnabled: true,\r\n            indent: 55,\r\n            childIndent: 40,\r\n            childOffset: 9,\r\n            callOverlayRenderShading: true,\r\n            closeOnOutsideClick: true\r\n        }, config().floatingActionButtonConfig, {\r\n            shading: false\r\n        }))\r\n    }\r\n    _defaultOptionsRules() {\r\n        return super._defaultOptionsRules().concat([{\r\n            device: () => isMaterial(),\r\n            options: {\r\n                indent: 72,\r\n                childIndent: 56,\r\n                childOffset: 8\r\n            }\r\n        }])\r\n    }\r\n    _render() {\r\n        this.$element().addClass(FAB_MAIN_CLASS);\r\n        super._render();\r\n        this._moveToContainer();\r\n        this._renderCloseIcon();\r\n        this._renderClick()\r\n    }\r\n    _renderLabel() {\r\n        super._renderLabel();\r\n        this.$element().toggleClass(FAB_MAIN_CLASS_WITH_LABEL, !!this._$label)\r\n    }\r\n    _renderCloseIcon() {\r\n        this._$closeIcon = this._renderButtonIcon(this._$closeIcon, this._options.silent(\"closeIcon\"), FAB_CLOSE_ICON_CLASS);\r\n        this._$closeIcon.addClass(INVISIBLE_STATE_CLASS)\r\n    }\r\n    _renderClick() {\r\n        this._clickAction = 1 === this._getVisibleActions().length ? this._getActionComponent()._createActionByOption(\"onClick\") : this._createAction(this._clickHandler.bind(this));\r\n        this._setClickAction()\r\n    }\r\n    _getVisibleActions(actions) {\r\n        var currentActions = actions || this.option(\"actions\");\r\n        return currentActions.filter(action => action.option(\"visible\"))\r\n    }\r\n    _getCurrentOptions(actions) {\r\n        var visibleActions = speedDialMainItem._getVisibleActions(actions);\r\n        return 1 === visibleActions.length ? extend(visibleActions[0]._options.silent(), {\r\n            position: this._getPosition()\r\n        }) : extend(this._getDefaultOptions(), {\r\n            visible: 0 !== visibleActions.length\r\n        })\r\n    }\r\n    _clickHandler() {\r\n        var actions = this._actionItems.filter(action => action.option(\"actionVisible\")).sort((action, nextAction) => action.option(\"index\") - nextAction.option(\"index\"));\r\n        if (1 === actions.length) {\r\n            return\r\n        }\r\n        var lastActionIndex = actions.length - 1;\r\n        for (var i = 0; i < actions.length; i++) {\r\n            actions[i].option(\"animation\", this._getActionAnimation(actions[i], i, lastActionIndex));\r\n            actions[i].option(\"position\", this._getActionPosition(actions, i));\r\n            actions[i]._$wrapper.css(\"position\", this._$wrapper.css(\"position\"));\r\n            actions[i].toggle()\r\n        }\r\n        if (config().floatingActionButtonConfig.shading) {\r\n            this._isShadingShown = !this.option(\"shading\");\r\n            this.option(\"shading\", this._isShadingShown)\r\n        }\r\n        this._$icon.toggleClass(INVISIBLE_STATE_CLASS);\r\n        this._$closeIcon.toggleClass(INVISIBLE_STATE_CLASS)\r\n    }\r\n    _updateZIndexStackPosition() {\r\n        super._updateZIndexStackPosition();\r\n        var overlayStack = this._overlayStack();\r\n        overlayStack.push(this)\r\n    }\r\n    _renderActions() {\r\n        var actions = this.option(\"actions\");\r\n        if (this._actionItems && this._actionItems.length) {\r\n            this._actionItems.forEach(actionItem => {\r\n                actionItem.dispose();\r\n                actionItem.$element().remove()\r\n            });\r\n            this._actionItems = []\r\n        }\r\n        this._actionItems = [];\r\n        if (1 === actions.length) {\r\n            return\r\n        }\r\n        for (var i = 0; i < actions.length; i++) {\r\n            var action = actions[i];\r\n            var $actionElement = $(\"<div>\").appendTo(getSwatchContainer(action.$element()));\r\n            eventsEngine.off($actionElement, \"click\");\r\n            eventsEngine.on($actionElement, \"click\", () => {\r\n                this._clickHandler()\r\n            });\r\n            action._options.silent(\"actionComponent\", action);\r\n            action._options.silent(\"parentPosition\", this._getPosition());\r\n            action._options.silent(\"actionVisible\", action._options.silent(\"visible\"));\r\n            this._actionItems.push(this._createComponent($actionElement, SpeedDialItem, extend({}, modifyActionOptions(action), {\r\n                visible: false\r\n            })))\r\n        }\r\n    }\r\n    _getActionAnimation(action, index, lastActionIndex) {\r\n        action._options.silent(\"animation.show.delay\", 30 * index);\r\n        action._options.silent(\"animation.hide.delay\", 30 * (lastActionIndex - index));\r\n        return action._options.silent(\"animation\")\r\n    }\r\n    _getDirectionIndex(actions, direction) {\r\n        if (\"auto\" === direction) {\r\n            var contentHeight = this.$content().height();\r\n            var actionsHeight = this.initialOption(\"indent\") + this.initialOption(\"childIndent\") * actions.length - contentHeight;\r\n            var offsetTop = this.$content().offset().top;\r\n            if (actionsHeight < offsetTop) {\r\n                return -1\r\n            } else {\r\n                var offsetBottom = this._getContainer().height() - contentHeight - offsetTop;\r\n                return offsetTop >= offsetBottom ? -1 : 1\r\n            }\r\n        }\r\n        return \"down\" !== direction ? -1 : 1\r\n    }\r\n    _getActionPosition(actions, index) {\r\n        var action = actions[index];\r\n        var actionOffsetXValue = this.initialOption(\"childOffset\");\r\n        var actionOffsetX = action._options.silent(\"label\") && !this._$label ? this._isPositionLeft(this._getPosition()) ? actionOffsetXValue : -actionOffsetXValue : 0;\r\n        var actionOffsetYValue = this.initialOption(\"indent\") + this.initialOption(\"childIndent\") * index;\r\n        var actionOffsetY = this._getDirectionIndex(actions, this.option(\"direction\")) * actionOffsetYValue;\r\n        var actionPositionAtMy = action._options.silent(\"label\") ? this._isPositionLeft(this._getPosition()) ? \"left\" : \"right\" : \"center\";\r\n        return {\r\n            of: this.$content(),\r\n            at: actionPositionAtMy,\r\n            my: actionPositionAtMy,\r\n            offset: {\r\n                x: actionOffsetX,\r\n                y: actionOffsetY\r\n            }\r\n        }\r\n    }\r\n    _outsideClickHandler(e) {\r\n        if (this._isShadingShown) {\r\n            var isShadingClick = $(e.target)[0] === this._$wrapper[0];\r\n            if (isShadingClick) {\r\n                e.preventDefault();\r\n                this._clickHandler()\r\n            }\r\n        }\r\n    }\r\n    _setPosition() {\r\n        if (this.option(\"visible\")) {\r\n            this._hide();\r\n            this._show()\r\n        }\r\n    }\r\n    _getPosition() {\r\n        return this._getDefaultOptions().position\r\n    }\r\n    _getInkRippleContainer() {\r\n        return this.$content()\r\n    }\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"actions\":\r\n                if (this._isVisible()) {\r\n                    this._renderIcon();\r\n                    this._renderLabel()\r\n                }\r\n                this._renderCloseIcon();\r\n                this._renderClick();\r\n                this._renderActions();\r\n                break;\r\n            case \"maxSpeedDialActionCount\":\r\n                this._renderActions();\r\n                break;\r\n            case \"closeIcon\":\r\n                this._renderCloseIcon();\r\n                break;\r\n            case \"position\":\r\n                this._setPosition();\r\n                break;\r\n            case \"label\":\r\n                if (this._isVisible()) {\r\n                    this._renderLabel()\r\n                }\r\n                this._setPosition();\r\n                break;\r\n            case \"icon\":\r\n                if (this._isVisible()) {\r\n                    this._renderIcon()\r\n                }\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n}\r\nexport function initAction(newAction) {\r\n    newAction._options.silent(\"onInitializing\", null);\r\n    var isActionExist = false;\r\n    if (!speedDialMainItem) {\r\n        var $fabMainElement = $(\"<div>\").appendTo(getSwatchContainer(newAction.$element()));\r\n        speedDialMainItem = newAction._createComponent($fabMainElement, SpeedDialMainItem, extend({}, modifyActionOptions(newAction), {\r\n            actions: [newAction]\r\n        }))\r\n    } else {\r\n        var savedActions = speedDialMainItem.option(\"actions\");\r\n        savedActions.forEach(action => {\r\n            if (action._options.silent(\"id\") === newAction._options.silent(\"id\")) {\r\n                isActionExist = true;\r\n                return newAction\r\n            }\r\n        });\r\n        speedDialMainItem._options.silent(\"position\"), true;\r\n        if (!isActionExist) {\r\n            if (speedDialMainItem._getVisibleActions(savedActions).length >= speedDialMainItem.option(\"maxSpeedDialActionCount\")) {\r\n                newAction.dispose();\r\n                errors.log(\"W1014\");\r\n                return\r\n            }\r\n            savedActions.push(newAction);\r\n            speedDialMainItem.option(extend(speedDialMainItem._getCurrentOptions(savedActions), {\r\n                actions: savedActions\r\n            }))\r\n        } else if (1 === savedActions.length) {\r\n            speedDialMainItem.option(extend({}, modifyActionOptions(savedActions[0]), {\r\n                actions: savedActions,\r\n                position: speedDialMainItem._getPosition()\r\n            }))\r\n        } else {\r\n            speedDialMainItem.option(extend(speedDialMainItem._getCurrentOptions(savedActions), {\r\n                actions: savedActions\r\n            }))\r\n        }\r\n    }\r\n}\r\nexport function disposeAction(actionId) {\r\n    if (!speedDialMainItem) {\r\n        return\r\n    }\r\n    var savedActions = speedDialMainItem.option(\"actions\");\r\n    var savedActionsCount = savedActions.length;\r\n    savedActions = savedActions.filter(action => action._options.silent(\"id\") !== actionId);\r\n    if (savedActionsCount === savedActions.length) {\r\n        return\r\n    }\r\n    if (!savedActions.length) {\r\n        speedDialMainItem.dispose();\r\n        speedDialMainItem.$element().remove();\r\n        speedDialMainItem = null\r\n    } else if (1 === savedActions.length) {\r\n        speedDialMainItem.option(extend({}, modifyActionOptions(savedActions[0]), {\r\n            actions: savedActions\r\n        }))\r\n    } else {\r\n        speedDialMainItem.option({\r\n            actions: savedActions\r\n        })\r\n    }\r\n}\r\nexport function repaint() {\r\n    if (!speedDialMainItem) {\r\n        return\r\n    }\r\n    var visibleActions = speedDialMainItem._getVisibleActions();\r\n    var icon = 1 === visibleActions.length ? visibleActions[0].option(\"icon\") : speedDialMainItem._getDefaultOptions().icon;\r\n    var label = 1 === visibleActions.length ? visibleActions[0].option(\"label\") : speedDialMainItem._getDefaultOptions().label;\r\n    speedDialMainItem.option({\r\n        actions: speedDialMainItem.option(\"actions\"),\r\n        icon: icon,\r\n        closeIcon: speedDialMainItem._getDefaultOptions().closeIcon,\r\n        position: speedDialMainItem._getPosition(),\r\n        label: label,\r\n        maxSpeedDialActionCount: speedDialMainItem._getDefaultOptions().maxSpeedDialActionCount,\r\n        direction: speedDialMainItem._getDefaultOptions().direction\r\n    })\r\n}\r\n"]},"metadata":{},"sourceType":"module"}