{"ast":null,"code":"import _classCallCheck from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n/**\r\n * DevExtreme (esm/core/devices.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../core/renderer\";\nimport { getWindow, getNavigator, hasWindow } from \"./utils/window\";\nimport { extend } from \"./utils/extend\";\nimport { isPlainObject } from \"./utils/type\";\nimport { each } from \"./utils/iterator\";\nimport errors from \"./errors\";\nimport Callbacks from \"./utils/callbacks\";\nimport readyCallbacks from \"./utils/ready_callbacks\";\nimport resizeCallbacks from \"./utils/resize_callbacks\";\nimport { EventsStrategy } from \"./events_strategy\";\nimport { sessionStorage as SessionStorage } from \"./utils/storage\";\nimport { changeCallback } from \"./utils/view_port\";\nimport Config from \"./config\";\nvar navigator = getNavigator();\nvar window = getWindow();\nvar KNOWN_UA_TABLE = {\n  iPhone: \"iPhone\",\n  iPhone5: \"iPhone\",\n  iPhone6: \"iPhone\",\n  iPhone6plus: \"iPhone\",\n  iPad: \"iPad\",\n  iPadMini: \"iPad Mini\",\n  androidPhone: \"Android Mobile\",\n  androidTablet: \"Android\",\n  msSurface: \"Windows ARM Tablet PC\",\n  desktop: \"desktop\"\n};\nvar DEFAULT_DEVICE = {\n  deviceType: \"desktop\",\n  platform: \"generic\",\n  version: [],\n  phone: false,\n  tablet: false,\n  android: false,\n  ios: false,\n  generic: true,\n  grade: \"A\",\n  mac: false\n};\nvar uaParsers = {\n  generic: function generic(userAgent) {\n    var isPhone = /windows phone/i.test(userAgent) || userAgent.match(/WPDesktop/);\n    var isTablet = !isPhone && /Windows(.*)arm(.*)Tablet PC/i.test(userAgent);\n    var isDesktop = !isPhone && !isTablet && /msapphost/i.test(userAgent);\n    var isMac = /((intel|ppc) mac os x)/.test(userAgent.toLowerCase());\n\n    if (!(isPhone || isTablet || isDesktop || isMac)) {\n      return;\n    }\n\n    return {\n      deviceType: isPhone ? \"phone\" : isTablet ? \"tablet\" : \"desktop\",\n      platform: \"generic\",\n      version: [],\n      grade: \"A\",\n      mac: isMac\n    };\n  },\n  ios: function ios(userAgent) {\n    if (!/ip(hone|od|ad)/i.test(userAgent)) {\n      return;\n    }\n\n    var isPhone = /ip(hone|od)/i.test(userAgent);\n    var matches = userAgent.match(/os (\\d+)_(\\d+)_?(\\d+)?/i);\n    var version = matches ? [parseInt(matches[1], 10), parseInt(matches[2], 10), parseInt(matches[3] || 0, 10)] : [];\n    var isIPhone4 = 480 === window.screen.height;\n    var grade = isIPhone4 ? \"B\" : \"A\";\n    return {\n      deviceType: isPhone ? \"phone\" : \"tablet\",\n      platform: \"ios\",\n      version: version,\n      grade: grade\n    };\n  },\n  android: function android(userAgent) {\n    if (!/android|htc_|silk/i.test(userAgent)) {\n      return;\n    }\n\n    var isPhone = /mobile/i.test(userAgent);\n    var matches = userAgent.match(/android (\\d+)\\.?(\\d+)?\\.?(\\d+)?/i);\n    var version = matches ? [parseInt(matches[1], 10), parseInt(matches[2] || 0, 10), parseInt(matches[3] || 0, 10)] : [];\n    var worseThan4_4 = version.length > 1 && (version[0] < 4 || 4 === version[0] && version[1] < 4);\n    var grade = worseThan4_4 ? \"B\" : \"A\";\n    return {\n      deviceType: isPhone ? \"phone\" : \"tablet\",\n      platform: \"android\",\n      version: version,\n      grade: grade\n    };\n  }\n};\n\nvar Devices = /*#__PURE__*/function () {\n  function Devices(options) {\n    _classCallCheck(this, Devices);\n\n    this._window = (null === options || void 0 === options ? void 0 : options.window) || window;\n    this._realDevice = this._getDevice();\n    this._currentDevice = void 0;\n    this._currentOrientation = void 0;\n    this._eventsStrategy = new EventsStrategy(this);\n    this.changed = Callbacks();\n\n    if (hasWindow()) {\n      readyCallbacks.add(this._recalculateOrientation.bind(this));\n      resizeCallbacks.add(this._recalculateOrientation.bind(this));\n    }\n  }\n\n  _createClass(Devices, [{\n    key: \"current\",\n    value: function current(deviceOrName) {\n      if (deviceOrName) {\n        this._currentDevice = this._getDevice(deviceOrName);\n        this._forced = true;\n        this.changed.fire();\n        return;\n      }\n\n      if (!this._currentDevice) {\n        deviceOrName = void 0;\n\n        try {\n          deviceOrName = this._getDeviceOrNameFromWindowScope();\n        } catch (e) {\n          deviceOrName = this._getDeviceNameFromSessionStorage();\n        } finally {\n          if (!deviceOrName) {\n            deviceOrName = this._getDeviceNameFromSessionStorage();\n          }\n\n          if (deviceOrName) {\n            this._forced = true;\n          }\n        }\n\n        this._currentDevice = this._getDevice(deviceOrName);\n      }\n\n      return this._currentDevice;\n    }\n  }, {\n    key: \"real\",\n    value: function real(forceDevice) {\n      return extend({}, this._realDevice);\n    }\n  }, {\n    key: \"orientation\",\n    value: function orientation() {\n      return this._currentOrientation;\n    }\n  }, {\n    key: \"isForced\",\n    value: function isForced() {\n      return this._forced;\n    }\n  }, {\n    key: \"isRippleEmulator\",\n    value: function isRippleEmulator() {\n      return !!this._window.tinyHippos;\n    }\n  }, {\n    key: \"_getCssClasses\",\n    value: function _getCssClasses(device) {\n      var result = [];\n      var realDevice = this._realDevice;\n      device = device || this.current();\n\n      if (device.deviceType) {\n        result.push(\"dx-device-\".concat(device.deviceType));\n\n        if (\"desktop\" !== device.deviceType) {\n          result.push(\"dx-device-mobile\");\n        }\n      }\n\n      result.push(\"dx-device-\".concat(realDevice.platform));\n\n      if (realDevice.version && realDevice.version.length) {\n        result.push(\"dx-device-\".concat(realDevice.platform, \"-\").concat(realDevice.version[0]));\n      }\n\n      if (this.isSimulator()) {\n        result.push(\"dx-simulator\");\n      }\n\n      if (Config().rtlEnabled) {\n        result.push(\"dx-rtl\");\n      }\n\n      return result;\n    }\n  }, {\n    key: \"attachCssClasses\",\n    value: function attachCssClasses(element, device) {\n      this._deviceClasses = this._getCssClasses(device).join(\" \");\n      $(element).addClass(this._deviceClasses);\n    }\n  }, {\n    key: \"detachCssClasses\",\n    value: function detachCssClasses(element) {\n      $(element).removeClass(this._deviceClasses);\n    }\n  }, {\n    key: \"isSimulator\",\n    value: function isSimulator() {\n      try {\n        return this._isSimulator || hasWindow() && this._window.top !== this._window.self && this._window.top[\"dx-force-device\"] || this.isRippleEmulator();\n      } catch (e) {\n        return false;\n      }\n    }\n  }, {\n    key: \"forceSimulator\",\n    value: function forceSimulator() {\n      this._isSimulator = true;\n    }\n  }, {\n    key: \"_getDevice\",\n    value: function _getDevice(deviceName) {\n      if (\"genericPhone\" === deviceName) {\n        deviceName = {\n          deviceType: \"phone\",\n          platform: \"generic\",\n          generic: true\n        };\n      }\n\n      if (isPlainObject(deviceName)) {\n        return this._fromConfig(deviceName);\n      } else {\n        var ua;\n\n        if (deviceName) {\n          ua = KNOWN_UA_TABLE[deviceName];\n\n          if (!ua) {\n            throw errors.Error(\"E0005\");\n          }\n        } else {\n          ua = navigator.userAgent;\n        }\n\n        return this._fromUA(ua);\n      }\n    }\n  }, {\n    key: \"_getDeviceOrNameFromWindowScope\",\n    value: function _getDeviceOrNameFromWindowScope() {\n      var result;\n\n      if (hasWindow() && (this._window.top[\"dx-force-device-object\"] || this._window.top[\"dx-force-device\"])) {\n        result = this._window.top[\"dx-force-device-object\"] || this._window.top[\"dx-force-device\"];\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_getDeviceNameFromSessionStorage\",\n    value: function _getDeviceNameFromSessionStorage() {\n      var sessionStorage = SessionStorage();\n\n      if (!sessionStorage) {\n        return;\n      }\n\n      var deviceOrName = sessionStorage.getItem(\"dx-force-device\");\n\n      try {\n        return JSON.parse(deviceOrName);\n      } catch (ex) {\n        return deviceOrName;\n      }\n    }\n  }, {\n    key: \"_fromConfig\",\n    value: function _fromConfig(config) {\n      var result = extend({}, DEFAULT_DEVICE, this._currentDevice, config);\n      var shortcuts = {\n        phone: \"phone\" === result.deviceType,\n        tablet: \"tablet\" === result.deviceType,\n        android: \"android\" === result.platform,\n        ios: \"ios\" === result.platform,\n        generic: \"generic\" === result.platform\n      };\n      return extend(result, shortcuts);\n    }\n  }, {\n    key: \"_fromUA\",\n    value: function _fromUA(ua) {\n      var config;\n      each(uaParsers, function (platform, parser) {\n        config = parser(ua);\n        return !config;\n      });\n\n      if (config) {\n        return this._fromConfig(config);\n      }\n\n      return DEFAULT_DEVICE;\n    }\n  }, {\n    key: \"_changeOrientation\",\n    value: function _changeOrientation() {\n      var $window = $(this._window);\n      var orientation = $window.height() > $window.width() ? \"portrait\" : \"landscape\";\n\n      if (this._currentOrientation === orientation) {\n        return;\n      }\n\n      this._currentOrientation = orientation;\n\n      this._eventsStrategy.fireEvent(\"orientationChanged\", [{\n        orientation: orientation\n      }]);\n    }\n  }, {\n    key: \"_recalculateOrientation\",\n    value: function _recalculateOrientation() {\n      var windowWidth = $(this._window).width();\n\n      if (this._currentWidth === windowWidth) {\n        return;\n      }\n\n      this._currentWidth = windowWidth;\n\n      this._changeOrientation();\n    }\n  }, {\n    key: \"on\",\n    value: function on(eventName, eventHandler) {\n      this._eventsStrategy.on(eventName, eventHandler);\n\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(eventName, eventHandler) {\n      this._eventsStrategy.off(eventName, eventHandler);\n\n      return this;\n    }\n  }]);\n\n  return Devices;\n}();\n\nvar devices = new Devices();\nchangeCallback.add(function (viewPort, prevViewport) {\n  devices.detachCssClasses(prevViewport);\n  devices.attachCssClasses(viewPort);\n});\nexport default devices;","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/core/devices.js"],"names":["$","getWindow","getNavigator","hasWindow","extend","isPlainObject","each","errors","Callbacks","readyCallbacks","resizeCallbacks","EventsStrategy","sessionStorage","SessionStorage","changeCallback","Config","navigator","window","KNOWN_UA_TABLE","iPhone","iPhone5","iPhone6","iPhone6plus","iPad","iPadMini","androidPhone","androidTablet","msSurface","desktop","DEFAULT_DEVICE","deviceType","platform","version","phone","tablet","android","ios","generic","grade","mac","uaParsers","userAgent","isPhone","test","match","isTablet","isDesktop","isMac","toLowerCase","matches","parseInt","isIPhone4","screen","height","worseThan4_4","length","Devices","options","_window","_realDevice","_getDevice","_currentDevice","_currentOrientation","_eventsStrategy","changed","add","_recalculateOrientation","bind","deviceOrName","_forced","fire","_getDeviceOrNameFromWindowScope","e","_getDeviceNameFromSessionStorage","forceDevice","tinyHippos","device","result","realDevice","current","push","concat","isSimulator","rtlEnabled","element","_deviceClasses","_getCssClasses","join","addClass","removeClass","_isSimulator","top","self","isRippleEmulator","deviceName","_fromConfig","ua","Error","_fromUA","getItem","JSON","parse","ex","config","shortcuts","parser","$window","orientation","width","fireEvent","windowWidth","_currentWidth","_changeOrientation","eventName","eventHandler","on","off","devices","viewPort","prevViewport","detachCssClasses","attachCssClasses"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/core/devices.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    getWindow,\r\n    getNavigator,\r\n    hasWindow\r\n} from \"./utils/window\";\r\nimport {\r\n    extend\r\n} from \"./utils/extend\";\r\nimport {\r\n    isPlainObject\r\n} from \"./utils/type\";\r\nimport {\r\n    each\r\n} from \"./utils/iterator\";\r\nimport errors from \"./errors\";\r\nimport Callbacks from \"./utils/callbacks\";\r\nimport readyCallbacks from \"./utils/ready_callbacks\";\r\nimport resizeCallbacks from \"./utils/resize_callbacks\";\r\nimport {\r\n    EventsStrategy\r\n} from \"./events_strategy\";\r\nimport {\r\n    sessionStorage as SessionStorage\r\n} from \"./utils/storage\";\r\nimport {\r\n    changeCallback\r\n} from \"./utils/view_port\";\r\nimport Config from \"./config\";\r\nvar navigator = getNavigator();\r\nvar window = getWindow();\r\nvar KNOWN_UA_TABLE = {\r\n    iPhone: \"iPhone\",\r\n    iPhone5: \"iPhone\",\r\n    iPhone6: \"iPhone\",\r\n    iPhone6plus: \"iPhone\",\r\n    iPad: \"iPad\",\r\n    iPadMini: \"iPad Mini\",\r\n    androidPhone: \"Android Mobile\",\r\n    androidTablet: \"Android\",\r\n    msSurface: \"Windows ARM Tablet PC\",\r\n    desktop: \"desktop\"\r\n};\r\nvar DEFAULT_DEVICE = {\r\n    deviceType: \"desktop\",\r\n    platform: \"generic\",\r\n    version: [],\r\n    phone: false,\r\n    tablet: false,\r\n    android: false,\r\n    ios: false,\r\n    generic: true,\r\n    grade: \"A\",\r\n    mac: false\r\n};\r\nvar uaParsers = {\r\n    generic(userAgent) {\r\n        var isPhone = /windows phone/i.test(userAgent) || userAgent.match(/WPDesktop/);\r\n        var isTablet = !isPhone && /Windows(.*)arm(.*)Tablet PC/i.test(userAgent);\r\n        var isDesktop = !isPhone && !isTablet && /msapphost/i.test(userAgent);\r\n        var isMac = /((intel|ppc) mac os x)/.test(userAgent.toLowerCase());\r\n        if (!(isPhone || isTablet || isDesktop || isMac)) {\r\n            return\r\n        }\r\n        return {\r\n            deviceType: isPhone ? \"phone\" : isTablet ? \"tablet\" : \"desktop\",\r\n            platform: \"generic\",\r\n            version: [],\r\n            grade: \"A\",\r\n            mac: isMac\r\n        }\r\n    },\r\n    ios(userAgent) {\r\n        if (!/ip(hone|od|ad)/i.test(userAgent)) {\r\n            return\r\n        }\r\n        var isPhone = /ip(hone|od)/i.test(userAgent);\r\n        var matches = userAgent.match(/os (\\d+)_(\\d+)_?(\\d+)?/i);\r\n        var version = matches ? [parseInt(matches[1], 10), parseInt(matches[2], 10), parseInt(matches[3] || 0, 10)] : [];\r\n        var isIPhone4 = 480 === window.screen.height;\r\n        var grade = isIPhone4 ? \"B\" : \"A\";\r\n        return {\r\n            deviceType: isPhone ? \"phone\" : \"tablet\",\r\n            platform: \"ios\",\r\n            version: version,\r\n            grade: grade\r\n        }\r\n    },\r\n    android(userAgent) {\r\n        if (!/android|htc_|silk/i.test(userAgent)) {\r\n            return\r\n        }\r\n        var isPhone = /mobile/i.test(userAgent);\r\n        var matches = userAgent.match(/android (\\d+)\\.?(\\d+)?\\.?(\\d+)?/i);\r\n        var version = matches ? [parseInt(matches[1], 10), parseInt(matches[2] || 0, 10), parseInt(matches[3] || 0, 10)] : [];\r\n        var worseThan4_4 = version.length > 1 && (version[0] < 4 || 4 === version[0] && version[1] < 4);\r\n        var grade = worseThan4_4 ? \"B\" : \"A\";\r\n        return {\r\n            deviceType: isPhone ? \"phone\" : \"tablet\",\r\n            platform: \"android\",\r\n            version: version,\r\n            grade: grade\r\n        }\r\n    }\r\n};\r\nclass Devices {\r\n    constructor(options) {\r\n        this._window = (null === options || void 0 === options ? void 0 : options.window) || window;\r\n        this._realDevice = this._getDevice();\r\n        this._currentDevice = void 0;\r\n        this._currentOrientation = void 0;\r\n        this._eventsStrategy = new EventsStrategy(this);\r\n        this.changed = Callbacks();\r\n        if (hasWindow()) {\r\n            readyCallbacks.add(this._recalculateOrientation.bind(this));\r\n            resizeCallbacks.add(this._recalculateOrientation.bind(this))\r\n        }\r\n    }\r\n    current(deviceOrName) {\r\n        if (deviceOrName) {\r\n            this._currentDevice = this._getDevice(deviceOrName);\r\n            this._forced = true;\r\n            this.changed.fire();\r\n            return\r\n        }\r\n        if (!this._currentDevice) {\r\n            deviceOrName = void 0;\r\n            try {\r\n                deviceOrName = this._getDeviceOrNameFromWindowScope()\r\n            } catch (e) {\r\n                deviceOrName = this._getDeviceNameFromSessionStorage()\r\n            } finally {\r\n                if (!deviceOrName) {\r\n                    deviceOrName = this._getDeviceNameFromSessionStorage()\r\n                }\r\n                if (deviceOrName) {\r\n                    this._forced = true\r\n                }\r\n            }\r\n            this._currentDevice = this._getDevice(deviceOrName)\r\n        }\r\n        return this._currentDevice\r\n    }\r\n    real(forceDevice) {\r\n        return extend({}, this._realDevice)\r\n    }\r\n    orientation() {\r\n        return this._currentOrientation\r\n    }\r\n    isForced() {\r\n        return this._forced\r\n    }\r\n    isRippleEmulator() {\r\n        return !!this._window.tinyHippos\r\n    }\r\n    _getCssClasses(device) {\r\n        var result = [];\r\n        var realDevice = this._realDevice;\r\n        device = device || this.current();\r\n        if (device.deviceType) {\r\n            result.push(\"dx-device-\".concat(device.deviceType));\r\n            if (\"desktop\" !== device.deviceType) {\r\n                result.push(\"dx-device-mobile\")\r\n            }\r\n        }\r\n        result.push(\"dx-device-\".concat(realDevice.platform));\r\n        if (realDevice.version && realDevice.version.length) {\r\n            result.push(\"dx-device-\".concat(realDevice.platform, \"-\").concat(realDevice.version[0]))\r\n        }\r\n        if (this.isSimulator()) {\r\n            result.push(\"dx-simulator\")\r\n        }\r\n        if (Config().rtlEnabled) {\r\n            result.push(\"dx-rtl\")\r\n        }\r\n        return result\r\n    }\r\n    attachCssClasses(element, device) {\r\n        this._deviceClasses = this._getCssClasses(device).join(\" \");\r\n        $(element).addClass(this._deviceClasses)\r\n    }\r\n    detachCssClasses(element) {\r\n        $(element).removeClass(this._deviceClasses)\r\n    }\r\n    isSimulator() {\r\n        try {\r\n            return this._isSimulator || hasWindow() && this._window.top !== this._window.self && this._window.top[\"dx-force-device\"] || this.isRippleEmulator()\r\n        } catch (e) {\r\n            return false\r\n        }\r\n    }\r\n    forceSimulator() {\r\n        this._isSimulator = true\r\n    }\r\n    _getDevice(deviceName) {\r\n        if (\"genericPhone\" === deviceName) {\r\n            deviceName = {\r\n                deviceType: \"phone\",\r\n                platform: \"generic\",\r\n                generic: true\r\n            }\r\n        }\r\n        if (isPlainObject(deviceName)) {\r\n            return this._fromConfig(deviceName)\r\n        } else {\r\n            var ua;\r\n            if (deviceName) {\r\n                ua = KNOWN_UA_TABLE[deviceName];\r\n                if (!ua) {\r\n                    throw errors.Error(\"E0005\")\r\n                }\r\n            } else {\r\n                ua = navigator.userAgent\r\n            }\r\n            return this._fromUA(ua)\r\n        }\r\n    }\r\n    _getDeviceOrNameFromWindowScope() {\r\n        var result;\r\n        if (hasWindow() && (this._window.top[\"dx-force-device-object\"] || this._window.top[\"dx-force-device\"])) {\r\n            result = this._window.top[\"dx-force-device-object\"] || this._window.top[\"dx-force-device\"]\r\n        }\r\n        return result\r\n    }\r\n    _getDeviceNameFromSessionStorage() {\r\n        var sessionStorage = SessionStorage();\r\n        if (!sessionStorage) {\r\n            return\r\n        }\r\n        var deviceOrName = sessionStorage.getItem(\"dx-force-device\");\r\n        try {\r\n            return JSON.parse(deviceOrName)\r\n        } catch (ex) {\r\n            return deviceOrName\r\n        }\r\n    }\r\n    _fromConfig(config) {\r\n        var result = extend({}, DEFAULT_DEVICE, this._currentDevice, config);\r\n        var shortcuts = {\r\n            phone: \"phone\" === result.deviceType,\r\n            tablet: \"tablet\" === result.deviceType,\r\n            android: \"android\" === result.platform,\r\n            ios: \"ios\" === result.platform,\r\n            generic: \"generic\" === result.platform\r\n        };\r\n        return extend(result, shortcuts)\r\n    }\r\n    _fromUA(ua) {\r\n        var config;\r\n        each(uaParsers, (platform, parser) => {\r\n            config = parser(ua);\r\n            return !config\r\n        });\r\n        if (config) {\r\n            return this._fromConfig(config)\r\n        }\r\n        return DEFAULT_DEVICE\r\n    }\r\n    _changeOrientation() {\r\n        var $window = $(this._window);\r\n        var orientation = $window.height() > $window.width() ? \"portrait\" : \"landscape\";\r\n        if (this._currentOrientation === orientation) {\r\n            return\r\n        }\r\n        this._currentOrientation = orientation;\r\n        this._eventsStrategy.fireEvent(\"orientationChanged\", [{\r\n            orientation: orientation\r\n        }])\r\n    }\r\n    _recalculateOrientation() {\r\n        var windowWidth = $(this._window).width();\r\n        if (this._currentWidth === windowWidth) {\r\n            return\r\n        }\r\n        this._currentWidth = windowWidth;\r\n        this._changeOrientation()\r\n    }\r\n    on(eventName, eventHandler) {\r\n        this._eventsStrategy.on(eventName, eventHandler);\r\n        return this\r\n    }\r\n    off(eventName, eventHandler) {\r\n        this._eventsStrategy.off(eventName, eventHandler);\r\n        return this\r\n    }\r\n}\r\nvar devices = new Devices;\r\nchangeCallback.add((viewPort, prevViewport) => {\r\n    devices.detachCssClasses(prevViewport);\r\n    devices.attachCssClasses(viewPort)\r\n});\r\nexport default devices;\r\n"]},"metadata":{},"sourceType":"module"}