{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/vector_map/vector_map.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { parseScalar as _parseScalar } from \"../core/utils\";\nimport { Projection } from \"./projection.main\";\nimport { ControlBar } from \"./control_bar\";\nimport { GestureHandler } from \"./gesture_handler\";\nimport { Tracker } from \"./tracker\";\nimport { DataExchanger } from \"./data_exchanger\";\nimport { LegendsControl } from \"./legend\";\nimport { LayoutControl } from \"./layout\";\nimport { MapLayerCollection, getMaxBound } from \"./map_layer\";\nimport { TooltipViewer } from \"./tooltip_viewer\";\nimport { generateDataKey } from \"./vector_map.utils\";\nvar DEFAULT_WIDTH = 800;\nvar DEFAULT_HEIGHT = 400;\nvar RE_STARTS_LAYERS = /^layers/;\nvar RE_ENDS_DATA_SOURCE = /\\.dataSource$/;\nimport \"./projection\";\nimport BaseWidget from \"../core/base_widget\";\n\nfunction mergeBounds(sumBounds, dataBounds) {\n  return dataBounds ? [Math.min(dataBounds[0], dataBounds[2], sumBounds[0]), Math.min(dataBounds[1], dataBounds[3], sumBounds[3]), Math.max(dataBounds[0], dataBounds[2], sumBounds[2]), Math.max(dataBounds[1], dataBounds[3], sumBounds[1])] : sumBounds;\n}\n\nvar dxVectorMap = BaseWidget.inherit({\n  _eventsMap: {\n    onClick: {\n      name: \"click\"\n    },\n    onCenterChanged: {\n      name: \"centerChanged\"\n    },\n    onZoomFactorChanged: {\n      name: \"zoomFactorChanged\"\n    },\n    onHoverChanged: {\n      name: \"hoverChanged\"\n    },\n    onSelectionChanged: {\n      name: \"selectionChanged\"\n    }\n  },\n  _rootClassPrefix: \"dxm\",\n  _rootClass: \"dxm-vector-map\",\n  _themeSection: \"map\",\n  _fontFields: [\"layer:area.label.font\", \"layer:marker:dot.label.font\", \"layer:marker:bubble.label.font\", \"layer:marker:pie.label.font\", \"layer:marker:image.label.font\", \"legend.font\", \"legend.title.font\", \"legend.title.subtitle.font\"],\n  _initLayerCollection: function _initLayerCollection(dataKey) {\n    var that = this;\n    that._layerCollection = new MapLayerCollection({\n      renderer: that._renderer,\n      projection: that._projection,\n      themeManager: that._themeManager,\n      tracker: that._tracker,\n      dataKey: dataKey,\n      eventTrigger: that._eventTrigger,\n      dataExchanger: that._dataExchanger,\n      tooltip: that._tooltip,\n      notifyDirty: that._notifyDirty,\n      notifyReady: that._notifyReady,\n      dataReady: function dataReady() {\n        var bounds;\n\n        if (that.option(\"getBoundsFromData\") && !that.option(\"bounds\")) {\n          that._preventProjectionEvents();\n\n          bounds = that._getBoundsFromData();\n\n          that._projection.setBounds(bounds);\n\n          that._allowProjectionEvents();\n        }\n\n        if (!that.option(\"projection\")) {\n          bounds = bounds || that._getBoundsFromData();\n\n          if (Math.ceil(bounds[0]) < -180 || Math.ceil(bounds[3]) < -90 || Math.floor(bounds[2]) > 180 || Math.floor(bounds[1]) > 90) {\n            var longitudeLength = bounds[2] - bounds[0];\n            var latitudeLength = bounds[1] - bounds[3];\n\n            that._projection.setEngine({\n              to: function to(coordinates) {\n                return [2 * (coordinates[0] - bounds[0]) / longitudeLength - 1, 2 * (coordinates[1] - bounds[3]) / latitudeLength - 1];\n              },\n              from: function from(coordinates) {\n                return [(coordinates[0] + 1) * longitudeLength / 2 + bounds[0], (coordinates[1] + 1) * latitudeLength / 2 + bounds[3]];\n              }\n            });\n          }\n        }\n      }\n    });\n  },\n  _getBoundsFromData: function _getBoundsFromData() {\n    var bounds = this._getBoundingBoxFromDataSource();\n\n    if (!bounds) {\n      var boundsByData = getMaxBound(this.getLayers().map(function (l) {\n        return l.getBounds();\n      }));\n\n      if (boundsByData) {\n        bounds = boundsByData;\n      }\n    }\n\n    bounds = bounds || [];\n    bounds = [bounds[0], bounds[3], bounds[2], bounds[1]];\n    return bounds;\n  },\n  _initLegendsControl: function _initLegendsControl() {\n    this._legendsControl = new LegendsControl({\n      renderer: this._renderer,\n      container: this._root,\n      widget: this,\n      layoutControl: this._layoutControl,\n      themeManager: this._themeManager,\n      dataExchanger: this._dataExchanger,\n      notifyDirty: this._notifyDirty,\n      notifyReady: this._notifyReady\n    });\n  },\n  _initControlBar: function _initControlBar(dataKey) {\n    this._controlBar = new ControlBar({\n      renderer: this._renderer,\n      container: this._root,\n      layoutControl: this._layoutControl,\n      projection: this._projection,\n      tracker: this._tracker,\n      dataKey: dataKey\n    });\n  },\n  _initElements: function _initElements() {\n    var that = this;\n    var dataKey = generateDataKey();\n    var notifyCounter = 0;\n    var preventProjectionEvents;\n\n    that._preventProjectionEvents = function () {\n      preventProjectionEvents = true;\n    };\n\n    that._allowProjectionEvents = function () {\n      preventProjectionEvents = false;\n    };\n\n    that._notifyDirty = function () {\n      that._resetIsReady();\n\n      ++notifyCounter;\n    };\n\n    that._notifyReady = function () {\n      that._allowProjectionEvents();\n\n      if (0 === --notifyCounter) {\n        that._drawn();\n      }\n    };\n\n    that._preventProjectionEvents();\n\n    that._dataExchanger = new DataExchanger();\n    that._projection = new Projection({\n      centerChanged: function centerChanged(value) {\n        if (!preventProjectionEvents) {\n          that._eventTrigger(\"centerChanged\", {\n            center: value\n          });\n        }\n      },\n      zoomChanged: function zoomChanged(value) {\n        if (!preventProjectionEvents) {\n          that._eventTrigger(\"zoomFactorChanged\", {\n            zoomFactor: value\n          });\n        }\n      }\n    });\n    that._tracker = new Tracker({\n      root: that._root,\n      projection: that._projection,\n      dataKey: dataKey\n    });\n    that._gestureHandler = new GestureHandler({\n      projection: that._projection,\n      renderer: that._renderer,\n      tracker: that._tracker\n    });\n    that._layoutControl = new LayoutControl(that);\n\n    that._layoutControl.suspend();\n\n    that._initLayerCollection(dataKey);\n\n    that._createHtmlStructure();\n\n    that._initControlBar(dataKey);\n\n    that._initLegendsControl();\n\n    that._prepareExtraElements();\n\n    that._tooltipViewer = new TooltipViewer({\n      tracker: that._tracker,\n      tooltip: that._tooltip,\n      layerCollection: that._layerCollection\n    });\n  },\n  _change_RESUME_LAYOUT: function _change_RESUME_LAYOUT() {\n    this._layoutControl.resume();\n  },\n  _initialChanges: [\"PROJECTION\", \"RESUME_LAYOUT\", \"LAYOUT_INIT\", \"BOUNDS\", \"MAX_ZOOM_FACTOR\", \"ZOOM_FACTOR\", \"CENTER\"],\n  _layoutChangesOrder: [\"RESUME_LAYOUT\", \"LAYERS\"],\n  _customChangesOrder: [\"EXTRA_ELEMENTS\"],\n  _initCore: function _initCore() {\n    this._root = this._renderer.root.attr({\n      align: \"center\",\n      cursor: \"default\"\n    });\n\n    this._initElements();\n  },\n  _disposeCore: function _disposeCore() {\n    this._controlBar.dispose();\n\n    this._gestureHandler.dispose();\n\n    this._tracker.dispose();\n\n    this._legendsControl.dispose();\n\n    this._layerCollection.dispose();\n\n    this._layoutControl.dispose();\n\n    this._tooltipViewer.dispose();\n\n    this._dataExchanger.dispose();\n\n    this._projection.dispose();\n\n    this._dataExchanger = this._gestureHandler = this._projection = this._tracker = this._layoutControl = this._root = this._layerCollection = this._controlBar = this._legendsControl = null;\n  },\n  _setupInteraction: function _setupInteraction() {\n    var options = {\n      centeringEnabled: !!_parseScalar(this._getOption(\"panningEnabled\", true), true),\n      zoomingEnabled: !!_parseScalar(this._getOption(\"zoomingEnabled\", true), true)\n    };\n\n    this._gestureHandler.setInteraction(options);\n\n    this._controlBar.setInteraction(options);\n  },\n  _getDefaultSize: function _getDefaultSize() {\n    return {\n      width: DEFAULT_WIDTH,\n      height: DEFAULT_HEIGHT\n    };\n  },\n  _applySize: function _applySize(rect) {\n    var layout = {\n      left: rect[0],\n      top: rect[1],\n      width: rect[2] - rect[0],\n      height: rect[3] - rect[1],\n      right: 0,\n      bottom: 0\n    };\n\n    this._projection.setSize(layout);\n\n    this._layoutControl.setSize(layout);\n\n    this._layerCollection.setRect([layout.left, layout.top, layout.width, layout.height]);\n\n    this._requestChange([\"EXTRA_ELEMENTS\"]);\n  },\n  _optionChanging: function _optionChanging(name, currentValue, nextValue) {\n    if (currentValue && nextValue) {\n      if (RE_STARTS_LAYERS.test(name)) {\n        if (currentValue.dataSource && nextValue.dataSource && currentValue !== nextValue) {\n          currentValue.dataSource = null;\n        } else if (RE_ENDS_DATA_SOURCE.test(name)) {\n          this.option(name, null);\n        }\n      }\n    }\n  },\n  _applyChanges: function _applyChanges() {\n    this._notifyDirty();\n\n    this.callBase.apply(this, arguments);\n\n    this._notifyReady();\n  },\n  _optionChangesMap: {\n    background: \"BACKGROUND\",\n    layers: \"LAYERS\",\n    extraElements: \"EXTRA_ELEMENTS\",\n    controlBar: \"CONTROL_BAR\",\n    legends: \"LEGENDS\",\n    touchEnabled: \"TRACKER\",\n    wheelEnabled: \"TRACKER\",\n    panningEnabled: \"INTERACTION\",\n    zoomingEnabled: \"INTERACTION\",\n    projection: \"PROJECTION\",\n    bounds: \"BOUNDS\",\n    maxZoomFactor: \"MAX_ZOOM_FACTOR\",\n    zoomFactor: \"ZOOM_FACTOR\",\n    center: \"CENTER\"\n  },\n  _optionChangesOrder: [\"PROJECTION\", \"BOUNDS\", \"MAX_ZOOM_FACTOR\", \"ZOOM_FACTOR\", \"CENTER\", \"BACKGROUND\", \"CONTROL_BAR\", \"LEGENDS\", \"TRACKER\", \"INTERACTION\"],\n  _change_PROJECTION: function _change_PROJECTION() {\n    this._setProjection();\n  },\n  _change_BOUNDS: function _change_BOUNDS() {\n    this._setBounds();\n  },\n  _change_MAX_ZOOM_FACTOR: function _change_MAX_ZOOM_FACTOR() {\n    this._setMaxZoom();\n  },\n  _change_ZOOM_FACTOR: function _change_ZOOM_FACTOR() {\n    this._setZoom();\n  },\n  _change_CENTER: function _change_CENTER() {\n    this._setCenter();\n  },\n  _change_BACKGROUND: function _change_BACKGROUND() {\n    this._setBackgroundOptions();\n  },\n  _change_LAYERS: function _change_LAYERS() {\n    this._setLayerCollectionOptions();\n  },\n  _change_CONTROL_BAR: function _change_CONTROL_BAR() {\n    this._setControlBarOptions();\n  },\n  _change_EXTRA_ELEMENTS: function _change_EXTRA_ELEMENTS() {\n    this._renderExtraElements();\n  },\n  _change_LEGENDS: function _change_LEGENDS() {\n    this._setLegendsOptions();\n  },\n  _change_TRACKER: function _change_TRACKER() {\n    this._setTrackerOptions();\n  },\n  _change_INTERACTION: function _change_INTERACTION() {\n    this._setupInteraction();\n  },\n  _themeDependentChanges: [\"BACKGROUND\", \"LAYERS\", \"CONTROL_BAR\", \"LEGENDS\", \"TRACKER\", \"INTERACTION\"],\n  _setProjection: function _setProjection() {\n    this._projection.setEngine(this.option(\"projection\"));\n  },\n  _setBounds: function _setBounds() {\n    this._projection.setBounds(this.option(\"bounds\"));\n  },\n  _setMaxZoom: function _setMaxZoom() {\n    this._projection.setMaxZoom(this.option(\"maxZoomFactor\"));\n  },\n  _setZoom: function _setZoom() {\n    this._projection.setZoom(this.option(\"zoomFactor\"));\n  },\n  _setCenter: function _setCenter() {\n    this._projection.setCenter(this.option(\"center\"));\n  },\n  _setBackgroundOptions: function _setBackgroundOptions() {\n    this._layerCollection.setBackgroundOptions(this._getOption(\"background\"));\n  },\n  _setLayerCollectionOptions: function _setLayerCollectionOptions() {\n    this._layerCollection.setOptions(this.option(\"layers\"));\n  },\n  _getBoundingBoxFromDataSource: function _getBoundingBoxFromDataSource() {\n    var layers = this._layerCollection.items();\n\n    var infinityBounds = [1 / 0, -1 / 0, -1 / 0, 1 / 0];\n    var resultBBox = layers && layers.length ? layers.reduce(function (sumBBox, l) {\n      var layerData = l.getData();\n      var itemCount = layerData.count();\n\n      if (itemCount > 0) {\n        var rootBBox = layerData.getBBox();\n\n        if (rootBBox) {\n          sumBBox = mergeBounds(sumBBox, rootBBox);\n        } else {\n          for (var i = 0; i < itemCount; i++) {\n            sumBBox = mergeBounds(sumBBox, layerData.getBBox(i));\n          }\n        }\n      }\n\n      return sumBBox;\n    }, infinityBounds) : void 0;\n    return resultBBox === infinityBounds ? void 0 : resultBBox;\n  },\n  _setControlBarOptions: function _setControlBarOptions() {\n    this._controlBar.setOptions(this._getOption(\"controlBar\"));\n  },\n  _setLegendsOptions: function _setLegendsOptions() {\n    this._legendsControl.setOptions(this.option(\"legends\"));\n  },\n  _setTrackerOptions: function _setTrackerOptions() {\n    this._tracker.setOptions({\n      touchEnabled: this._getOption(\"touchEnabled\", true),\n      wheelEnabled: this._getOption(\"wheelEnabled\", true)\n    });\n  },\n  getLayers: function getLayers() {\n    return this._layerCollection.items().map(function (l) {\n      return l.proxy;\n    });\n  },\n  getLayerByIndex: function getLayerByIndex(index) {\n    var layer = this._layerCollection.byIndex(index);\n\n    return layer ? layer.proxy : null;\n  },\n  getLayerByName: function getLayerByName(name) {\n    var layer = this._layerCollection.byName(name);\n\n    return layer ? layer.proxy : null;\n  },\n  clearSelection: function clearSelection(_noEvent) {\n    var layers = this._layerCollection.items();\n\n    var i;\n    var ii = layers.length;\n\n    for (i = 0; i < ii; ++i) {\n      layers[i].clearSelection(_noEvent);\n    }\n\n    return this;\n  },\n  center: function center(value) {\n    if (void 0 === value) {\n      return this._projection.getCenter();\n    } else {\n      this._projection.setCenter(value);\n\n      return this;\n    }\n  },\n  zoomFactor: function zoomFactor(value) {\n    if (void 0 === value) {\n      return this._projection.getZoom();\n    } else {\n      this._projection.setZoom(value);\n\n      return this;\n    }\n  },\n  viewport: function viewport(value) {\n    if (void 0 === value) {\n      return this._projection.getViewport();\n    } else {\n      this._projection.setViewport(value);\n\n      return this;\n    }\n  },\n  convertCoordinates: function convertCoordinates(coordinates) {\n    coordinates = coordinates && coordinates.length ? coordinates : [arguments[0], arguments[1]];\n    return this.convertToGeo(coordinates[0], coordinates[1]);\n  },\n  convertToGeo: function convertToGeo(x, y) {\n    return this._projection.fromScreenPoint([x, y]);\n  },\n  convertToXY: function convertToXY(longitude, latitude) {\n    return this._projection.toScreenPoint([longitude, latitude]);\n  }\n});\nimport componentRegistrator from \"../../core/component_registrator\";\ncomponentRegistrator(\"dxVectorMap\", dxVectorMap);\nexport default dxVectorMap;\nimport { plugin as ExportPlugin } from \"../core/export\";\nimport { plugin as TitlePlugin } from \"../core/title\";\nimport { plugin as TooltipPlugin } from \"../core/tooltip\";\nimport { plugin as LoadingIndicatorPlugin } from \"../core/loading_indicator\";\nimport { plugins as annotationsPlugins } from \"../core/annotations\";\ndxVectorMap.addPlugin(ExportPlugin);\ndxVectorMap.addPlugin(TitlePlugin);\ndxVectorMap.addPlugin(TooltipPlugin);\ndxVectorMap.addPlugin(LoadingIndicatorPlugin);\ndxVectorMap.addPlugin(annotationsPlugins.core);\ndxVectorMap.addPlugin(annotationsPlugins.vectorMap);","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/viz/vector_map/vector_map.js"],"names":["parseScalar","_parseScalar","Projection","ControlBar","GestureHandler","Tracker","DataExchanger","LegendsControl","LayoutControl","MapLayerCollection","getMaxBound","TooltipViewer","generateDataKey","DEFAULT_WIDTH","DEFAULT_HEIGHT","RE_STARTS_LAYERS","RE_ENDS_DATA_SOURCE","BaseWidget","mergeBounds","sumBounds","dataBounds","Math","min","max","dxVectorMap","inherit","_eventsMap","onClick","name","onCenterChanged","onZoomFactorChanged","onHoverChanged","onSelectionChanged","_rootClassPrefix","_rootClass","_themeSection","_fontFields","_initLayerCollection","dataKey","that","_layerCollection","renderer","_renderer","projection","_projection","themeManager","_themeManager","tracker","_tracker","eventTrigger","_eventTrigger","dataExchanger","_dataExchanger","tooltip","_tooltip","notifyDirty","_notifyDirty","notifyReady","_notifyReady","dataReady","bounds","option","_preventProjectionEvents","_getBoundsFromData","setBounds","_allowProjectionEvents","ceil","floor","longitudeLength","latitudeLength","setEngine","to","coordinates","from","_getBoundingBoxFromDataSource","boundsByData","getLayers","map","l","getBounds","_initLegendsControl","_legendsControl","container","_root","widget","layoutControl","_layoutControl","_initControlBar","_controlBar","_initElements","notifyCounter","preventProjectionEvents","_resetIsReady","_drawn","centerChanged","value","center","zoomChanged","zoomFactor","root","_gestureHandler","suspend","_createHtmlStructure","_prepareExtraElements","_tooltipViewer","layerCollection","_change_RESUME_LAYOUT","resume","_initialChanges","_layoutChangesOrder","_customChangesOrder","_initCore","attr","align","cursor","_disposeCore","dispose","_setupInteraction","options","centeringEnabled","_getOption","zoomingEnabled","setInteraction","_getDefaultSize","width","height","_applySize","rect","layout","left","top","right","bottom","setSize","setRect","_requestChange","_optionChanging","currentValue","nextValue","test","dataSource","_applyChanges","callBase","apply","arguments","_optionChangesMap","background","layers","extraElements","controlBar","legends","touchEnabled","wheelEnabled","panningEnabled","maxZoomFactor","_optionChangesOrder","_change_PROJECTION","_setProjection","_change_BOUNDS","_setBounds","_change_MAX_ZOOM_FACTOR","_setMaxZoom","_change_ZOOM_FACTOR","_setZoom","_change_CENTER","_setCenter","_change_BACKGROUND","_setBackgroundOptions","_change_LAYERS","_setLayerCollectionOptions","_change_CONTROL_BAR","_setControlBarOptions","_change_EXTRA_ELEMENTS","_renderExtraElements","_change_LEGENDS","_setLegendsOptions","_change_TRACKER","_setTrackerOptions","_change_INTERACTION","_themeDependentChanges","setMaxZoom","setZoom","setCenter","setBackgroundOptions","setOptions","items","infinityBounds","resultBBox","length","reduce","sumBBox","layerData","getData","itemCount","count","rootBBox","getBBox","i","proxy","getLayerByIndex","index","layer","byIndex","getLayerByName","byName","clearSelection","_noEvent","ii","getCenter","getZoom","viewport","getViewport","setViewport","convertCoordinates","convertToGeo","x","y","fromScreenPoint","convertToXY","longitude","latitude","toScreenPoint","componentRegistrator","plugin","ExportPlugin","TitlePlugin","TooltipPlugin","LoadingIndicatorPlugin","plugins","annotationsPlugins","addPlugin","core","vectorMap"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/viz/vector_map/vector_map.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    parseScalar as _parseScalar\r\n} from \"../core/utils\";\r\nimport {\r\n    Projection\r\n} from \"./projection.main\";\r\nimport {\r\n    ControlBar\r\n} from \"./control_bar\";\r\nimport {\r\n    GestureHandler\r\n} from \"./gesture_handler\";\r\nimport {\r\n    Tracker\r\n} from \"./tracker\";\r\nimport {\r\n    DataExchanger\r\n} from \"./data_exchanger\";\r\nimport {\r\n    LegendsControl\r\n} from \"./legend\";\r\nimport {\r\n    LayoutControl\r\n} from \"./layout\";\r\nimport {\r\n    MapLayerCollection,\r\n    getMaxBound\r\n} from \"./map_layer\";\r\nimport {\r\n    TooltipViewer\r\n} from \"./tooltip_viewer\";\r\nimport {\r\n    generateDataKey\r\n} from \"./vector_map.utils\";\r\nvar DEFAULT_WIDTH = 800;\r\nvar DEFAULT_HEIGHT = 400;\r\nvar RE_STARTS_LAYERS = /^layers/;\r\nvar RE_ENDS_DATA_SOURCE = /\\.dataSource$/;\r\nimport \"./projection\";\r\nimport BaseWidget from \"../core/base_widget\";\r\n\r\nfunction mergeBounds(sumBounds, dataBounds) {\r\n    return dataBounds ? [Math.min(dataBounds[0], dataBounds[2], sumBounds[0]), Math.min(dataBounds[1], dataBounds[3], sumBounds[3]), Math.max(dataBounds[0], dataBounds[2], sumBounds[2]), Math.max(dataBounds[1], dataBounds[3], sumBounds[1])] : sumBounds\r\n}\r\nvar dxVectorMap = BaseWidget.inherit({\r\n    _eventsMap: {\r\n        onClick: {\r\n            name: \"click\"\r\n        },\r\n        onCenterChanged: {\r\n            name: \"centerChanged\"\r\n        },\r\n        onZoomFactorChanged: {\r\n            name: \"zoomFactorChanged\"\r\n        },\r\n        onHoverChanged: {\r\n            name: \"hoverChanged\"\r\n        },\r\n        onSelectionChanged: {\r\n            name: \"selectionChanged\"\r\n        }\r\n    },\r\n    _rootClassPrefix: \"dxm\",\r\n    _rootClass: \"dxm-vector-map\",\r\n    _themeSection: \"map\",\r\n    _fontFields: [\"layer:area.label.font\", \"layer:marker:dot.label.font\", \"layer:marker:bubble.label.font\", \"layer:marker:pie.label.font\", \"layer:marker:image.label.font\", \"legend.font\", \"legend.title.font\", \"legend.title.subtitle.font\"],\r\n    _initLayerCollection: function(dataKey) {\r\n        var that = this;\r\n        that._layerCollection = new MapLayerCollection({\r\n            renderer: that._renderer,\r\n            projection: that._projection,\r\n            themeManager: that._themeManager,\r\n            tracker: that._tracker,\r\n            dataKey: dataKey,\r\n            eventTrigger: that._eventTrigger,\r\n            dataExchanger: that._dataExchanger,\r\n            tooltip: that._tooltip,\r\n            notifyDirty: that._notifyDirty,\r\n            notifyReady: that._notifyReady,\r\n            dataReady() {\r\n                var bounds;\r\n                if (that.option(\"getBoundsFromData\") && !that.option(\"bounds\")) {\r\n                    that._preventProjectionEvents();\r\n                    bounds = that._getBoundsFromData();\r\n                    that._projection.setBounds(bounds);\r\n                    that._allowProjectionEvents()\r\n                }\r\n                if (!that.option(\"projection\")) {\r\n                    bounds = bounds || that._getBoundsFromData();\r\n                    if (Math.ceil(bounds[0]) < -180 || Math.ceil(bounds[3]) < -90 || Math.floor(bounds[2]) > 180 || Math.floor(bounds[1]) > 90) {\r\n                        var longitudeLength = bounds[2] - bounds[0];\r\n                        var latitudeLength = bounds[1] - bounds[3];\r\n                        that._projection.setEngine({\r\n                            to: coordinates => [2 * (coordinates[0] - bounds[0]) / longitudeLength - 1, 2 * (coordinates[1] - bounds[3]) / latitudeLength - 1],\r\n                            from: coordinates => [(coordinates[0] + 1) * longitudeLength / 2 + bounds[0], (coordinates[1] + 1) * latitudeLength / 2 + bounds[3]]\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    },\r\n    _getBoundsFromData() {\r\n        var bounds = this._getBoundingBoxFromDataSource();\r\n        if (!bounds) {\r\n            var boundsByData = getMaxBound(this.getLayers().map(l => l.getBounds()));\r\n            if (boundsByData) {\r\n                bounds = boundsByData\r\n            }\r\n        }\r\n        bounds = bounds || [];\r\n        bounds = [bounds[0], bounds[3], bounds[2], bounds[1]];\r\n        return bounds\r\n    },\r\n    _initLegendsControl: function() {\r\n        this._legendsControl = new LegendsControl({\r\n            renderer: this._renderer,\r\n            container: this._root,\r\n            widget: this,\r\n            layoutControl: this._layoutControl,\r\n            themeManager: this._themeManager,\r\n            dataExchanger: this._dataExchanger,\r\n            notifyDirty: this._notifyDirty,\r\n            notifyReady: this._notifyReady\r\n        })\r\n    },\r\n    _initControlBar: function(dataKey) {\r\n        this._controlBar = new ControlBar({\r\n            renderer: this._renderer,\r\n            container: this._root,\r\n            layoutControl: this._layoutControl,\r\n            projection: this._projection,\r\n            tracker: this._tracker,\r\n            dataKey: dataKey\r\n        })\r\n    },\r\n    _initElements: function() {\r\n        var that = this;\r\n        var dataKey = generateDataKey();\r\n        var notifyCounter = 0;\r\n        var preventProjectionEvents;\r\n        that._preventProjectionEvents = function() {\r\n            preventProjectionEvents = true\r\n        };\r\n        that._allowProjectionEvents = function() {\r\n            preventProjectionEvents = false\r\n        };\r\n        that._notifyDirty = function() {\r\n            that._resetIsReady();\r\n            ++notifyCounter\r\n        };\r\n        that._notifyReady = function() {\r\n            that._allowProjectionEvents();\r\n            if (0 === --notifyCounter) {\r\n                that._drawn()\r\n            }\r\n        };\r\n        that._preventProjectionEvents();\r\n        that._dataExchanger = new DataExchanger;\r\n        that._projection = new Projection({\r\n            centerChanged: function(value) {\r\n                if (!preventProjectionEvents) {\r\n                    that._eventTrigger(\"centerChanged\", {\r\n                        center: value\r\n                    })\r\n                }\r\n            },\r\n            zoomChanged: function(value) {\r\n                if (!preventProjectionEvents) {\r\n                    that._eventTrigger(\"zoomFactorChanged\", {\r\n                        zoomFactor: value\r\n                    })\r\n                }\r\n            }\r\n        });\r\n        that._tracker = new Tracker({\r\n            root: that._root,\r\n            projection: that._projection,\r\n            dataKey: dataKey\r\n        });\r\n        that._gestureHandler = new GestureHandler({\r\n            projection: that._projection,\r\n            renderer: that._renderer,\r\n            tracker: that._tracker\r\n        });\r\n        that._layoutControl = new LayoutControl(that);\r\n        that._layoutControl.suspend();\r\n        that._initLayerCollection(dataKey);\r\n        that._createHtmlStructure();\r\n        that._initControlBar(dataKey);\r\n        that._initLegendsControl();\r\n        that._prepareExtraElements();\r\n        that._tooltipViewer = new TooltipViewer({\r\n            tracker: that._tracker,\r\n            tooltip: that._tooltip,\r\n            layerCollection: that._layerCollection\r\n        })\r\n    },\r\n    _change_RESUME_LAYOUT: function() {\r\n        this._layoutControl.resume()\r\n    },\r\n    _initialChanges: [\"PROJECTION\", \"RESUME_LAYOUT\", \"LAYOUT_INIT\", \"BOUNDS\", \"MAX_ZOOM_FACTOR\", \"ZOOM_FACTOR\", \"CENTER\"],\r\n    _layoutChangesOrder: [\"RESUME_LAYOUT\", \"LAYERS\"],\r\n    _customChangesOrder: [\"EXTRA_ELEMENTS\"],\r\n    _initCore: function() {\r\n        this._root = this._renderer.root.attr({\r\n            align: \"center\",\r\n            cursor: \"default\"\r\n        });\r\n        this._initElements()\r\n    },\r\n    _disposeCore: function() {\r\n        this._controlBar.dispose();\r\n        this._gestureHandler.dispose();\r\n        this._tracker.dispose();\r\n        this._legendsControl.dispose();\r\n        this._layerCollection.dispose();\r\n        this._layoutControl.dispose();\r\n        this._tooltipViewer.dispose();\r\n        this._dataExchanger.dispose();\r\n        this._projection.dispose();\r\n        this._dataExchanger = this._gestureHandler = this._projection = this._tracker = this._layoutControl = this._root = this._layerCollection = this._controlBar = this._legendsControl = null\r\n    },\r\n    _setupInteraction: function() {\r\n        var options = {\r\n            centeringEnabled: !!_parseScalar(this._getOption(\"panningEnabled\", true), true),\r\n            zoomingEnabled: !!_parseScalar(this._getOption(\"zoomingEnabled\", true), true)\r\n        };\r\n        this._gestureHandler.setInteraction(options);\r\n        this._controlBar.setInteraction(options)\r\n    },\r\n    _getDefaultSize: function() {\r\n        return {\r\n            width: DEFAULT_WIDTH,\r\n            height: DEFAULT_HEIGHT\r\n        }\r\n    },\r\n    _applySize: function(rect) {\r\n        var layout = {\r\n            left: rect[0],\r\n            top: rect[1],\r\n            width: rect[2] - rect[0],\r\n            height: rect[3] - rect[1],\r\n            right: 0,\r\n            bottom: 0\r\n        };\r\n        this._projection.setSize(layout);\r\n        this._layoutControl.setSize(layout);\r\n        this._layerCollection.setRect([layout.left, layout.top, layout.width, layout.height]);\r\n        this._requestChange([\"EXTRA_ELEMENTS\"])\r\n    },\r\n    _optionChanging: function(name, currentValue, nextValue) {\r\n        if (currentValue && nextValue) {\r\n            if (RE_STARTS_LAYERS.test(name)) {\r\n                if (currentValue.dataSource && nextValue.dataSource && currentValue !== nextValue) {\r\n                    currentValue.dataSource = null\r\n                } else if (RE_ENDS_DATA_SOURCE.test(name)) {\r\n                    this.option(name, null)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _applyChanges: function() {\r\n        this._notifyDirty();\r\n        this.callBase.apply(this, arguments);\r\n        this._notifyReady()\r\n    },\r\n    _optionChangesMap: {\r\n        background: \"BACKGROUND\",\r\n        layers: \"LAYERS\",\r\n        extraElements: \"EXTRA_ELEMENTS\",\r\n        controlBar: \"CONTROL_BAR\",\r\n        legends: \"LEGENDS\",\r\n        touchEnabled: \"TRACKER\",\r\n        wheelEnabled: \"TRACKER\",\r\n        panningEnabled: \"INTERACTION\",\r\n        zoomingEnabled: \"INTERACTION\",\r\n        projection: \"PROJECTION\",\r\n        bounds: \"BOUNDS\",\r\n        maxZoomFactor: \"MAX_ZOOM_FACTOR\",\r\n        zoomFactor: \"ZOOM_FACTOR\",\r\n        center: \"CENTER\"\r\n    },\r\n    _optionChangesOrder: [\"PROJECTION\", \"BOUNDS\", \"MAX_ZOOM_FACTOR\", \"ZOOM_FACTOR\", \"CENTER\", \"BACKGROUND\", \"CONTROL_BAR\", \"LEGENDS\", \"TRACKER\", \"INTERACTION\"],\r\n    _change_PROJECTION: function() {\r\n        this._setProjection()\r\n    },\r\n    _change_BOUNDS: function() {\r\n        this._setBounds()\r\n    },\r\n    _change_MAX_ZOOM_FACTOR: function() {\r\n        this._setMaxZoom()\r\n    },\r\n    _change_ZOOM_FACTOR: function() {\r\n        this._setZoom()\r\n    },\r\n    _change_CENTER: function() {\r\n        this._setCenter()\r\n    },\r\n    _change_BACKGROUND: function() {\r\n        this._setBackgroundOptions()\r\n    },\r\n    _change_LAYERS: function() {\r\n        this._setLayerCollectionOptions()\r\n    },\r\n    _change_CONTROL_BAR: function() {\r\n        this._setControlBarOptions()\r\n    },\r\n    _change_EXTRA_ELEMENTS: function() {\r\n        this._renderExtraElements()\r\n    },\r\n    _change_LEGENDS: function() {\r\n        this._setLegendsOptions()\r\n    },\r\n    _change_TRACKER: function() {\r\n        this._setTrackerOptions()\r\n    },\r\n    _change_INTERACTION: function() {\r\n        this._setupInteraction()\r\n    },\r\n    _themeDependentChanges: [\"BACKGROUND\", \"LAYERS\", \"CONTROL_BAR\", \"LEGENDS\", \"TRACKER\", \"INTERACTION\"],\r\n    _setProjection: function() {\r\n        this._projection.setEngine(this.option(\"projection\"))\r\n    },\r\n    _setBounds: function() {\r\n        this._projection.setBounds(this.option(\"bounds\"))\r\n    },\r\n    _setMaxZoom: function() {\r\n        this._projection.setMaxZoom(this.option(\"maxZoomFactor\"))\r\n    },\r\n    _setZoom: function() {\r\n        this._projection.setZoom(this.option(\"zoomFactor\"))\r\n    },\r\n    _setCenter: function() {\r\n        this._projection.setCenter(this.option(\"center\"))\r\n    },\r\n    _setBackgroundOptions: function() {\r\n        this._layerCollection.setBackgroundOptions(this._getOption(\"background\"))\r\n    },\r\n    _setLayerCollectionOptions: function() {\r\n        this._layerCollection.setOptions(this.option(\"layers\"))\r\n    },\r\n    _getBoundingBoxFromDataSource() {\r\n        var layers = this._layerCollection.items();\r\n        var infinityBounds = [1 / 0, -1 / 0, -1 / 0, 1 / 0];\r\n        var resultBBox = layers && layers.length ? layers.reduce((sumBBox, l) => {\r\n            var layerData = l.getData();\r\n            var itemCount = layerData.count();\r\n            if (itemCount > 0) {\r\n                var rootBBox = layerData.getBBox();\r\n                if (rootBBox) {\r\n                    sumBBox = mergeBounds(sumBBox, rootBBox)\r\n                } else {\r\n                    for (var i = 0; i < itemCount; i++) {\r\n                        sumBBox = mergeBounds(sumBBox, layerData.getBBox(i))\r\n                    }\r\n                }\r\n            }\r\n            return sumBBox\r\n        }, infinityBounds) : void 0;\r\n        return resultBBox === infinityBounds ? void 0 : resultBBox\r\n    },\r\n    _setControlBarOptions: function() {\r\n        this._controlBar.setOptions(this._getOption(\"controlBar\"))\r\n    },\r\n    _setLegendsOptions: function() {\r\n        this._legendsControl.setOptions(this.option(\"legends\"))\r\n    },\r\n    _setTrackerOptions: function() {\r\n        this._tracker.setOptions({\r\n            touchEnabled: this._getOption(\"touchEnabled\", true),\r\n            wheelEnabled: this._getOption(\"wheelEnabled\", true)\r\n        })\r\n    },\r\n    getLayers() {\r\n        return this._layerCollection.items().map(l => l.proxy)\r\n    },\r\n    getLayerByIndex: function(index) {\r\n        var layer = this._layerCollection.byIndex(index);\r\n        return layer ? layer.proxy : null\r\n    },\r\n    getLayerByName: function(name) {\r\n        var layer = this._layerCollection.byName(name);\r\n        return layer ? layer.proxy : null\r\n    },\r\n    clearSelection: function(_noEvent) {\r\n        var layers = this._layerCollection.items();\r\n        var i;\r\n        var ii = layers.length;\r\n        for (i = 0; i < ii; ++i) {\r\n            layers[i].clearSelection(_noEvent)\r\n        }\r\n        return this\r\n    },\r\n    center: function(value) {\r\n        if (void 0 === value) {\r\n            return this._projection.getCenter()\r\n        } else {\r\n            this._projection.setCenter(value);\r\n            return this\r\n        }\r\n    },\r\n    zoomFactor: function(value) {\r\n        if (void 0 === value) {\r\n            return this._projection.getZoom()\r\n        } else {\r\n            this._projection.setZoom(value);\r\n            return this\r\n        }\r\n    },\r\n    viewport: function(value) {\r\n        if (void 0 === value) {\r\n            return this._projection.getViewport()\r\n        } else {\r\n            this._projection.setViewport(value);\r\n            return this\r\n        }\r\n    },\r\n    convertCoordinates: function(coordinates) {\r\n        coordinates = coordinates && coordinates.length ? coordinates : [arguments[0], arguments[1]];\r\n        return this.convertToGeo(coordinates[0], coordinates[1])\r\n    },\r\n    convertToGeo: function(x, y) {\r\n        return this._projection.fromScreenPoint([x, y])\r\n    },\r\n    convertToXY: function(longitude, latitude) {\r\n        return this._projection.toScreenPoint([longitude, latitude])\r\n    }\r\n});\r\nimport componentRegistrator from \"../../core/component_registrator\";\r\ncomponentRegistrator(\"dxVectorMap\", dxVectorMap);\r\nexport default dxVectorMap;\r\nimport {\r\n    plugin as ExportPlugin\r\n} from \"../core/export\";\r\nimport {\r\n    plugin as TitlePlugin\r\n} from \"../core/title\";\r\nimport {\r\n    plugin as TooltipPlugin\r\n} from \"../core/tooltip\";\r\nimport {\r\n    plugin as LoadingIndicatorPlugin\r\n} from \"../core/loading_indicator\";\r\nimport {\r\n    plugins as annotationsPlugins\r\n} from \"../core/annotations\";\r\ndxVectorMap.addPlugin(ExportPlugin);\r\ndxVectorMap.addPlugin(TitlePlugin);\r\ndxVectorMap.addPlugin(TooltipPlugin);\r\ndxVectorMap.addPlugin(LoadingIndicatorPlugin);\r\ndxVectorMap.addPlugin(annotationsPlugins.core);\r\ndxVectorMap.addPlugin(annotationsPlugins.vectorMap);\r\n"]},"metadata":{},"sourceType":"module"}