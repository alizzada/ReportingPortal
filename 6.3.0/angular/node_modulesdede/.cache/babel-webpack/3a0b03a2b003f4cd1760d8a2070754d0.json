{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/collection/ui.collection_widget.edit.strategy.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport Class from \"../../core/class\";\nimport { equalByValue } from \"../../core/utils/common\";\nimport domAdapter from \"../../core/dom_adapter\";\nvar abstract = Class.abstract;\nvar EditStrategy = Class.inherit({\n  ctor: function ctor(collectionWidget) {\n    this._collectionWidget = collectionWidget;\n  },\n  getIndexByItemData: abstract,\n  getItemDataByIndex: abstract,\n  getKeysByItems: abstract,\n  getItemsByKeys: abstract,\n  itemsGetter: abstract,\n  getKeyByIndex: function getKeyByIndex(index) {\n    var resultIndex = this._denormalizeItemIndex(index);\n\n    return this.getKeysByItems([this.getItemDataByIndex(resultIndex)])[0];\n  },\n  _equalKeys: function _equalKeys(key1, key2) {\n    if (this._collectionWidget._isKeySpecified()) {\n      return equalByValue(key1, key2);\n    } else {\n      return key1 === key2;\n    }\n  },\n  beginCache: function beginCache() {\n    this._cache = {};\n  },\n  endCache: function endCache() {\n    this._cache = null;\n  },\n  getIndexByKey: abstract,\n  getNormalizedIndex: function getNormalizedIndex(value) {\n    if (this._isNormalizedItemIndex(value)) {\n      return value;\n    }\n\n    if (this._isItemIndex(value)) {\n      return this._normalizeItemIndex(value);\n    }\n\n    if (this._isNode(value)) {\n      return this._getNormalizedItemIndex(value);\n    }\n\n    return this._normalizeItemIndex(this.getIndexByItemData(value));\n  },\n  getIndex: function getIndex(value) {\n    if (this._isNormalizedItemIndex(value)) {\n      return this._denormalizeItemIndex(value);\n    }\n\n    if (this._isItemIndex(value)) {\n      return value;\n    }\n\n    if (this._isNode(value)) {\n      return this._denormalizeItemIndex(this._getNormalizedItemIndex(value));\n    }\n\n    return this.getIndexByItemData(value);\n  },\n  getItemElement: function getItemElement(value) {\n    if (this._isNormalizedItemIndex(value)) {\n      return this._getItemByNormalizedIndex(value);\n    }\n\n    if (this._isItemIndex(value)) {\n      return this._getItemByNormalizedIndex(this._normalizeItemIndex(value));\n    }\n\n    if (this._isNode(value)) {\n      return $(value);\n    }\n\n    var normalizedItemIndex = this._normalizeItemIndex(this.getIndexByItemData(value));\n\n    return this._getItemByNormalizedIndex(normalizedItemIndex);\n  },\n  _isNode: function _isNode(el) {\n    return domAdapter.isNode(el && el.get ? el.get(0) : el);\n  },\n  deleteItemAtIndex: abstract,\n  itemPlacementFunc: function itemPlacementFunc(movingIndex, destinationIndex) {\n    return this._itemsFromSameParent(movingIndex, destinationIndex) && movingIndex < destinationIndex ? \"after\" : \"before\";\n  },\n  moveItemAtIndexToIndex: abstract,\n  _isNormalizedItemIndex: function _isNormalizedItemIndex(index) {\n    return \"number\" === typeof index && Math.round(index) === index;\n  },\n  _isItemIndex: abstract,\n  _getNormalizedItemIndex: abstract,\n  _normalizeItemIndex: abstract,\n  _denormalizeItemIndex: abstract,\n  _getItemByNormalizedIndex: abstract,\n  _itemsFromSameParent: abstract\n});\nexport default EditStrategy;","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/ui/collection/ui.collection_widget.edit.strategy.js"],"names":["$","Class","equalByValue","domAdapter","abstract","EditStrategy","inherit","ctor","collectionWidget","_collectionWidget","getIndexByItemData","getItemDataByIndex","getKeysByItems","getItemsByKeys","itemsGetter","getKeyByIndex","index","resultIndex","_denormalizeItemIndex","_equalKeys","key1","key2","_isKeySpecified","beginCache","_cache","endCache","getIndexByKey","getNormalizedIndex","value","_isNormalizedItemIndex","_isItemIndex","_normalizeItemIndex","_isNode","_getNormalizedItemIndex","getIndex","getItemElement","_getItemByNormalizedIndex","normalizedItemIndex","el","isNode","get","deleteItemAtIndex","itemPlacementFunc","movingIndex","destinationIndex","_itemsFromSameParent","moveItemAtIndexToIndex","Math","round"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/collection/ui.collection_widget.edit.strategy.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    equalByValue\r\n} from \"../../core/utils/common\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nvar abstract = Class.abstract;\r\nvar EditStrategy = Class.inherit({\r\n    ctor: function(collectionWidget) {\r\n        this._collectionWidget = collectionWidget\r\n    },\r\n    getIndexByItemData: abstract,\r\n    getItemDataByIndex: abstract,\r\n    getKeysByItems: abstract,\r\n    getItemsByKeys: abstract,\r\n    itemsGetter: abstract,\r\n    getKeyByIndex: function(index) {\r\n        var resultIndex = this._denormalizeItemIndex(index);\r\n        return this.getKeysByItems([this.getItemDataByIndex(resultIndex)])[0]\r\n    },\r\n    _equalKeys: function(key1, key2) {\r\n        if (this._collectionWidget._isKeySpecified()) {\r\n            return equalByValue(key1, key2)\r\n        } else {\r\n            return key1 === key2\r\n        }\r\n    },\r\n    beginCache: function() {\r\n        this._cache = {}\r\n    },\r\n    endCache: function() {\r\n        this._cache = null\r\n    },\r\n    getIndexByKey: abstract,\r\n    getNormalizedIndex: function(value) {\r\n        if (this._isNormalizedItemIndex(value)) {\r\n            return value\r\n        }\r\n        if (this._isItemIndex(value)) {\r\n            return this._normalizeItemIndex(value)\r\n        }\r\n        if (this._isNode(value)) {\r\n            return this._getNormalizedItemIndex(value)\r\n        }\r\n        return this._normalizeItemIndex(this.getIndexByItemData(value))\r\n    },\r\n    getIndex: function(value) {\r\n        if (this._isNormalizedItemIndex(value)) {\r\n            return this._denormalizeItemIndex(value)\r\n        }\r\n        if (this._isItemIndex(value)) {\r\n            return value\r\n        }\r\n        if (this._isNode(value)) {\r\n            return this._denormalizeItemIndex(this._getNormalizedItemIndex(value))\r\n        }\r\n        return this.getIndexByItemData(value)\r\n    },\r\n    getItemElement: function(value) {\r\n        if (this._isNormalizedItemIndex(value)) {\r\n            return this._getItemByNormalizedIndex(value)\r\n        }\r\n        if (this._isItemIndex(value)) {\r\n            return this._getItemByNormalizedIndex(this._normalizeItemIndex(value))\r\n        }\r\n        if (this._isNode(value)) {\r\n            return $(value)\r\n        }\r\n        var normalizedItemIndex = this._normalizeItemIndex(this.getIndexByItemData(value));\r\n        return this._getItemByNormalizedIndex(normalizedItemIndex)\r\n    },\r\n    _isNode: el => domAdapter.isNode(el && el.get ? el.get(0) : el),\r\n    deleteItemAtIndex: abstract,\r\n    itemPlacementFunc: function(movingIndex, destinationIndex) {\r\n        return this._itemsFromSameParent(movingIndex, destinationIndex) && movingIndex < destinationIndex ? \"after\" : \"before\"\r\n    },\r\n    moveItemAtIndexToIndex: abstract,\r\n    _isNormalizedItemIndex: function(index) {\r\n        return \"number\" === typeof index && Math.round(index) === index\r\n    },\r\n    _isItemIndex: abstract,\r\n    _getNormalizedItemIndex: abstract,\r\n    _normalizeItemIndex: abstract,\r\n    _denormalizeItemIndex: abstract,\r\n    _getItemByNormalizedIndex: abstract,\r\n    _itemsFromSameParent: abstract\r\n});\r\nexport default EditStrategy;\r\n"]},"metadata":{},"sourceType":"module"}