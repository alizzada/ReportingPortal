{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/accordion.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../core/renderer\";\nimport eventsEngine from \"../events/core/events_engine\";\nimport fx from \"../animation/fx\";\nimport { name as clickEventName } from \"../events/click\";\nimport devices from \"../core/devices\";\nimport domAdapter from \"../core/dom_adapter\";\nimport { extend } from \"../core/utils/extend\";\nimport { deferRender } from \"../core/utils/common\";\nimport { getPublicElement } from \"../core/element\";\nimport * as iteratorUtils from \"../core/utils/iterator\";\nimport { isPlainObject, isDefined } from \"../core/utils/type\";\nimport registerComponent from \"../core/component_registrator\";\nimport { addNamespace } from \"../events/utils/index\";\nimport CollectionWidget from \"./collection/ui.collection_widget.live_update\";\nimport { when, Deferred } from \"../core/utils/deferred\";\nimport { BindableTemplate } from \"../core/templates/bindable_template\";\nimport { getImageContainer } from \"../core/utils/icon\";\nimport { isMaterial } from \"./themes\";\nvar ACCORDION_CLASS = \"dx-accordion\";\nvar ACCORDION_WRAPPER_CLASS = \"dx-accordion-wrapper\";\nvar ACCORDION_ITEM_CLASS = \"dx-accordion-item\";\nvar ACCORDION_ITEM_OPENED_CLASS = \"dx-accordion-item-opened\";\nvar ACCORDION_ITEM_CLOSED_CLASS = \"dx-accordion-item-closed\";\nvar ACCORDION_ITEM_TITLE_CLASS = \"dx-accordion-item-title\";\nvar ACCORDION_ITEM_BODY_CLASS = \"dx-accordion-item-body\";\nvar ACCORDION_ITEM_TITLE_CAPTION_CLASS = \"dx-accordion-item-title-caption\";\nvar ACCORDION_ITEM_DATA_KEY = \"dxAccordionItemData\";\nvar Accordion = CollectionWidget.inherit({\n  _activeStateUnit: \".\" + ACCORDION_ITEM_CLASS,\n  _getDefaultOptions: function _getDefaultOptions() {\n    return extend(this.callBase(), {\n      hoverStateEnabled: true,\n      height: void 0,\n      itemTitleTemplate: \"title\",\n      onItemTitleClick: null,\n      selectedIndex: 0,\n      collapsible: false,\n      multiple: false,\n      animationDuration: 300,\n      deferRendering: true,\n      selectionByClick: true,\n      activeStateEnabled: true,\n      _itemAttributes: {\n        role: \"tab\"\n      },\n      _animationEasing: \"ease\"\n    });\n  },\n  _defaultOptionsRules: function _defaultOptionsRules() {\n    return this.callBase().concat([{\n      device: function device() {\n        return \"desktop\" === devices.real().deviceType && !devices.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: function device() {\n        return isMaterial();\n      },\n      options: {\n        animationDuration: 200,\n        _animationEasing: \"cubic-bezier(0.4, 0, 0.2, 1)\"\n      }\n    }]);\n  },\n  _itemElements: function _itemElements() {\n    return this._itemContainer().children(this._itemSelector());\n  },\n  _init: function _init() {\n    this.callBase();\n    this.option(\"selectionRequired\", !this.option(\"collapsible\"));\n    this.option(\"selectionMode\", this.option(\"multiple\") ? \"multiple\" : \"single\");\n    var $element = this.$element();\n    $element.addClass(ACCORDION_CLASS);\n    this._$container = $(\"<div>\").addClass(ACCORDION_WRAPPER_CLASS);\n    $element.append(this._$container);\n  },\n  _initTemplates: function _initTemplates() {\n    this.callBase();\n\n    this._templateManager.addDefaultTemplates({\n      title: new BindableTemplate(function ($container, data) {\n        if (isPlainObject(data)) {\n          var $iconElement = getImageContainer(data.icon);\n\n          if ($iconElement) {\n            $container.append($iconElement);\n          }\n\n          if (isDefined(data.title) && !isPlainObject(data.title)) {\n            $container.append(domAdapter.createTextNode(data.title));\n          }\n        } else if (isDefined(data)) {\n          $container.text(String(data));\n        }\n\n        $container.wrapInner($(\"<div>\").addClass(ACCORDION_ITEM_TITLE_CAPTION_CLASS));\n      }, [\"title\", \"icon\"], this.option(\"integrationOptions.watchMethod\"))\n    });\n  },\n  _initMarkup: function _initMarkup() {\n    var _this = this;\n\n    this._deferredItems = [];\n    this.callBase();\n    this.setAria({\n      role: \"tablist\",\n      multiselectable: this.option(\"multiple\")\n    });\n    deferRender(function () {\n      var selectedItemIndices = _this._getSelectedItemIndices();\n\n      _this._renderSelection(selectedItemIndices, []);\n    });\n  },\n  _render: function _render() {\n    this.callBase();\n\n    this._updateItemHeightsWrapper(true);\n  },\n  _itemDataKey: function _itemDataKey() {\n    return ACCORDION_ITEM_DATA_KEY;\n  },\n  _itemClass: function _itemClass() {\n    return ACCORDION_ITEM_CLASS;\n  },\n  _itemContainer: function _itemContainer() {\n    return this._$container;\n  },\n  _itemTitles: function _itemTitles() {\n    return this._itemElements().find(\".\" + ACCORDION_ITEM_TITLE_CLASS);\n  },\n  _itemContents: function _itemContents() {\n    return this._itemElements().find(\".\" + ACCORDION_ITEM_BODY_CLASS);\n  },\n  _getItemData: function _getItemData(target) {\n    return $(target).parent().data(this._itemDataKey()) || this.callBase.apply(this, arguments);\n  },\n  _executeItemRenderAction: function _executeItemRenderAction(itemData) {\n    if (itemData.type) {\n      return;\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _itemSelectHandler: function _itemSelectHandler(e) {\n    if ($(e.target).closest(this._itemContents()).length) {\n      return;\n    }\n\n    this.callBase.apply(this, arguments);\n  },\n  _afterItemElementDeleted: function _afterItemElementDeleted($item, deletedActionArgs) {\n    this._deferredItems.splice(deletedActionArgs.itemIndex, 1);\n\n    this.callBase.apply(this, arguments);\n  },\n  _renderItemContent: function _renderItemContent(args) {\n    var itemTitle = this.callBase(extend({}, args, {\n      contentClass: ACCORDION_ITEM_TITLE_CLASS,\n      templateProperty: \"titleTemplate\",\n      defaultTemplateName: this.option(\"itemTitleTemplate\")\n    }));\n\n    this._attachItemTitleClickAction(itemTitle);\n\n    var deferred = new Deferred();\n\n    if (isDefined(this._deferredItems[args.index])) {\n      this._deferredItems[args.index] = deferred;\n    } else {\n      this._deferredItems.push(deferred);\n    }\n\n    if (!this.option(\"deferRendering\") || this._getSelectedItemIndices().indexOf(args.index) >= 0) {\n      deferred.resolve();\n    }\n\n    deferred.done(this.callBase.bind(this, extend({}, args, {\n      contentClass: ACCORDION_ITEM_BODY_CLASS,\n      container: getPublicElement($(\"<div>\").appendTo($(itemTitle).parent()))\n    })));\n  },\n  _attachItemTitleClickAction: function _attachItemTitleClickAction(itemTitle) {\n    var eventName = addNamespace(clickEventName, this.NAME);\n    eventsEngine.off(itemTitle, eventName);\n    eventsEngine.on(itemTitle, eventName, this._itemTitleClickHandler.bind(this));\n  },\n  _itemTitleClickHandler: function _itemTitleClickHandler(e) {\n    this._itemDXEventHandler(e, \"onItemTitleClick\");\n  },\n  _renderSelection: function _renderSelection(addedSelection, removedSelection) {\n    this._itemElements().addClass(ACCORDION_ITEM_CLOSED_CLASS);\n\n    this.setAria(\"hidden\", true, this._itemContents());\n\n    this._updateItems(addedSelection, removedSelection);\n  },\n  _updateSelection: function _updateSelection(addedSelection, removedSelection) {\n    this._updateItems(addedSelection, removedSelection);\n\n    this._updateItemHeightsWrapper(false);\n  },\n  _updateItems: function _updateItems(addedSelection, removedSelection) {\n    var _this2 = this;\n\n    var $items = this._itemElements();\n\n    iteratorUtils.each(addedSelection, function (_, index) {\n      _this2._deferredItems[index].resolve();\n\n      var $item = $items.eq(index).addClass(ACCORDION_ITEM_OPENED_CLASS).removeClass(ACCORDION_ITEM_CLOSED_CLASS);\n\n      _this2.setAria(\"hidden\", false, $item.find(\".\" + ACCORDION_ITEM_BODY_CLASS));\n    });\n    iteratorUtils.each(removedSelection, function (_, index) {\n      var $item = $items.eq(index).removeClass(ACCORDION_ITEM_OPENED_CLASS);\n\n      _this2.setAria(\"hidden\", true, $item.find(\".\" + ACCORDION_ITEM_BODY_CLASS));\n    });\n  },\n  _updateItemHeightsWrapper: function _updateItemHeightsWrapper(skipAnimation) {\n    if (this.option(\"templatesRenderAsynchronously\")) {\n      this._animationTimer = setTimeout(function () {\n        this._updateItemHeights(skipAnimation);\n      }.bind(this));\n    } else {\n      this._updateItemHeights(skipAnimation);\n    }\n  },\n  _updateItemHeights: function _updateItemHeights(skipAnimation) {\n    var that = this;\n    var deferredAnimate = that._deferredAnimate;\n\n    var itemHeight = this._splitFreeSpace(this._calculateFreeSpace());\n\n    clearTimeout(this._animationTimer);\n    return when.apply($, [].slice.call(this._itemElements()).map(function (item) {\n      return that._updateItemHeight($(item), itemHeight, skipAnimation);\n    })).done(function () {\n      if (deferredAnimate) {\n        deferredAnimate.resolveWith(that);\n      }\n    });\n  },\n  _updateItemHeight: function _updateItemHeight($item, itemHeight, skipAnimation) {\n    var $title = $item.children(\".\" + ACCORDION_ITEM_TITLE_CLASS);\n\n    if (fx.isAnimating($item)) {\n      fx.stop($item);\n    }\n\n    var startItemHeight = $item.outerHeight();\n    var finalItemHeight = $item.hasClass(ACCORDION_ITEM_OPENED_CLASS) ? itemHeight + $title.outerHeight() || $item.height(\"auto\").outerHeight() : $title.outerHeight();\n    return this._animateItem($item, startItemHeight, finalItemHeight, skipAnimation, !!itemHeight);\n  },\n  _animateItem: function _animateItem($element, startHeight, endHeight, skipAnimation, fixedHeight) {\n    var d;\n\n    if (skipAnimation || startHeight === endHeight) {\n      $element.css(\"height\", endHeight);\n      d = new Deferred().resolve();\n    } else {\n      d = fx.animate($element, {\n        type: \"custom\",\n        from: {\n          height: startHeight\n        },\n        to: {\n          height: endHeight\n        },\n        duration: this.option(\"animationDuration\"),\n        easing: this.option(\"_animationEasing\")\n      });\n    }\n\n    return d.done(function () {\n      if ($element.hasClass(ACCORDION_ITEM_OPENED_CLASS) && !fixedHeight) {\n        $element.css(\"height\", \"\");\n      }\n\n      $element.not(\".\" + ACCORDION_ITEM_OPENED_CLASS).addClass(ACCORDION_ITEM_CLOSED_CLASS);\n    });\n  },\n  _splitFreeSpace: function _splitFreeSpace(freeSpace) {\n    if (!freeSpace) {\n      return freeSpace;\n    }\n\n    return freeSpace / this.option(\"selectedItems\").length;\n  },\n  _calculateFreeSpace: function _calculateFreeSpace() {\n    var height = this.option(\"height\");\n\n    if (void 0 === height || \"auto\" === height) {\n      return;\n    }\n\n    var $titles = this._itemTitles();\n\n    var itemsHeight = 0;\n    iteratorUtils.each($titles, function (_, title) {\n      itemsHeight += $(title).outerHeight();\n    });\n    return this.$element().height() - itemsHeight;\n  },\n  _visibilityChanged: function _visibilityChanged(visible) {\n    if (visible) {\n      this._dimensionChanged();\n    }\n  },\n  _dimensionChanged: function _dimensionChanged() {\n    this._updateItemHeights(true);\n  },\n  _clean: function _clean() {\n    clearTimeout(this._animationTimer);\n    this.callBase();\n  },\n  _tryParseItemPropertyName: function _tryParseItemPropertyName(fullName) {\n    var matches = fullName.match(/.*\\.(.*)/);\n\n    if (isDefined(matches) && matches.length >= 1) {\n      return matches[1];\n    }\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"items\":\n        this.callBase(args);\n\n        if (\"title\" === this._tryParseItemPropertyName(args.fullName)) {\n          this._renderSelection(this._getSelectedItemIndices(), []);\n        }\n\n        if (\"visible\" === this._tryParseItemPropertyName(args.fullName)) {\n          this._updateItemHeightsWrapper(true);\n        }\n\n        break;\n\n      case \"animationDuration\":\n      case \"onItemTitleClick\":\n      case \"_animationEasing\":\n        break;\n\n      case \"collapsible\":\n        this.option(\"selectionRequired\", !this.option(\"collapsible\"));\n        break;\n\n      case \"itemTitleTemplate\":\n      case \"height\":\n      case \"deferRendering\":\n        this._invalidate();\n\n        break;\n\n      case \"multiple\":\n        this.option(\"selectionMode\", args.value ? \"multiple\" : \"single\");\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  expandItem: function expandItem(index) {\n    this._deferredAnimate = new Deferred();\n    this.selectItem(index);\n    return this._deferredAnimate.promise();\n  },\n  collapseItem: function collapseItem(index) {\n    this._deferredAnimate = new Deferred();\n    this.unselectItem(index);\n    return this._deferredAnimate.promise();\n  },\n  updateDimensions: function updateDimensions() {\n    return this._updateItemHeights(false);\n  }\n});\nregisterComponent(\"dxAccordion\", Accordion);\nexport default Accordion;","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/ui/accordion.js"],"names":["$","eventsEngine","fx","name","clickEventName","devices","domAdapter","extend","deferRender","getPublicElement","iteratorUtils","isPlainObject","isDefined","registerComponent","addNamespace","CollectionWidget","when","Deferred","BindableTemplate","getImageContainer","isMaterial","ACCORDION_CLASS","ACCORDION_WRAPPER_CLASS","ACCORDION_ITEM_CLASS","ACCORDION_ITEM_OPENED_CLASS","ACCORDION_ITEM_CLOSED_CLASS","ACCORDION_ITEM_TITLE_CLASS","ACCORDION_ITEM_BODY_CLASS","ACCORDION_ITEM_TITLE_CAPTION_CLASS","ACCORDION_ITEM_DATA_KEY","Accordion","inherit","_activeStateUnit","_getDefaultOptions","callBase","hoverStateEnabled","height","itemTitleTemplate","onItemTitleClick","selectedIndex","collapsible","multiple","animationDuration","deferRendering","selectionByClick","activeStateEnabled","_itemAttributes","role","_animationEasing","_defaultOptionsRules","concat","device","real","deviceType","isSimulator","options","focusStateEnabled","_itemElements","_itemContainer","children","_itemSelector","_init","option","$element","addClass","_$container","append","_initTemplates","_templateManager","addDefaultTemplates","title","$container","data","$iconElement","icon","createTextNode","text","String","wrapInner","_initMarkup","_deferredItems","setAria","multiselectable","selectedItemIndices","_getSelectedItemIndices","_renderSelection","_render","_updateItemHeightsWrapper","_itemDataKey","_itemClass","_itemTitles","find","_itemContents","_getItemData","target","parent","apply","arguments","_executeItemRenderAction","itemData","type","_itemSelectHandler","e","closest","length","_afterItemElementDeleted","$item","deletedActionArgs","splice","itemIndex","_renderItemContent","args","itemTitle","contentClass","templateProperty","defaultTemplateName","_attachItemTitleClickAction","deferred","index","push","indexOf","resolve","done","bind","container","appendTo","eventName","NAME","off","on","_itemTitleClickHandler","_itemDXEventHandler","addedSelection","removedSelection","_updateItems","_updateSelection","$items","each","_","eq","removeClass","skipAnimation","_animationTimer","setTimeout","_updateItemHeights","that","deferredAnimate","_deferredAnimate","itemHeight","_splitFreeSpace","_calculateFreeSpace","clearTimeout","slice","call","map","item","_updateItemHeight","resolveWith","$title","isAnimating","stop","startItemHeight","outerHeight","finalItemHeight","hasClass","_animateItem","startHeight","endHeight","fixedHeight","d","css","animate","from","to","duration","easing","not","freeSpace","$titles","itemsHeight","_visibilityChanged","visible","_dimensionChanged","_clean","_tryParseItemPropertyName","fullName","matches","match","_optionChanged","_invalidate","value","expandItem","selectItem","promise","collapseItem","unselectItem","updateDimensions"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/accordion.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport fx from \"../animation/fx\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../events/click\";\r\nimport devices from \"../core/devices\";\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    deferRender\r\n} from \"../core/utils/common\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport * as iteratorUtils from \"../core/utils/iterator\";\r\nimport {\r\n    isPlainObject,\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    addNamespace\r\n} from \"../events/utils/index\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.live_update\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../core/templates/bindable_template\";\r\nimport {\r\n    getImageContainer\r\n} from \"../core/utils/icon\";\r\nimport {\r\n    isMaterial\r\n} from \"./themes\";\r\nvar ACCORDION_CLASS = \"dx-accordion\";\r\nvar ACCORDION_WRAPPER_CLASS = \"dx-accordion-wrapper\";\r\nvar ACCORDION_ITEM_CLASS = \"dx-accordion-item\";\r\nvar ACCORDION_ITEM_OPENED_CLASS = \"dx-accordion-item-opened\";\r\nvar ACCORDION_ITEM_CLOSED_CLASS = \"dx-accordion-item-closed\";\r\nvar ACCORDION_ITEM_TITLE_CLASS = \"dx-accordion-item-title\";\r\nvar ACCORDION_ITEM_BODY_CLASS = \"dx-accordion-item-body\";\r\nvar ACCORDION_ITEM_TITLE_CAPTION_CLASS = \"dx-accordion-item-title-caption\";\r\nvar ACCORDION_ITEM_DATA_KEY = \"dxAccordionItemData\";\r\nvar Accordion = CollectionWidget.inherit({\r\n    _activeStateUnit: \".\" + ACCORDION_ITEM_CLASS,\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            hoverStateEnabled: true,\r\n            height: void 0,\r\n            itemTitleTemplate: \"title\",\r\n            onItemTitleClick: null,\r\n            selectedIndex: 0,\r\n            collapsible: false,\r\n            multiple: false,\r\n            animationDuration: 300,\r\n            deferRendering: true,\r\n            selectionByClick: true,\r\n            activeStateEnabled: true,\r\n            _itemAttributes: {\r\n                role: \"tab\"\r\n            },\r\n            _animationEasing: \"ease\"\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return isMaterial()\r\n            },\r\n            options: {\r\n                animationDuration: 200,\r\n                _animationEasing: \"cubic-bezier(0.4, 0, 0.2, 1)\"\r\n            }\r\n        }])\r\n    },\r\n    _itemElements: function() {\r\n        return this._itemContainer().children(this._itemSelector())\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.option(\"selectionRequired\", !this.option(\"collapsible\"));\r\n        this.option(\"selectionMode\", this.option(\"multiple\") ? \"multiple\" : \"single\");\r\n        var $element = this.$element();\r\n        $element.addClass(ACCORDION_CLASS);\r\n        this._$container = $(\"<div>\").addClass(ACCORDION_WRAPPER_CLASS);\r\n        $element.append(this._$container)\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            title: new BindableTemplate((function($container, data) {\r\n                if (isPlainObject(data)) {\r\n                    var $iconElement = getImageContainer(data.icon);\r\n                    if ($iconElement) {\r\n                        $container.append($iconElement)\r\n                    }\r\n                    if (isDefined(data.title) && !isPlainObject(data.title)) {\r\n                        $container.append(domAdapter.createTextNode(data.title))\r\n                    }\r\n                } else if (isDefined(data)) {\r\n                    $container.text(String(data))\r\n                }\r\n                $container.wrapInner($(\"<div>\").addClass(ACCORDION_ITEM_TITLE_CAPTION_CLASS))\r\n            }), [\"title\", \"icon\"], this.option(\"integrationOptions.watchMethod\"))\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this._deferredItems = [];\r\n        this.callBase();\r\n        this.setAria({\r\n            role: \"tablist\",\r\n            multiselectable: this.option(\"multiple\")\r\n        });\r\n        deferRender(() => {\r\n            var selectedItemIndices = this._getSelectedItemIndices();\r\n            this._renderSelection(selectedItemIndices, [])\r\n        })\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._updateItemHeightsWrapper(true)\r\n    },\r\n    _itemDataKey: function() {\r\n        return ACCORDION_ITEM_DATA_KEY\r\n    },\r\n    _itemClass: function() {\r\n        return ACCORDION_ITEM_CLASS\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$container\r\n    },\r\n    _itemTitles: function() {\r\n        return this._itemElements().find(\".\" + ACCORDION_ITEM_TITLE_CLASS)\r\n    },\r\n    _itemContents: function() {\r\n        return this._itemElements().find(\".\" + ACCORDION_ITEM_BODY_CLASS)\r\n    },\r\n    _getItemData: function(target) {\r\n        return $(target).parent().data(this._itemDataKey()) || this.callBase.apply(this, arguments)\r\n    },\r\n    _executeItemRenderAction: function(itemData) {\r\n        if (itemData.type) {\r\n            return\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _itemSelectHandler: function(e) {\r\n        if ($(e.target).closest(this._itemContents()).length) {\r\n            return\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _afterItemElementDeleted: function($item, deletedActionArgs) {\r\n        this._deferredItems.splice(deletedActionArgs.itemIndex, 1);\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _renderItemContent: function(args) {\r\n        var itemTitle = this.callBase(extend({}, args, {\r\n            contentClass: ACCORDION_ITEM_TITLE_CLASS,\r\n            templateProperty: \"titleTemplate\",\r\n            defaultTemplateName: this.option(\"itemTitleTemplate\")\r\n        }));\r\n        this._attachItemTitleClickAction(itemTitle);\r\n        var deferred = new Deferred;\r\n        if (isDefined(this._deferredItems[args.index])) {\r\n            this._deferredItems[args.index] = deferred\r\n        } else {\r\n            this._deferredItems.push(deferred)\r\n        }\r\n        if (!this.option(\"deferRendering\") || this._getSelectedItemIndices().indexOf(args.index) >= 0) {\r\n            deferred.resolve()\r\n        }\r\n        deferred.done(this.callBase.bind(this, extend({}, args, {\r\n            contentClass: ACCORDION_ITEM_BODY_CLASS,\r\n            container: getPublicElement($(\"<div>\").appendTo($(itemTitle).parent()))\r\n        })))\r\n    },\r\n    _attachItemTitleClickAction: function(itemTitle) {\r\n        var eventName = addNamespace(clickEventName, this.NAME);\r\n        eventsEngine.off(itemTitle, eventName);\r\n        eventsEngine.on(itemTitle, eventName, this._itemTitleClickHandler.bind(this))\r\n    },\r\n    _itemTitleClickHandler: function(e) {\r\n        this._itemDXEventHandler(e, \"onItemTitleClick\")\r\n    },\r\n    _renderSelection: function(addedSelection, removedSelection) {\r\n        this._itemElements().addClass(ACCORDION_ITEM_CLOSED_CLASS);\r\n        this.setAria(\"hidden\", true, this._itemContents());\r\n        this._updateItems(addedSelection, removedSelection)\r\n    },\r\n    _updateSelection: function(addedSelection, removedSelection) {\r\n        this._updateItems(addedSelection, removedSelection);\r\n        this._updateItemHeightsWrapper(false)\r\n    },\r\n    _updateItems: function(addedSelection, removedSelection) {\r\n        var $items = this._itemElements();\r\n        iteratorUtils.each(addedSelection, (_, index) => {\r\n            this._deferredItems[index].resolve();\r\n            var $item = $items.eq(index).addClass(ACCORDION_ITEM_OPENED_CLASS).removeClass(ACCORDION_ITEM_CLOSED_CLASS);\r\n            this.setAria(\"hidden\", false, $item.find(\".\" + ACCORDION_ITEM_BODY_CLASS))\r\n        });\r\n        iteratorUtils.each(removedSelection, (_, index) => {\r\n            var $item = $items.eq(index).removeClass(ACCORDION_ITEM_OPENED_CLASS);\r\n            this.setAria(\"hidden\", true, $item.find(\".\" + ACCORDION_ITEM_BODY_CLASS))\r\n        })\r\n    },\r\n    _updateItemHeightsWrapper: function(skipAnimation) {\r\n        if (this.option(\"templatesRenderAsynchronously\")) {\r\n            this._animationTimer = setTimeout(function() {\r\n                this._updateItemHeights(skipAnimation)\r\n            }.bind(this))\r\n        } else {\r\n            this._updateItemHeights(skipAnimation)\r\n        }\r\n    },\r\n    _updateItemHeights: function(skipAnimation) {\r\n        var that = this;\r\n        var deferredAnimate = that._deferredAnimate;\r\n        var itemHeight = this._splitFreeSpace(this._calculateFreeSpace());\r\n        clearTimeout(this._animationTimer);\r\n        return when.apply($, [].slice.call(this._itemElements()).map((function(item) {\r\n            return that._updateItemHeight($(item), itemHeight, skipAnimation)\r\n        }))).done((function() {\r\n            if (deferredAnimate) {\r\n                deferredAnimate.resolveWith(that)\r\n            }\r\n        }))\r\n    },\r\n    _updateItemHeight: function($item, itemHeight, skipAnimation) {\r\n        var $title = $item.children(\".\" + ACCORDION_ITEM_TITLE_CLASS);\r\n        if (fx.isAnimating($item)) {\r\n            fx.stop($item)\r\n        }\r\n        var startItemHeight = $item.outerHeight();\r\n        var finalItemHeight = $item.hasClass(ACCORDION_ITEM_OPENED_CLASS) ? itemHeight + $title.outerHeight() || $item.height(\"auto\").outerHeight() : $title.outerHeight();\r\n        return this._animateItem($item, startItemHeight, finalItemHeight, skipAnimation, !!itemHeight)\r\n    },\r\n    _animateItem: function($element, startHeight, endHeight, skipAnimation, fixedHeight) {\r\n        var d;\r\n        if (skipAnimation || startHeight === endHeight) {\r\n            $element.css(\"height\", endHeight);\r\n            d = (new Deferred).resolve()\r\n        } else {\r\n            d = fx.animate($element, {\r\n                type: \"custom\",\r\n                from: {\r\n                    height: startHeight\r\n                },\r\n                to: {\r\n                    height: endHeight\r\n                },\r\n                duration: this.option(\"animationDuration\"),\r\n                easing: this.option(\"_animationEasing\")\r\n            })\r\n        }\r\n        return d.done((function() {\r\n            if ($element.hasClass(ACCORDION_ITEM_OPENED_CLASS) && !fixedHeight) {\r\n                $element.css(\"height\", \"\")\r\n            }\r\n            $element.not(\".\" + ACCORDION_ITEM_OPENED_CLASS).addClass(ACCORDION_ITEM_CLOSED_CLASS)\r\n        }))\r\n    },\r\n    _splitFreeSpace: function(freeSpace) {\r\n        if (!freeSpace) {\r\n            return freeSpace\r\n        }\r\n        return freeSpace / this.option(\"selectedItems\").length\r\n    },\r\n    _calculateFreeSpace: function() {\r\n        var height = this.option(\"height\");\r\n        if (void 0 === height || \"auto\" === height) {\r\n            return\r\n        }\r\n        var $titles = this._itemTitles();\r\n        var itemsHeight = 0;\r\n        iteratorUtils.each($titles, (function(_, title) {\r\n            itemsHeight += $(title).outerHeight()\r\n        }));\r\n        return this.$element().height() - itemsHeight\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        this._updateItemHeights(true)\r\n    },\r\n    _clean: function() {\r\n        clearTimeout(this._animationTimer);\r\n        this.callBase()\r\n    },\r\n    _tryParseItemPropertyName: function(fullName) {\r\n        var matches = fullName.match(/.*\\.(.*)/);\r\n        if (isDefined(matches) && matches.length >= 1) {\r\n            return matches[1]\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"items\":\r\n                this.callBase(args);\r\n                if (\"title\" === this._tryParseItemPropertyName(args.fullName)) {\r\n                    this._renderSelection(this._getSelectedItemIndices(), [])\r\n                }\r\n                if (\"visible\" === this._tryParseItemPropertyName(args.fullName)) {\r\n                    this._updateItemHeightsWrapper(true)\r\n                }\r\n                break;\r\n            case \"animationDuration\":\r\n            case \"onItemTitleClick\":\r\n            case \"_animationEasing\":\r\n                break;\r\n            case \"collapsible\":\r\n                this.option(\"selectionRequired\", !this.option(\"collapsible\"));\r\n                break;\r\n            case \"itemTitleTemplate\":\r\n            case \"height\":\r\n            case \"deferRendering\":\r\n                this._invalidate();\r\n                break;\r\n            case \"multiple\":\r\n                this.option(\"selectionMode\", args.value ? \"multiple\" : \"single\");\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    expandItem: function(index) {\r\n        this._deferredAnimate = new Deferred;\r\n        this.selectItem(index);\r\n        return this._deferredAnimate.promise()\r\n    },\r\n    collapseItem: function(index) {\r\n        this._deferredAnimate = new Deferred;\r\n        this.unselectItem(index);\r\n        return this._deferredAnimate.promise()\r\n    },\r\n    updateDimensions: function() {\r\n        return this._updateItemHeights(false)\r\n    }\r\n});\r\nregisterComponent(\"dxAccordion\", Accordion);\r\nexport default Accordion;\r\n"]},"metadata":{},"sourceType":"module"}