{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/tree_list/ui.tree_list.rows.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport $ from \"../../core/renderer\";\nimport treeListCore from \"./ui.tree_list.core\";\nimport { rowsModule } from \"../grid_core/ui.grid_core.rows\";\nvar TREELIST_TEXT_CONTENT = \"dx-treelist-text-content\";\nvar TREELIST_EXPAND_ICON_CONTAINER_CLASS = \"dx-treelist-icon-container\";\nvar TREELIST_CELL_EXPANDABLE_CLASS = \"dx-treelist-cell-expandable\";\nvar TREELIST_EMPTY_SPACE = \"dx-treelist-empty-space\";\nvar TREELIST_EXPANDED_CLASS = \"dx-treelist-expanded\";\nvar TREELIST_COLLAPSED_CLASS = \"dx-treelist-collapsed\";\nexport var RowsView = rowsModule.views.rowsView.inherit(function () {\n  var createIcon = function createIcon(hasIcon, isExpanded) {\n    var $iconElement = $(\"<div>\").addClass(TREELIST_EMPTY_SPACE);\n\n    if (hasIcon) {\n      $iconElement.toggleClass(TREELIST_EXPANDED_CLASS, isExpanded).toggleClass(TREELIST_COLLAPSED_CLASS, !isExpanded).append($(\"<span>\"));\n    }\n\n    return $iconElement;\n  };\n\n  return {\n    _renderIconContainer: function _renderIconContainer($container, options) {\n      var _this = this;\n\n      var $iconContainer = $(\"<div>\").addClass(TREELIST_EXPAND_ICON_CONTAINER_CLASS).appendTo($container);\n      options.watch && options.watch(function () {\n        return [options.row.level, options.row.isExpanded, options.row.node.hasChildren];\n      }, function () {\n        $iconContainer.empty();\n\n        _this._renderIcons($iconContainer, options);\n      });\n      $container.addClass(TREELIST_CELL_EXPANDABLE_CLASS);\n      return this._renderIcons($iconContainer, options);\n    },\n    _renderIcons: function _renderIcons($iconContainer, options) {\n      var row = options.row;\n      var level = row.level;\n\n      for (var i = 0; i <= level; i++) {\n        $iconContainer.append(createIcon(i === level && row.node.hasChildren, row.isExpanded));\n      }\n\n      return $iconContainer;\n    },\n    _renderCellCommandContent: function _renderCellCommandContent(container, model) {\n      this._renderIconContainer(container, model);\n\n      return true;\n    },\n    _processTemplate: function _processTemplate(template, options) {\n      var that = this;\n      var resultTemplate;\n      var renderingTemplate = this.callBase(template);\n\n      var firstDataColumnIndex = that._columnsController.getFirstDataColumnIndex();\n\n      if (renderingTemplate && options.column.index === firstDataColumnIndex) {\n        resultTemplate = {\n          render: function render(options) {\n            var $container = options.container;\n\n            if (that._renderCellCommandContent($container, options.model)) {\n              options.container = function ($container) {\n                return $(\"<div>\").addClass(TREELIST_TEXT_CONTENT).appendTo($container);\n              }($container);\n            }\n\n            renderingTemplate.render(options);\n          }\n        };\n      } else {\n        resultTemplate = renderingTemplate;\n      }\n\n      return resultTemplate;\n    },\n    _updateCell: function _updateCell($cell, options) {\n      $cell = $cell.hasClass(TREELIST_TEXT_CONTENT) ? $cell.parent() : $cell;\n      this.callBase($cell, options);\n    },\n    _rowClick: function _rowClick(e) {\n      var dataController = this._dataController;\n      var $targetElement = $(e.event.target);\n      var isExpandIcon = this.isExpandIcon($targetElement);\n      var item = dataController && dataController.items()[e.rowIndex];\n\n      if (isExpandIcon && item) {\n        dataController.changeRowExpand(item.key);\n      }\n\n      this.callBase(e);\n    },\n    _createRow: function _createRow(row) {\n      var node = row && row.node;\n      var $rowElement = this.callBase.apply(this, arguments);\n\n      if (node) {\n        this.setAria(\"level\", row.level, $rowElement);\n\n        if (node.hasChildren) {\n          this.setAria(\"expanded\", row.isExpanded, $rowElement);\n        }\n      }\n\n      return $rowElement;\n    },\n    isExpandIcon: function isExpandIcon($targetElement) {\n      return !!$targetElement.closest(\".\" + TREELIST_EXPANDED_CLASS + \", .\" + TREELIST_COLLAPSED_CLASS).length;\n    }\n  };\n}());\ntreeListCore.registerModule(\"rows\", {\n  defaultOptions: rowsModule.defaultOptions,\n  views: {\n    rowsView: RowsView\n  }\n});","map":{"version":3,"sources":["C:/Users/user/source/repos/ReportingPortal/6.3.0/angular/node_modules/devextreme/esm/ui/tree_list/ui.tree_list.rows.js"],"names":["$","treeListCore","rowsModule","TREELIST_TEXT_CONTENT","TREELIST_EXPAND_ICON_CONTAINER_CLASS","TREELIST_CELL_EXPANDABLE_CLASS","TREELIST_EMPTY_SPACE","TREELIST_EXPANDED_CLASS","TREELIST_COLLAPSED_CLASS","RowsView","views","rowsView","inherit","createIcon","hasIcon","isExpanded","$iconElement","addClass","toggleClass","append","_renderIconContainer","$container","options","$iconContainer","appendTo","watch","row","level","node","hasChildren","empty","_renderIcons","i","_renderCellCommandContent","container","model","_processTemplate","template","that","resultTemplate","renderingTemplate","callBase","firstDataColumnIndex","_columnsController","getFirstDataColumnIndex","column","index","render","_updateCell","$cell","hasClass","parent","_rowClick","e","dataController","_dataController","$targetElement","event","target","isExpandIcon","item","items","rowIndex","changeRowExpand","key","_createRow","$rowElement","apply","arguments","setAria","closest","length","registerModule","defaultOptions"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/tree_list/ui.tree_list.rows.js)\r\n * Version: 21.1.3\r\n * Build date: Tue May 18 2021\r\n *\r\n * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport treeListCore from \"./ui.tree_list.core\";\r\nimport {\r\n    rowsModule\r\n} from \"../grid_core/ui.grid_core.rows\";\r\nvar TREELIST_TEXT_CONTENT = \"dx-treelist-text-content\";\r\nvar TREELIST_EXPAND_ICON_CONTAINER_CLASS = \"dx-treelist-icon-container\";\r\nvar TREELIST_CELL_EXPANDABLE_CLASS = \"dx-treelist-cell-expandable\";\r\nvar TREELIST_EMPTY_SPACE = \"dx-treelist-empty-space\";\r\nvar TREELIST_EXPANDED_CLASS = \"dx-treelist-expanded\";\r\nvar TREELIST_COLLAPSED_CLASS = \"dx-treelist-collapsed\";\r\nexport var RowsView = rowsModule.views.rowsView.inherit(function() {\r\n    var createIcon = function(hasIcon, isExpanded) {\r\n        var $iconElement = $(\"<div>\").addClass(TREELIST_EMPTY_SPACE);\r\n        if (hasIcon) {\r\n            $iconElement.toggleClass(TREELIST_EXPANDED_CLASS, isExpanded).toggleClass(TREELIST_COLLAPSED_CLASS, !isExpanded).append($(\"<span>\"))\r\n        }\r\n        return $iconElement\r\n    };\r\n    return {\r\n        _renderIconContainer: function($container, options) {\r\n            var $iconContainer = $(\"<div>\").addClass(TREELIST_EXPAND_ICON_CONTAINER_CLASS).appendTo($container);\r\n            options.watch && options.watch((function() {\r\n                return [options.row.level, options.row.isExpanded, options.row.node.hasChildren]\r\n            }), () => {\r\n                $iconContainer.empty();\r\n                this._renderIcons($iconContainer, options)\r\n            });\r\n            $container.addClass(TREELIST_CELL_EXPANDABLE_CLASS);\r\n            return this._renderIcons($iconContainer, options)\r\n        },\r\n        _renderIcons: function($iconContainer, options) {\r\n            var row = options.row;\r\n            var level = row.level;\r\n            for (var i = 0; i <= level; i++) {\r\n                $iconContainer.append(createIcon(i === level && row.node.hasChildren, row.isExpanded))\r\n            }\r\n            return $iconContainer\r\n        },\r\n        _renderCellCommandContent: function(container, model) {\r\n            this._renderIconContainer(container, model);\r\n            return true\r\n        },\r\n        _processTemplate: function(template, options) {\r\n            var that = this;\r\n            var resultTemplate;\r\n            var renderingTemplate = this.callBase(template);\r\n            var firstDataColumnIndex = that._columnsController.getFirstDataColumnIndex();\r\n            if (renderingTemplate && options.column.index === firstDataColumnIndex) {\r\n                resultTemplate = {\r\n                    render: function(options) {\r\n                        var $container = options.container;\r\n                        if (that._renderCellCommandContent($container, options.model)) {\r\n                            options.container = function($container) {\r\n                                return $(\"<div>\").addClass(TREELIST_TEXT_CONTENT).appendTo($container)\r\n                            }($container)\r\n                        }\r\n                        renderingTemplate.render(options)\r\n                    }\r\n                }\r\n            } else {\r\n                resultTemplate = renderingTemplate\r\n            }\r\n            return resultTemplate\r\n        },\r\n        _updateCell: function($cell, options) {\r\n            $cell = $cell.hasClass(TREELIST_TEXT_CONTENT) ? $cell.parent() : $cell;\r\n            this.callBase($cell, options)\r\n        },\r\n        _rowClick: function(e) {\r\n            var dataController = this._dataController;\r\n            var $targetElement = $(e.event.target);\r\n            var isExpandIcon = this.isExpandIcon($targetElement);\r\n            var item = dataController && dataController.items()[e.rowIndex];\r\n            if (isExpandIcon && item) {\r\n                dataController.changeRowExpand(item.key)\r\n            }\r\n            this.callBase(e)\r\n        },\r\n        _createRow: function(row) {\r\n            var node = row && row.node;\r\n            var $rowElement = this.callBase.apply(this, arguments);\r\n            if (node) {\r\n                this.setAria(\"level\", row.level, $rowElement);\r\n                if (node.hasChildren) {\r\n                    this.setAria(\"expanded\", row.isExpanded, $rowElement)\r\n                }\r\n            }\r\n            return $rowElement\r\n        },\r\n        isExpandIcon: function($targetElement) {\r\n            return !!$targetElement.closest(\".\" + TREELIST_EXPANDED_CLASS + \", .\" + TREELIST_COLLAPSED_CLASS).length\r\n        }\r\n    }\r\n}());\r\ntreeListCore.registerModule(\"rows\", {\r\n    defaultOptions: rowsModule.defaultOptions,\r\n    views: {\r\n        rowsView: RowsView\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}